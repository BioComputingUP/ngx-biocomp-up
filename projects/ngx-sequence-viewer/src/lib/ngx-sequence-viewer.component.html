<!-- Define container for index -->
<div class="index">
  @for (position of positions$ | async; track $index) {
    <div class="index-residue" 
      [id]="'index-residue-' + $index" 
      [style.background]="position?.background" 
      [style.color]="position?.color"
      (mouseenter)="onMouseEnter($event, index[$index])"
      (mousedown)="onMouseDown($event, index[$index])"
      (mouseup)="onMouseUp($event)"
    >
      {{ index[$index] }}
    </div>
  }
  <!-- @for (i of index; track $index) {
    <div class="index-residue" [id]="'index-residue-' + $index">{{ i }}</div>
  } -->
</div>
<!-- Define container for sequence -->
<div class="sequence">
  @for (c of sequence; track $index) {
    <div class="sequence-residue"
      [id]="'sequence-residue-' + $index"
      [style.background]="colors[c]['background'] || colors['-']['background']" 
      [style.color]="colors[c]['color'] || colors['-']['color']"
      (mouseenter)="onMouseEnter($event, index[$index])"
      (mousedown)="onMouseDown($event, index[$index])"
      (mouseup)="onMouseUp($event)"
    >
      {{ c }}
    </div>
  }
</div>