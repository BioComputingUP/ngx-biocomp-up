<div class="row mb-3">
  <!-- Left: adjacency list -->
  <div class="col-6">
    <!-- Title -->
    <h2>Interactions</h2>
    <!-- Example 1: coordinates are provided -->
    <div class="mb-3">
      <p class="mb-1">1. Provide atom coordinates</p>
      <!-- Show interaction `from`, `to` -->
      <div class="d-flex flex-row align-items-stretch gap-1">
        @if(interactions[0]['color']; as color) {
          <!-- Show interaction `color` -->
          <div class="d-block p-2" [style.background-color]="color"></div>
        }
        <!-- Show interaction `from` -->
        @if(interactions[0]['from']; as from) {
          <code class="d-block flex-1">
            <pre class="bg-body-tertiary p-3 m-0">{{
              { 'coordinates': from['coordinates'] } | json 
            }}</pre>
          </code>
        }
        <!-- Show interaction `to` -->
        @if(interactions[0]['to']; as to) {
          <code class="d-block flex-1">
            <pre class="bg-body-tertiary p-3 m-0">{{ 
              { 'coordinates': to['coordinates'] } | json 
            }}</pre>
          </code>
        }
      </div>
    </div>
    <!-- Example 2: atom identifiera are provided -->
    <div class="mb-3">
      <p class="mb-1">2. Provide atom identifier</p>
      <!-- Show interaction `from`, `to` -->
      <div class="d-flex flex-row align-items-stretch gap-1">
        <!-- Show interaction `color` -->
        @if(interactions[1]['color']; as color) {
          <div class="d-block p-2" [style.background-color]="color"></div>
        }
        <!-- Show interaction `from` -->
        @if(interactions[1]['from']; as from) {
          <code class="d-block flex-1">
            <pre class="bg-body-tertiary p-3 m-0">{{
              { 'atom.id': from['atom.id'] } | json 
            }}</pre>
          </code>
        }
        <!-- Show interaction `to` -->
        @if(interactions[1]['to']; as to) {
          <code class="d-block flex-1">
            <pre class="bg-body-tertiary p-3 m-0">{{ 
              { 'atom.id': to['atom.id'] } | json 
            }}</pre>
          </code>
        }
      </div>
    </div>
    <!-- Example 3: atom name, residue identifier, chain identifier are defined -->
    <div class="mb-3">
      <p class="mb-1">3. Provide chain, residue identifier and atom name</p>
      <!-- Show interaction `from`, `to` -->
      <div class="d-flex flex-row align-items-stretch gap-1">
        <!-- Show interaction `color` -->
        @if(interactions[2]['color']; as color) {
          <div class="d-block p-2" [style.background-color]="color"></div>
        }
        <!-- Show interaction `from` -->
        @if(interactions[2]['from']; as from) {
          <code class="d-block flex-1">
            <pre class="bg-body-tertiary p-3 m-0">{{
              { 'chain.id': from['chain.id'], 'residue.id': from['residue.id'], 'atom.id': from['atom.id'] } | json 
            }}</pre>
          </code>
        }
        <!-- Show interaction `to` -->
        @if(interactions[2]['to']; as to) {
          <code class="d-block flex-1">
            <pre class="bg-body-tertiary p-3 m-0">{{ 
              { 'chain.id': to['chain.id'], 'residue.id': to['residue.id'], 'atom.id': to['atom.id'] } | json 
            }}</pre>
          </code>
        }
      </div>
    </div>
  </div>
  <!-- Right: structure viewer-->
  <div class="col-6">
    <div class="rounded squared overflow-hidden bg-body-tertiary">
      @if (interactions$ | async; as interactions) {
        <ngx-structure-viewer [settings]="settings" [source]="source" [interactions]="interactions"></ngx-structure-viewer>
      }
    </div>
  </div>
</div>
