(self.webpackChunkdemo_showcase=self.webpackChunkdemo_showcase||[]).push([[876],{9876:(Zn,be,F)=>{"use strict";F.r(be),F.d(be,{PageStructureViewerComponent:()=>uh});var Le={};F.r(Le),F.d(Le,{boolean:()=>ge,booleanish:()=>gt,commaOrSpaceSeparated:()=>Wt,commaSeparated:()=>gi,number:()=>$,overloadedBoolean:()=>yl,spaceSeparated:()=>Qe});var Lt={};F.r(Lt),F.d(Lt,{attentionMarkers:()=>oa,contentInitial:()=>oc,disable:()=>la,document:()=>Er,flow:()=>Gp,flowInitial:()=>Qp,insideSpan:()=>So,string:()=>lc,text:()=>wo});var He=F(177),R=F(467),Nt=F(2771),mt=F(5964),Ue=F(9974),fe=F(4360),Te=F(8750),Ne=F(3669),Me=F(5343),qt=F(9326),xe=F(5558),xt=F(6648),Dt=F(9568),Pe=F(140),je=F(6354),z=F(9136),De=F(9767),jt=F(1073),ft=F(261),bt=F(4369),fn=F(9498),wt=F(190);function on(r){let e;return r=r.replace(/^#/,""),[e,r]=[r.slice(6,8),r.slice(0,6)],[wt.Q1.fromHexStyle("#"+r),1-+("0x"+(e||"ff"))/255]}var Xn=F(2802),jn=F(573),we=F(381),Q=F(8277),St=F(8384),Jn=F(2086),ee=F(9283),de=F(528);const Je=St.x.builderFactory("interactions")({name:"interactions",from:we.O.Root,to:we.O.Shape.Provider,params:{data:Q.t.Value(void 0,{isHidden:!1})}})({apply:({params:r})=>new we.O.Shape.Provider({label:"",data:r.data,params:ee.e.Params,geometryUtils:ee.e.Utils,getShape:(e,i)=>function Se(r){const e=jn.P.createState(512,512);for(let i=0;i<r.length;i++){const s=r[i];e.currentGroup=i;const l=Jn.e.distance(s.from,s.to),u=Math.floor(l/.33);(0,Xn.GH)(e,s.from,s.to,1,u,!0,{radialSegments:8,radiusTop:s.size,radiusBottom:s.size,topCap:!0,bottomCap:!0})}return de.y.create("",r,jn.P.getMesh(e),i=>r[i].color,()=>1,i=>r[i].label)}(i)},{label:""})});var W=F(4438),Zt=F(3286);let gn=(()=>{class r{constructor(){this.settings$=new Nt.m}set settings(i){this.settings$.next(this._settings=i)}get settings(){return this._settings}static#e=this.\u0275fac=function(s){return new(s||r)};static#t=this.\u0275prov=W.jDH({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();var _t=F(5621),p=F(9619),he=F(1395),Zr=F(9909),Z=F(1133);const fl=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wu=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Gs={};function Zs(r,e){return((e||Gs).jsx?wu:fl).test(r)}const Su=/[ \t\n\f\r]/g;function gl(r){return""===r.replace(Su,"")}class ur{constructor(e,i,s){this.property=e,this.normal=i,s&&(this.space=s)}}function Xs(r,e){const i={},s={};let l=-1;for(;++l<r.length;)Object.assign(i,r[l].property),Object.assign(s,r[l].normal);return new ur(i,s,e)}function cr(r){return r.toLowerCase()}ur.prototype.property={},ur.prototype.normal={},ur.prototype.space=null;class ln{constructor(e,i){this.property=e,this.attribute=i}}ln.prototype.space=null,ln.prototype.boolean=!1,ln.prototype.booleanish=!1,ln.prototype.overloadedBoolean=!1,ln.prototype.number=!1,ln.prototype.commaSeparated=!1,ln.prototype.spaceSeparated=!1,ln.prototype.commaOrSpaceSeparated=!1,ln.prototype.mustUseProperty=!1,ln.prototype.defined=!1;let Jr=0;const ge=ei(),gt=ei(),yl=ei(),$=ei(),Qe=ei(),gi=ei(),Wt=ei();function ei(){return 2**++Jr}const es=Object.keys(Le);class ts extends ln{constructor(e,i,s,l){let u=-1;if(super(e,i),Bi(this,"space",l),"number"==typeof s)for(;++u<es.length;){const c=es[u];Bi(this,es[u],(s&Le[c])===Le[c])}}}function Bi(r,e,i){i&&(r[e]=i)}ts.prototype.defined=!0;const pr={}.hasOwnProperty;function Hi(r){const e={},i={};let s;for(s in r.properties)if(pr.call(r.properties,s)){const l=r.properties[s],u=new ts(s,r.transform(r.attributes||{},s),l,r.space);r.mustUseProperty&&r.mustUseProperty.includes(s)&&(u.mustUseProperty=!0),e[s]=u,i[cr(s)]=s,i[cr(u.attribute)]=s}return new ur(e,i,r.space)}const vl=Hi({space:"xlink",transform:(r,e)=>"xlink:"+e.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xl=Hi({space:"xml",transform:(r,e)=>"xml:"+e.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function bl(r,e){return e in r?r[e]:e}function wl(r,e){return bl(r,e.toLowerCase())}const Js=Hi({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:wl,properties:{xmlns:null,xmlnsXLink:null}}),Sl=Hi({transform:(r,e)=>"role"===e?e:"aria-"+e.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:gt,ariaAutoComplete:null,ariaBusy:gt,ariaChecked:gt,ariaColCount:$,ariaColIndex:$,ariaColSpan:$,ariaControls:Qe,ariaCurrent:null,ariaDescribedBy:Qe,ariaDetails:null,ariaDisabled:gt,ariaDropEffect:Qe,ariaErrorMessage:null,ariaExpanded:gt,ariaFlowTo:Qe,ariaGrabbed:gt,ariaHasPopup:null,ariaHidden:gt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qe,ariaLevel:$,ariaLive:null,ariaModal:gt,ariaMultiLine:gt,ariaMultiSelectable:gt,ariaOrientation:null,ariaOwns:Qe,ariaPlaceholder:null,ariaPosInSet:$,ariaPressed:gt,ariaReadOnly:gt,ariaRelevant:null,ariaRequired:gt,ariaRoleDescription:Qe,ariaRowCount:$,ariaRowIndex:$,ariaRowSpan:$,ariaSelected:gt,ariaSetSize:$,ariaSort:null,ariaValueMax:$,ariaValueMin:$,ariaValueNow:$,ariaValueText:null,role:null}}),ns=Hi({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:wl,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gi,acceptCharset:Qe,accessKey:Qe,action:null,allow:null,allowFullScreen:ge,allowPaymentRequest:ge,allowUserMedia:ge,alt:null,as:null,async:ge,autoCapitalize:null,autoComplete:Qe,autoFocus:ge,autoPlay:ge,blocking:Qe,capture:null,charSet:null,checked:ge,cite:null,className:Qe,cols:$,colSpan:null,content:null,contentEditable:gt,controls:ge,controlsList:Qe,coords:$|gi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ge,defer:ge,dir:null,dirName:null,disabled:ge,download:yl,draggable:gt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ge,formTarget:null,headers:Qe,height:$,hidden:ge,high:$,href:null,hrefLang:null,htmlFor:Qe,httpEquiv:Qe,id:null,imageSizes:null,imageSrcSet:null,inert:ge,inputMode:null,integrity:null,is:null,isMap:ge,itemId:null,itemProp:Qe,itemRef:Qe,itemScope:ge,itemType:Qe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ge,low:$,manifest:null,max:null,maxLength:$,media:null,method:null,min:null,minLength:$,multiple:ge,muted:ge,name:null,nonce:null,noModule:ge,noValidate:ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ge,optimum:$,pattern:null,ping:Qe,placeholder:null,playsInline:ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ge,referrerPolicy:null,rel:Qe,required:ge,reversed:ge,rows:$,rowSpan:$,sandbox:Qe,scope:null,scoped:ge,seamless:ge,selected:ge,shadowRootClonable:ge,shadowRootDelegatesFocus:ge,shadowRootMode:null,shape:null,size:$,sizes:null,slot:null,span:$,spellCheck:gt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$,step:null,style:null,tabIndex:$,target:null,title:null,translate:null,type:null,typeMustMatch:ge,useMap:null,value:gt,width:$,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qe,axis:null,background:null,bgColor:null,border:$,borderColor:null,bottomMargin:$,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ge,declare:ge,event:null,face:null,frame:null,frameBorder:null,hSpace:$,leftMargin:$,link:null,longDesc:null,lowSrc:null,marginHeight:$,marginWidth:$,noResize:ge,noHref:ge,noShade:ge,noWrap:ge,object:null,profile:null,prompt:null,rev:null,rightMargin:$,rules:null,scheme:null,scrolling:gt,standby:null,summary:null,text:null,topMargin:$,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ge,disableRemotePlayback:ge,prefix:null,property:null,results:$,security:null,unselectable:null}}),kl=Hi({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:bl,properties:{about:Wt,accentHeight:$,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$,amplitude:$,arabicForm:null,ascent:$,attributeName:null,attributeType:null,azimuth:$,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$,by:null,calcMode:null,capHeight:$,className:Qe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$,diffuseConstant:$,direction:null,display:null,dur:null,divisor:$,dominantBaseline:null,download:ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:$,enableBackground:null,end:null,event:null,exponent:$,externalResourcesRequired:null,fill:null,fillOpacity:$,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gi,g2:gi,glyphName:gi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$,horizOriginX:$,horizOriginY:$,id:null,ideographic:$,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$,k:$,k1:$,k2:$,k3:$,k4:$,kernelMatrix:Wt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$,overlineThickness:$,paintOrder:null,panose1:null,path:null,pathLength:$,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$,pointsAtY:$,pointsAtZ:$,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wt,rev:Wt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wt,requiredFeatures:Wt,requiredFonts:Wt,requiredFormats:Wt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$,specularExponent:$,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$,strikethroughThickness:$,string:null,stroke:null,strokeDashArray:Wt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$,strokeOpacity:$,strokeWidth:null,style:null,surfaceScale:$,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wt,tabIndex:$,tableValues:null,target:null,targetX:$,targetY:$,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$,underlineThickness:$,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$,values:null,vAlphabetic:$,vMathematical:$,vectorEffect:null,vHanging:$,vIdeographic:$,version:null,vertAdvY:$,vertOriginX:$,vertOriginY:$,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),is=Xs([xl,vl,Js,Sl,ns],"html"),Cl=Xs([xl,vl,Js,Sl,kl],"svg"),rs=/^data[-\w.:]+$/i,ss=/-[a-z]/g,eo=/[A-Z]/g;function sp(r){return"-"+r.toLowerCase()}function op(r){return r.charAt(1).toUpperCase()}const lp={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var El=F(5390);const ap=El.default||El,Al=Il("end"),to=Il("start");function Il(r){return function e(i){const s=i&&i.position&&i.position[r]||{};if("number"==typeof s.line&&s.line>0&&"number"==typeof s.column&&s.column>0)return{line:s.line,column:s.column,offset:"number"==typeof s.offset&&s.offset>-1?s.offset:void 0}}}function os(r){return r&&"object"==typeof r?"position"in r||"type"in r?at(r.position):"start"in r||"end"in r?at(r):"line"in r||"column"in r?Tl(r):"":""}function Tl(r){return Eu(r&&r.line)+":"+Eu(r&&r.column)}function at(r){return Tl(r&&r.start)+"-"+Tl(r&&r.end)}function Eu(r){return r&&"number"==typeof r?r:1}class Et extends Error{constructor(e,i,s){super(),"string"==typeof i&&(s=i,i=void 0);let l="",u={},c=!1;if(i&&(u="line"in i&&"column"in i||"start"in i&&"end"in i?{place:i}:"type"in i?{ancestors:[i],place:i.position}:{...i}),"string"==typeof e?l=e:!u.cause&&e&&(c=!0,l=e.message,u.cause=e),!u.ruleId&&!u.source&&"string"==typeof s){const f=s.indexOf(":");-1===f?u.ruleId=s:(u.source=s.slice(0,f),u.ruleId=s.slice(f+1))}if(!u.place&&u.ancestors&&u.ancestors){const f=u.ancestors[u.ancestors.length-1];f&&(u.place=f.position)}const h=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.message=l,this.line=h?h.line:void 0,this.name=os(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&"string"==typeof u.cause.stack?u.cause.stack:""}}Et.prototype.file="",Et.prototype.name="",Et.prototype.reason="",Et.prototype.message="",Et.prototype.stack="",Et.prototype.column=void 0,Et.prototype.line=void 0,Et.prototype.ancestors=void 0,Et.prototype.cause=void 0,Et.prototype.fatal=void 0,Et.prototype.place=void 0,Et.prototype.ruleId=void 0,Et.prototype.source=void 0;const no={}.hasOwnProperty,io=new Map,up=/[A-Z]/g,Au=/-([a-z])/g,ro=new Set(["table","tbody","thead","tfoot","tr"]),Un=new Set(["td","th"]),Iu="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Tu(r,e,i){return"element"===e.type?function cp(r,e,i){const s=r.schema;let l=s;"svg"===e.tagName.toLowerCase()&&"html"===s.space&&(l=Cl,r.schema=l),r.ancestors.push(e);const u=zl(r,e.tagName,!1),c=function Nl(r,e){const i={};let s,l;for(l in e.properties)if("children"!==l&&no.call(e.properties,l)){const u=Dl(r,l,e.properties[l]);if(u){const[c,h]=u;r.tableCellAlignToStyle&&"align"===c&&"string"==typeof h&&Un.has(e.tagName)?s=h:i[c]=h}}return s&&((i.style||(i.style={}))["css"===r.stylePropertyNameCase?"text-align":"textAlign"]=s),i}(r,e);let h=Ml(r,e);return ro.has(e.tagName)&&(h=h.filter(function(f){return"string"!=typeof f||!function ku(r){return"object"==typeof r?"text"===r.type&&gl(r.value):gl(r)}(f)})),Pu(r,c,u,e),Pl(c,h),r.ancestors.pop(),r.schema=s,r.create(e,u,c,i)}(r,e,i):"mdxFlowExpression"===e.type||"mdxTextExpression"===e.type?function pp(r,e){if(e.data&&e.data.estree&&r.evaluater){return r.evaluater.evaluateExpression(e.data.estree.body[0].expression)}hr(r,e.position)}(r,e):"mdxJsxFlowElement"===e.type||"mdxJsxTextElement"===e.type?function oo(r,e,i){const s=r.schema;let l=s;"svg"===e.name&&"html"===s.space&&(l=Cl,r.schema=l),r.ancestors.push(e);const u=null===e.name?r.Fragment:zl(r,e.name,!0),c=function as(r,e){const i={};for(const s of e.attributes)if("mdxJsxExpressionAttribute"===s.type)if(s.data&&s.data.estree&&r.evaluater){Object.assign(i,r.evaluater.evaluateExpression(s.data.estree.body[0].expression.properties[0].argument))}else hr(r,e.position);else{const l=s.name;let u;if(s.value&&"object"==typeof s.value)if(s.value.data&&s.value.data.estree&&r.evaluater){u=r.evaluater.evaluateExpression(s.value.data.estree.body[0].expression)}else hr(r,e.position);else u=null===s.value||s.value;i[l]=u}return i}(r,e),h=Ml(r,e);return Pu(r,c,u,e),Pl(c,h),r.ancestors.pop(),r.schema=s,r.create(e,u,c,i)}(r,e,i):"mdxjsEsm"===e.type?function so(r,e){if(e.data&&e.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(e.data.estree);hr(r,e.position)}(r,e):"root"===e.type?function ls(r,e,i){const s={};return Pl(s,Ml(r,e)),r.create(e,r.Fragment,s,i)}(r,e,i):"text"===e.type?function lo(r,e){return e.value}(0,e):void 0}function Pu(r,e,i,s){"string"!=typeof i&&i!==r.Fragment&&r.passNode&&(e.node=s)}function Pl(r,e){if(e.length>0){const i=e.length>1?e:e[0];i&&(r.children=i)}}function Ml(r,e){const i=[];let s=-1;const l=r.passKeys?new Map:io;for(;++s<e.children.length;){const u=e.children[s];let c;if(r.passKeys){const f="element"===u.type?u.tagName:"mdxJsxFlowElement"===u.type||"mdxJsxTextElement"===u.type?u.name:void 0;if(f){const y=l.get(f)||0;c=f+"-"+y,l.set(f,y+1)}}const h=Tu(r,u,c);void 0!==h&&i.push(h)}return i}function Dl(r,e,i){const s=function jl(r,e){const i=cr(e);let s=e,l=ln;if(i in r.normal)return r.property[r.normal[i]];if(i.length>4&&"data"===i.slice(0,4)&&rs.test(e)){if("-"===e.charAt(4)){const u=e.slice(5).replace(ss,op);s="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!ss.test(u)){let c=u.replace(eo,sp);"-"!==c.charAt(0)&&(c="-"+c),e="data"+c}}l=ts}return new l(s,e)}(r.schema,e);if(!(null==i||"number"==typeof i&&Number.isNaN(i))){if(Array.isArray(i)&&(i=s.commaSeparated?function Qs(r,e){const i=e||{};return(""===r[r.length-1]?[...r,""]:r).join((i.padRight?" ":"")+","+(!1===i.padLeft?"":" ")).trim()}(i):function Cu(r){return r.join(" ").trim()}(i)),"style"===s.property){let l="object"==typeof i?i:function Ve(r,e){const i={};try{ap(e,function s(l,u){let c=l;"--"!==c.slice(0,2)&&("-ms-"===c.slice(0,4)&&(c="ms-"+c.slice(4)),c=c.replace(Au,Mu)),i[c]=u})}catch(l){if(!r.ignoreInvalidStyle){const c=new Et("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=r.filePath||void 0,c.url=Iu+"#cannot-parse-style-attribute",c}}return i}(r,String(i));return"css"===r.stylePropertyNameCase&&(l=function Ol(r){const e={};let i;for(i in r)no.call(r,i)&&(e[Nu(i)]=r[i]);return e}(l)),["style",l]}return["react"===r.elementAttributeNameCase&&s.space?lp[s.property]||s.property:s.attribute,i]}}function zl(r,e,i){let s;if(i)if(e.includes(".")){const l=e.split(".");let c,u=-1;for(;++u<l.length;){const h=Zs(l[u])?{type:"Identifier",name:l[u]}:{type:"Literal",value:l[u]};c=c?{type:"MemberExpression",object:c,property:h,computed:!(!u||"Literal"!==h.type),optional:!1}:h}s=c}else s=Zs(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};else s={type:"Literal",value:e};if("Literal"===s.type){const l=s.value;return no.call(r.components,l)?r.components[l]:l}if(r.evaluater)return r.evaluater.evaluateExpression(s);hr(r)}function hr(r,e){const i=new Et("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=r.filePath||void 0,i.url=Iu+"#cannot-handle-mdx-estrees-without-createevaluater",i}function Nu(r){let e=r.replace(up,Du);return"ms-"===e.slice(0,3)&&(e="-"+e),e}function Mu(r,e){return e.toUpperCase()}function Du(r){return"-"+r.toLowerCase()}const us={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ao={};function ti(r,e,i){if(function cs(r){return!(!r||"object"!=typeof r)}(r)){if("value"in r)return"html"!==r.type||i?r.value:"";if(e&&"alt"in r&&r.alt)return r.alt;if("children"in r)return ni(r.children,e,i)}return Array.isArray(r)?ni(r,e,i):""}function ni(r,e,i){const s=[];let l=-1;for(;++l<r.length;)s[l]=ti(r[l],e,i);return s.join("")}function an(r,e,i,s){const l=r.length;let c,u=0;if(e=e<0?-e>l?0:l+e:e>l?l:e,i=i>0?i:0,s.length<1e4)c=Array.from(s),c.unshift(e,i),r.splice(...c);else for(i&&r.splice(e,i);u<s.length;)c=s.slice(u,u+1e4),c.unshift(e,0),r.splice(...c),u+=1e4,e+=1e4}function kt(r,e){return r.length>0?(an(r,r.length,0,e),r):e}class dp{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,i){const s=i??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,i,s){const l=i||0;this.setCursor(Math.trunc(e));const u=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return s&&mr(this.left,s),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),mr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),mr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const i=this.left.splice(e,Number.POSITIVE_INFINITY);mr(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);mr(this.left,i.reverse())}}}function mr(r,e){let i=0;if(e.length<1e4)r.push(...e);else for(;i<e.length;)r.push(...e.slice(i,i+1e4)),i+=1e4}function fr(r){const e={};let s,l,u,c,h,f,y,i=-1;const g=new dp(r);for(;++i<g.length;){for(;i in e;)i=e[i];if(s=g.get(i),i&&"chunkFlow"===s[1].type&&"listItemPrefix"===g.get(i-1)[1].type&&(f=s[1]._tokenizer.events,u=0,u<f.length&&"lineEndingBlank"===f[u][1].type&&(u+=2),u<f.length&&"content"===f[u][1].type))for(;++u<f.length&&"content"!==f[u][1].type;)"chunkText"===f[u][1].type&&(f[u][1]._isInFirstContentOfListItem=!0,u++);if("enter"===s[0])s[1].contentType&&(Object.assign(e,hp(g,i)),i=e[i],y=!0);else if(s[1]._container){for(u=i,l=void 0;u--&&(c=g.get(u),"lineEnding"===c[1].type||"lineEndingBlank"===c[1].type);)"enter"===c[0]&&(l&&(g.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=u);l&&(s[1].end=Object.assign({},g.get(l)[1].start),h=g.slice(l,i),h.unshift(s),g.splice(l,i-l+1,h))}}return an(r,0,Number.POSITIVE_INFINITY,g.slice(0)),!y}function hp(r,e){const i=r.get(e)[1],s=r.get(e)[2];let l=e-1;const u=[],c=i._tokenizer||s.parser[i.contentType](i.start),h=c.events,f=[],y={};let g,x,w=-1,b=i,C=0,N=0;const V=[N];for(;b;){for(;r.get(++l)[1]!==b;);u.push(l),b._tokenizer||(g=s.sliceStream(b),b.next||g.push(null),x&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),x=b,b=b.next}for(b=i;++w<h.length;)"exit"===h[w][0]&&"enter"===h[w-1][0]&&h[w][1].type===h[w-1][1].type&&h[w][1].start.line!==h[w][1].end.line&&(N=w+1,V.push(N),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):V.pop(),w=V.length;w--;){const D=h.slice(V[w],V[w+1]),O=u.pop();f.push([O,O+D.length-1]),r.splice(O,2,D)}for(f.reverse(),w=-1;++w<f.length;)y[C+f[w][0]]=C+f[w][1],C+=f[w][1]-f[w][0]-1;return y}const gr={}.hasOwnProperty;function mp(r,e){let i;for(i in e){const l=(gr.call(r,i)?r[i]:void 0)||(r[i]={}),u=e[i];let c;if(u)for(c in u){gr.call(l,c)||(l[c]=[]);const h=u[c];ps(l[c],Array.isArray(h)?h:h?[h]:[])}}}function ps(r,e){let i=-1;const s=[];for(;++i<e.length;)("after"===e[i].add?r:s).push(e[i]);an(r,0,0,s)}const un=An(/[A-Za-z]/),cn=An(/[\dA-Za-z]/),fp=An(/[#-'*+\--9=?A-Z^-~]/);function ds(r){return null!==r&&(r<32||127===r)}const vr=An(/\d/),Rl=An(/[\dA-Fa-f]/),Ru=An(/[!-/:-@[-`{-~]/);function le(r){return null!==r&&r<-2}function Rt(r){return null!==r&&(r<0||32===r)}function ze(r){return-2===r||-1===r||32===r}const Fu=An(new RegExp("\\p{P}|\\p{S}","u")),co=An(/\s/);function An(r){return function e(i){return null!==i&&i>-1&&r.test(String.fromCharCode(i))}}function We(r,e,i,s){const l=s?s-1:Number.POSITIVE_INFINITY;let u=0;return function c(f){return ze(f)?(r.enter(i),h(f)):e(f)};function h(f){return ze(f)&&u++<l?(r.consume(f),h):(r.exit(i),e(f))}}const pn={tokenize:function xr(r){const e=r.attempt(this.parser.constructs.contentInitial,function s(h){if(null!==h)return r.enter("lineEnding"),r.consume(h),r.exit("lineEnding"),We(r,e,"linePrefix");r.consume(h)},function l(h){return r.enter("paragraph"),u(h)});let i;return e;function u(h){const f=r.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=f),i=f,c(h)}function c(h){return null===h?(r.exit("chunkText"),r.exit("paragraph"),void r.consume(h)):le(h)?(r.consume(h),r.exit("chunkText"),u):(r.consume(h),c)}}},Fl={tokenize:function gp(r){const e=this,i=[];let l,u,c,s=0;return h;function h(B){if(s<i.length){const X=i[s];return e.containerState=X[1],r.attempt(X[0].continuation,f,y)(B)}return y(B)}function f(B){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&O();const X=e.events.length;let H,ae=X;for(;ae--;)if("exit"===e.events[ae][0]&&"chunkFlow"===e.events[ae][1].type){H=e.events[ae][1].end;break}D(s);let ve=X;for(;ve<e.events.length;)e.events[ve][1].end=Object.assign({},H),ve++;return an(e.events,ae+1,0,e.events.slice(X)),e.events.length=ve,y(B)}return h(B)}function y(B){if(s===i.length){if(!l)return w(B);if(l.currentConstruct&&l.currentConstruct.concrete)return C(B);e.interrupt=!(!l.currentConstruct||l._gfmTableDynamicInterruptHack)}return e.containerState={},r.check(br,g,x)(B)}function g(B){return l&&O(),D(s),w(B)}function x(B){return e.parser.lazy[e.now().line]=s!==i.length,c=e.now().offset,C(B)}function w(B){return e.containerState={},r.attempt(br,b,C)(B)}function b(B){return s++,i.push([e.currentConstruct,e.containerState]),w(B)}function C(B){return null===B?(l&&O(),D(0),void r.consume(B)):(l=l||e.parser.flow(e.now()),r.enter("chunkFlow",{contentType:"flow",previous:u,_tokenizer:l}),N(B))}function N(B){return null===B?(V(r.exit("chunkFlow"),!0),D(0),void r.consume(B)):le(B)?(r.consume(B),V(r.exit("chunkFlow")),s=0,e.interrupt=void 0,h):(r.consume(B),N)}function V(B,X){const ae=e.sliceStream(B);if(X&&ae.push(null),B.previous=u,u&&(u.next=B),u=B,l.defineSkip(B.start),l.write(ae),e.parser.lazy[B.start.line]){let H=l.events.length;for(;H--;)if(l.events[H][1].start.offset<c&&(!l.events[H][1].end||l.events[H][1].end.offset>c))return;const ve=e.events.length;let Ae,Ze,Fe=ve;for(;Fe--;)if("exit"===e.events[Fe][0]&&"chunkFlow"===e.events[Fe][1].type){if(Ae){Ze=e.events[Fe][1].end;break}Ae=!0}for(D(s),H=ve;H<e.events.length;)e.events[H][1].end=Object.assign({},Ze),H++;an(e.events,Fe+1,0,e.events.slice(ve)),e.events.length=H}}function D(B){let X=i.length;for(;X-- >B;){const ae=i[X];e.containerState=ae[1],ae[0].exit.call(e,r)}i.length=B}function O(){l.write([null]),u=void 0,l=void 0,e.containerState._closeFlow=void 0}}},br={tokenize:function Bl(r,e,i){return We(r,r.attempt(this.parser.constructs.document,e,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},wr={tokenize:function hs(r,e,i){return function s(u){return ze(u)?We(r,l,"linePrefix")(u):l(u)};function l(u){return null===u||le(u)?e(u):i(u)}},partial:!0},po={tokenize:function vp(r,e){let i;return function s(h){return r.enter("content"),i=r.enter("chunkContent",{contentType:"content"}),l(h)};function l(h){return null===h?u(h):le(h)?r.check(Bu,c,u)(h):(r.consume(h),l)}function u(h){return r.exit("chunkContent"),r.exit("content"),e(h)}function c(h){return r.consume(h),r.exit("chunkContent"),i.next=r.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}},resolve:function yp(r){return fr(r),r}},Bu={tokenize:function xp(r,e,i){const s=this;return function l(c){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),We(r,u,"linePrefix")};function u(c){if(null===c||le(c))return i(c);const h=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&h&&"linePrefix"===h[1].type&&h[2].sliceSerialize(h[1],!0).length>=4?e(c):r.interrupt(s.parser.constructs.flow,i,e)(c)}},partial:!0},Hl={tokenize:function bp(r){const e=this,i=r.attempt(wr,function s(u){if(null!==u)return r.enter("lineEndingBlank"),r.consume(u),r.exit("lineEndingBlank"),e.currentConstruct=void 0,i;r.consume(u)},r.attempt(this.parser.constructs.flowInitial,l,We(r,r.attempt(this.parser.constructs.flow,l,r.attempt(po,l)),"linePrefix")));return i;function l(u){if(null!==u)return r.enter("lineEnding"),r.consume(u),r.exit("lineEnding"),e.currentConstruct=void 0,i;r.consume(u)}}},wp={resolveAll:Ul()},Sp=Hu("string"),kp=Hu("text");function Hu(r){return{tokenize:function e(i){const s=this,l=this.parser.constructs[r],u=i.attempt(l,c,h);return c;function c(g){return y(g)?u(g):h(g)}function h(g){if(null!==g)return i.enter("data"),i.consume(g),f;i.consume(g)}function f(g){return y(g)?(i.exit("data"),u(g)):(i.consume(g),f)}function y(g){if(null===g)return!0;const x=l[g];let w=-1;if(x)for(;++w<x.length;){const b=x[w];if(!b.previous||b.previous.call(s,s.previous))return!0}return!1}},resolveAll:Ul("text"===r?Cp:void 0)}}function Ul(r){return function e(i,s){let u,l=-1;for(;++l<=i.length;)void 0===u?i[l]&&"data"===i[l][1].type&&(u=l,l++):(!i[l]||"data"!==i[l][1].type)&&(l!==u+2&&(i[u][1].end=i[l-1][1].end,i.splice(u+2,l-u-2),l=u+2),u=void 0);return r?r(i,s):i}}function Cp(r,e){let i=0;for(;++i<=r.length;)if((i===r.length||"lineEnding"===r[i][1].type)&&"data"===r[i-1][1].type){const s=r[i-1][1],l=e.sliceStream(s);let f,u=l.length,c=-1,h=0;for(;u--;){const y=l[u];if("string"==typeof y){for(c=y.length;32===y.charCodeAt(c-1);)h++,c--;if(c)break;c=-1}else if(-2===y)f=!0,h++;else if(-1!==y){u++;break}}if(h){const y={type:i===r.length||f||h<2?"lineSuffix":"hardBreakTrailing",start:{line:s.end.line,column:s.end.column-h,offset:s.end.offset-h,_index:s.start._index+u,_bufferIndex:u?c:s.start._bufferIndex+c},end:Object.assign({},s.end)};s.end=Object.assign({},y.start),s.start.offset===s.end.offset?Object.assign(s,y):(r.splice(i,0,["enter",y,e],["exit",y,e]),i+=2)}i++}return r}function Vl(r,e,i){const s=[];let l=-1;for(;++l<r.length;){const u=r[l].resolveAll;u&&!s.includes(u)&&(e=u(e,i),s.push(u))}return e}const ho={name:"thematicBreak",tokenize:function Ap(r,e,i){let l,s=0;return function u(y){return r.enter("thematicBreak"),function c(y){return l=y,h(y)}(y)};function h(y){return y===l?(r.enter("thematicBreakSequence"),f(y)):s>=3&&(null===y||le(y))?(r.exit("thematicBreak"),e(y)):i(y)}function f(y){return y===l?(r.consume(y),s++,f):(r.exit("thematicBreakSequence"),ze(y)?We(r,h,"whitespace")(y):h(y))}}},Xt={name:"list",tokenize:function Tp(r,e,i){const s=this,l=s.events[s.events.length-1];let u=l&&"linePrefix"===l[1].type?l[2].sliceSerialize(l[1],!0).length:0,c=0;return function h(b){const C=s.containerState.type||(42===b||43===b||45===b?"listUnordered":"listOrdered");if("listUnordered"===C?!s.containerState.marker||b===s.containerState.marker:vr(b)){if(s.containerState.type||(s.containerState.type=C,r.enter(C,{_container:!0})),"listUnordered"===C)return r.enter("listItemPrefix"),42===b||45===b?r.check(ho,i,y)(b):y(b);if(!s.interrupt||49===b)return r.enter("listItemPrefix"),r.enter("listItemValue"),f(b)}return i(b)};function f(b){return vr(b)&&++c<10?(r.consume(b),f):(!s.interrupt||c<2)&&(s.containerState.marker?b===s.containerState.marker:41===b||46===b)?(r.exit("listItemValue"),y(b)):i(b)}function y(b){return r.enter("listItemMarker"),r.consume(b),r.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||b,r.check(wr,s.interrupt?i:g,r.attempt(Uu,w,x))}function g(b){return s.containerState.initialBlankLine=!0,u++,w(b)}function x(b){return ze(b)?(r.enter("listItemPrefixWhitespace"),r.consume(b),r.exit("listItemPrefixWhitespace"),w):i(b)}function w(b){return s.containerState.size=u+s.sliceSerialize(r.exit("listItemPrefix"),!0).length,e(b)}},continuation:{tokenize:function Pp(r,e,i){const s=this;return s.containerState._closeFlow=void 0,r.check(wr,function l(h){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,We(r,e,"listItemIndent",s.containerState.size+1)(h)},function u(h){return s.containerState.furtherBlankLines||!ze(h)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,c(h)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,r.attempt(Ip,e,c)(h))});function c(h){return s.containerState._closeFlow=!0,s.interrupt=void 0,We(r,r.attempt(Xt,e,i),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}},exit:function Np(r){r.exit(this.containerState.type)}},Uu={tokenize:function Mp(r,e,i){const s=this;return We(r,function l(u){const c=s.events[s.events.length-1];return!ze(u)&&c&&"listItemPrefixWhitespace"===c[1].type?e(u):i(u)},"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Ip={tokenize:function Lp(r,e,i){const s=this;return We(r,function l(u){const c=s.events[s.events.length-1];return c&&"listItemIndent"===c[1].type&&c[2].sliceSerialize(c[1],!0).length===s.containerState.size?e(u):i(u)},"listItemIndent",s.containerState.size+1)},partial:!0},Vu={name:"blockQuote",tokenize:function _l(r,e,i){const s=this;return function l(c){if(62===c){const h=s.containerState;return h.open||(r.enter("blockQuote",{_container:!0}),h.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(c),r.exit("blockQuoteMarker"),u}return i(c)};function u(c){return ze(c)?(r.enter("blockQuotePrefixWhitespace"),r.consume(c),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),e):(r.exit("blockQuotePrefix"),e(c))}},continuation:{tokenize:function ms(r,e,i){const s=this;return function l(c){return ze(c)?We(r,u,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)};function u(c){return r.attempt(Vu,e,i)(c)}}},exit:function Dp(r){r.exit("blockQuote")}};function Wl(r,e,i,s,l,u,c,h,f){const y=f||Number.POSITIVE_INFINITY;let g=0;return function x(D){return 60===D?(r.enter(s),r.enter(l),r.enter(u),r.consume(D),r.exit(u),w):null===D||32===D||41===D||ds(D)?i(D):(r.enter(s),r.enter(c),r.enter(h),r.enter("chunkString",{contentType:"string"}),N(D))};function w(D){return 62===D?(r.enter(u),r.consume(D),r.exit(u),r.exit(l),r.exit(s),e):(r.enter(h),r.enter("chunkString",{contentType:"string"}),b(D))}function b(D){return 62===D?(r.exit("chunkString"),r.exit(h),w(D)):null===D||60===D||le(D)?i(D):(r.consume(D),92===D?C:b)}function C(D){return 60===D||62===D||92===D?(r.consume(D),b):b(D)}function N(D){return g||null!==D&&41!==D&&!Rt(D)?g<y&&40===D?(r.consume(D),g++,N):41===D?(r.consume(D),g--,N):null===D||32===D||40===D||ds(D)?i(D):(r.consume(D),92===D?V:N):(r.exit("chunkString"),r.exit(h),r.exit(c),r.exit(s),e(D))}function V(D){return 40===D||41===D||92===D?(r.consume(D),N):N(D)}}function Kl(r,e,i,s,l,u){const c=this;let f,h=0;return function y(b){return r.enter(s),r.enter(l),r.consume(b),r.exit(l),r.enter(u),g};function g(b){return h>999||null===b||91===b||93===b&&!f||94===b&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?i(b):93===b?(r.exit(u),r.enter(l),r.consume(b),r.exit(l),r.exit(s),e):le(b)?(r.enter("lineEnding"),r.consume(b),r.exit("lineEnding"),g):(r.enter("chunkString",{contentType:"string"}),x(b))}function x(b){return null===b||91===b||93===b||le(b)||h++>999?(r.exit("chunkString"),g(b)):(r.consume(b),f||(f=!ze(b)),92===b?w:x)}function w(b){return 91===b||92===b||93===b?(r.consume(b),h++,x):x(b)}}function $l(r,e,i,s,l,u){let c;return function h(w){return 34===w||39===w||40===w?(r.enter(s),r.enter(l),r.consume(w),r.exit(l),c=40===w?41:w,f):i(w)};function f(w){return w===c?(r.enter(l),r.consume(w),r.exit(l),r.exit(s),e):(r.enter(u),y(w))}function y(w){return w===c?(r.exit(u),f(c)):null===w?i(w):le(w)?(r.enter("lineEnding"),r.consume(w),r.exit("lineEnding"),We(r,y,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===c||null===w||le(w)?(r.exit("chunkString"),y(w)):(r.consume(w),92===w?x:g)}function x(w){return w===c||92===w?(r.consume(w),g):g(w)}}function Sr(r,e){let i;return function s(l){return le(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),i=!0,s):ze(l)?We(r,s,i?"linePrefix":"lineSuffix")(l):e(l)}}function Ui(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const kr={name:"definition",tokenize:function Op(r,e,i){const s=this;let l;return function u(b){return r.enter("definition"),function c(b){return Kl.call(s,r,h,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}(b)};function h(b){return l=Ui(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),58===b?(r.enter("definitionMarker"),r.consume(b),r.exit("definitionMarker"),f):i(b)}function f(b){return Rt(b)?Sr(r,y)(b):y(b)}function y(b){return Wl(r,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return r.attempt(zp,x,x)(b)}function x(b){return ze(b)?We(r,w,"whitespace")(b):w(b)}function w(b){return null===b||le(b)?(r.exit("definition"),s.parser.defined.push(l),e(b)):i(b)}}},zp={tokenize:function Rp(r,e,i){return function s(h){return Rt(h)?Sr(r,l)(h):i(h)};function l(h){return $l(r,u,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function u(h){return ze(h)?We(r,c,"whitespace")(h):c(h)}function c(h){return null===h||le(h)?e(h):i(h)}},partial:!0},mo={name:"codeIndented",tokenize:function fs(r,e,i){const s=this;return function l(y){return r.enter("codeIndented"),We(r,u,"linePrefix",5)(y)};function u(y){const g=s.events[s.events.length-1];return g&&"linePrefix"===g[1].type&&g[2].sliceSerialize(g[1],!0).length>=4?c(y):i(y)}function c(y){return null===y?f(y):le(y)?r.attempt(qu,c,f)(y):(r.enter("codeFlowValue"),h(y))}function h(y){return null===y||le(y)?(r.exit("codeFlowValue"),c(y)):(r.consume(y),h)}function f(y){return r.exit("codeIndented"),e(y)}}},qu={tokenize:function gs(r,e,i){const s=this;return l;function l(c){return s.parser.lazy[s.now().line]?i(c):le(c)?(r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),l):We(r,u,"linePrefix",5)(c)}function u(c){const h=s.events[s.events.length-1];return h&&"linePrefix"===h[1].type&&h[2].sliceSerialize(h[1],!0).length>=4?e(c):le(c)?l(c):i(c)}},partial:!0},Fp={name:"headingAtx",tokenize:function Bp(r,e,i){let s=0;return function l(g){return r.enter("atxHeading"),function u(g){return r.enter("atxHeadingSequence"),c(g)}(g)};function c(g){return 35===g&&s++<6?(r.consume(g),c):null===g||Rt(g)?(r.exit("atxHeadingSequence"),h(g)):i(g)}function h(g){return 35===g?(r.enter("atxHeadingSequence"),f(g)):null===g||le(g)?(r.exit("atxHeading"),e(g)):ze(g)?We(r,h,"whitespace")(g):(r.enter("atxHeadingText"),y(g))}function f(g){return 35===g?(r.consume(g),f):(r.exit("atxHeadingSequence"),h(g))}function y(g){return null===g||35===g||Rt(g)?(r.exit("atxHeadingText"),h(g)):(r.consume(g),y)}},resolve:function fo(r,e){let l,u,i=r.length-2,s=3;return"whitespace"===r[s][1].type&&(s+=2),i-2>s&&"whitespace"===r[i][1].type&&(i-=2),"atxHeadingSequence"===r[i][1].type&&(s===i-1||i-4>s&&"whitespace"===r[i-2][1].type)&&(i-=s+1===i?2:4),i>s&&(l={type:"atxHeadingText",start:r[s][1].start,end:r[i][1].end},u={type:"chunkText",start:r[s][1].start,end:r[i][1].end,contentType:"text"},an(r,s,i-s+1,[["enter",l,e],["enter",u,e],["exit",u,e],["exit",l,e]])),r}},Ql={name:"setextUnderline",tokenize:function Yl(r,e,i){const s=this;let l;return function u(y){let x,g=s.events.length;for(;g--;)if("lineEnding"!==s.events[g][1].type&&"linePrefix"!==s.events[g][1].type&&"content"!==s.events[g][1].type){x="paragraph"===s.events[g][1].type;break}return s.parser.lazy[s.now().line]||!s.interrupt&&!x?i(y):(r.enter("setextHeadingLine"),l=y,function c(y){return r.enter("setextHeadingLineSequence"),h(y)}(y))};function h(y){return y===l?(r.consume(y),h):(r.exit("setextHeadingLineSequence"),ze(y)?We(r,f,"lineSuffix")(y):f(y))}function f(y){return null===y||le(y)?(r.exit("setextHeadingLine"),e(y)):i(y)}},resolveTo:function Gl(r,e){let s,l,u,i=r.length;for(;i--;)if("enter"===r[i][0]){if("content"===r[i][1].type){s=i;break}"paragraph"===r[i][1].type&&(l=i)}else"content"===r[i][1].type&&r.splice(i,1),!u&&"definition"===r[i][1].type&&(u=i);const c={type:"setextHeading",start:Object.assign({},r[l][1].start),end:Object.assign({},r[r.length-1][1].end)};return r[l][1].type="setextHeadingText",u?(r.splice(l,0,["enter",c,e]),r.splice(u+1,0,["exit",r[s][1],e]),r[s][1].end=Object.assign({},r[u][1].end)):r[s][1]=c,r.push(["exit",c,e]),r}},_u=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zl=["pre","script","style","textarea"],Wu={name:"htmlFlow",tokenize:function qp(r,e,i){const s=this;let l,u,c,h,f;return function y(E){return function g(E){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(E),x}(E)};function x(E){return 33===E?(r.consume(E),w):47===E?(r.consume(E),u=!0,N):63===E?(r.consume(E),l=3,s.interrupt?e:j):un(E)?(r.consume(E),c=String.fromCharCode(E),V):i(E)}function w(E){return 45===E?(r.consume(E),l=2,b):91===E?(r.consume(E),l=5,h=0,C):un(E)?(r.consume(E),l=4,s.interrupt?e:j):i(E)}function b(E){return 45===E?(r.consume(E),s.interrupt?e:j):i(E)}function C(E){return E==="CDATA[".charCodeAt(h++)?(r.consume(E),6===h?s.interrupt?e:_e:C):i(E)}function N(E){return un(E)?(r.consume(E),c=String.fromCharCode(E),V):i(E)}function V(E){if(null===E||47===E||62===E||Rt(E)){const Bn=47===E,Ws=c.toLowerCase();return Bn||u||!Zl.includes(Ws)?_u.includes(c.toLowerCase())?(l=6,Bn?(r.consume(E),D):s.interrupt?e(E):_e(E)):(l=7,s.interrupt&&!s.parser.lazy[s.now().line]?i(E):u?O(E):B(E)):(l=1,s.interrupt?e(E):_e(E))}return 45===E||cn(E)?(r.consume(E),c+=String.fromCharCode(E),V):i(E)}function D(E){return 62===E?(r.consume(E),s.interrupt?e:_e):i(E)}function O(E){return ze(E)?(r.consume(E),O):Ze(E)}function B(E){return 47===E?(r.consume(E),Ze):58===E||95===E||un(E)?(r.consume(E),X):ze(E)?(r.consume(E),B):Ze(E)}function X(E){return 45===E||46===E||58===E||95===E||cn(E)?(r.consume(E),X):ae(E)}function ae(E){return 61===E?(r.consume(E),H):ze(E)?(r.consume(E),ae):B(E)}function H(E){return null===E||60===E||61===E||62===E||96===E?i(E):34===E||39===E?(r.consume(E),f=E,ve):ze(E)?(r.consume(E),H):Fe(E)}function ve(E){return E===f?(r.consume(E),f=null,Ae):null===E||le(E)?i(E):(r.consume(E),ve)}function Fe(E){return null===E||34===E||39===E||47===E||60===E||61===E||62===E||96===E||Rt(E)?ae(E):(r.consume(E),Fe)}function Ae(E){return 47===E||62===E||ze(E)?B(E):i(E)}function Ze(E){return 62===E?(r.consume(E),mn):i(E)}function mn(E){return null===E||le(E)?_e(E):ze(E)?(r.consume(E),mn):i(E)}function _e(E){return 45===E&&2===l?(r.consume(E),qe):60===E&&1===l?(r.consume(E),ye):62===E&&4===l?(r.consume(E),Yn):63===E&&3===l?(r.consume(E),j):93===E&&5===l?(r.consume(E),Fn):!le(E)||6!==l&&7!==l?null===E||le(E)?(r.exit("htmlFlowData"),oe(E)):(r.consume(E),_e):(r.exit("htmlFlowData"),r.check(Hp,sr,oe)(E))}function oe(E){return r.check(Up,te,sr)(E)}function te(E){return r.enter("lineEnding"),r.consume(E),r.exit("lineEnding"),Ie}function Ie(E){return null===E||le(E)?oe(E):(r.enter("htmlFlowData"),_e(E))}function qe(E){return 45===E?(r.consume(E),j):_e(E)}function ye(E){return 47===E?(r.consume(E),c="",ht):_e(E)}function ht(E){if(62===E){const Bn=c.toLowerCase();return Zl.includes(Bn)?(r.consume(E),Yn):_e(E)}return un(E)&&c.length<8?(r.consume(E),c+=String.fromCharCode(E),ht):_e(E)}function Fn(E){return 93===E?(r.consume(E),j):_e(E)}function j(E){return 62===E?(r.consume(E),Yn):45===E&&2===l?(r.consume(E),j):_e(E)}function Yn(E){return null===E||le(E)?(r.exit("htmlFlowData"),sr(E)):(r.consume(E),Yn)}function sr(E){return r.exit("htmlFlow"),e(E)}},resolveTo:function Vp(r){let e=r.length;for(;e--&&("enter"!==r[e][0]||"htmlFlow"!==r[e][1].type););return e>1&&"linePrefix"===r[e-2][1].type&&(r[e][1].start=r[e-2][1].start,r[e+1][1].start=r[e-2][1].start,r.splice(e-2,2)),r},concrete:!0},Hp={tokenize:function In(r,e,i){return function s(l){return r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),r.attempt(wr,e,i)}},partial:!0},Up={tokenize:function _p(r,e,i){const s=this;return function l(c){return le(c)?(r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),u):i(c)};function u(c){return s.parser.lazy[s.now().line]?i(c):e(c)}},partial:!0},Cr={tokenize:function $u(r,e,i){const s=this;return function l(c){return null===c?i(c):(r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),u)};function u(c){return s.parser.lazy[s.now().line]?i(c):e(c)}},partial:!0},Xl={name:"codeFenced",tokenize:function Ku(r,e,i){const s=this,l={tokenize:function ae(H,ve,Fe){let Ae=0;return function Ze(Ie){return H.enter("lineEnding"),H.consume(Ie),H.exit("lineEnding"),mn};function mn(Ie){return H.enter("codeFencedFence"),ze(Ie)?We(H,_e,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ie):_e(Ie)}function _e(Ie){return Ie===h?(H.enter("codeFencedFenceSequence"),oe(Ie)):Fe(Ie)}function oe(Ie){return Ie===h?(Ae++,H.consume(Ie),oe):Ae>=c?(H.exit("codeFencedFenceSequence"),ze(Ie)?We(H,te,"whitespace")(Ie):te(Ie)):Fe(Ie)}function te(Ie){return null===Ie||le(Ie)?(H.exit("codeFencedFence"),ve(Ie)):Fe(Ie)}},partial:!0};let h,u=0,c=0;return function f(H){return function y(H){const ve=s.events[s.events.length-1];return u=ve&&"linePrefix"===ve[1].type?ve[2].sliceSerialize(ve[1],!0).length:0,h=H,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),g(H)}(H)};function g(H){return H===h?(c++,r.consume(H),g):c<3?i(H):(r.exit("codeFencedFenceSequence"),ze(H)?We(r,x,"whitespace")(H):x(H))}function x(H){return null===H||le(H)?(r.exit("codeFencedFence"),s.interrupt?e(H):r.check(Cr,N,X)(H)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),w(H))}function w(H){return null===H||le(H)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),x(H)):ze(H)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),We(r,b,"whitespace")(H)):96===H&&H===h?i(H):(r.consume(H),w)}function b(H){return null===H||le(H)?x(H):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),C(H))}function C(H){return null===H||le(H)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),x(H)):96===H&&H===h?i(H):(r.consume(H),C)}function N(H){return r.attempt(l,X,V)(H)}function V(H){return r.enter("lineEnding"),r.consume(H),r.exit("lineEnding"),D}function D(H){return u>0&&ze(H)?We(r,O,"linePrefix",u+1)(H):O(H)}function O(H){return null===H||le(H)?r.check(Cr,N,X)(H):(r.enter("codeFlowValue"),B(H))}function B(H){return null===H||le(H)?(r.exit("codeFlowValue"),O(H)):(r.consume(H),B)}function X(H){return r.exit("codeFenced"),e(H)}},concrete:!0},Jl=document.createElement("i");function ys(r){const e="&"+r+";";Jl.innerHTML=e;const i=Jl.textContent;return(59!==i.charCodeAt(i.length-1)||"semi"===r)&&i!==e&&i}const Qu={name:"characterReference",tokenize:function Wp(r,e,i){const s=this;let u,c,l=0;return function h(x){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(x),r.exit("characterReferenceMarker"),f};function f(x){return 35===x?(r.enter("characterReferenceMarkerNumeric"),r.consume(x),r.exit("characterReferenceMarkerNumeric"),y):(r.enter("characterReferenceValue"),u=31,c=cn,g(x))}function y(x){return 88===x||120===x?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(x),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),u=6,c=Rl,g):(r.enter("characterReferenceValue"),u=7,c=vr,g(x))}function g(x){if(59===x&&l){const w=r.exit("characterReferenceValue");return c!==cn||ys(s.sliceSerialize(w))?(r.enter("characterReferenceMarker"),r.consume(x),r.exit("characterReferenceMarker"),r.exit("characterReference"),e):i(x)}return c(x)&&l++<u?(r.consume(x),g):i(x)}}},Vi={name:"characterEscape",tokenize:function ea(r,e,i){return function s(u){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(u),r.exit("escapeMarker"),l};function l(u){return Ru(u)?(r.enter("characterEscapeValue"),r.consume(u),r.exit("characterEscapeValue"),r.exit("characterEscape"),e):i(u)}}},qi={name:"lineEnding",tokenize:function ta(r,e){return function i(s){return r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),We(r,e,"linePrefix")}}},go={name:"labelEnd",tokenize:function Yu(r,e,i){const s=this;let u,c,l=s.events.length;for(;l--;)if(("labelImage"===s.events[l][1].type||"labelLink"===s.events[l][1].type)&&!s.events[l][1]._balanced){u=s.events[l][1];break}return function h(w){return u?u._inactive?x(w):(c=s.parser.defined.includes(Ui(s.sliceSerialize({start:u.end,end:s.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(w),r.exit("labelMarker"),r.exit("labelEnd"),f):i(w)};function f(w){return 40===w?r.attempt(yo,g,c?g:x)(w):91===w?r.attempt(jr,g,c?y:x)(w):c?g(w):x(w)}function y(w){return r.attempt(na,g,x)(w)}function g(w){return e(w)}function x(w){return u._balanced=!0,i(w)}},resolveTo:function vo(r,e){let l,u,c,h,i=r.length,s=0;for(;i--;)if(l=r[i][1],u){if("link"===l.type||"labelLink"===l.type&&l._inactive)break;"enter"===r[i][0]&&"labelLink"===l.type&&(l._inactive=!0)}else if(c){if("enter"===r[i][0]&&("labelImage"===l.type||"labelLink"===l.type)&&!l._balanced&&(u=i,"labelLink"!==l.type)){s=2;break}}else"labelEnd"===l.type&&(c=i);const f={type:"labelLink"===r[u][1].type?"link":"image",start:Object.assign({},r[u][1].start),end:Object.assign({},r[r.length-1][1].end)},y={type:"label",start:Object.assign({},r[u][1].start),end:Object.assign({},r[c][1].end)},g={type:"labelText",start:Object.assign({},r[u+s+2][1].end),end:Object.assign({},r[c-2][1].start)};return h=[["enter",f,e],["enter",y,e]],h=kt(h,r.slice(u+1,u+s+3)),h=kt(h,[["enter",g,e]]),h=kt(h,Vl(e.parser.constructs.insideSpan.null,r.slice(u+s+4,c-3),e)),h=kt(h,[["exit",g,e],r[c-2],r[c-1],["exit",y,e]]),h=kt(h,r.slice(c+1)),h=kt(h,[["exit",f,e]]),an(r,u,r.length,h),r},resolveAll:function Gu(r){let e=-1;for(;++e<r.length;){const i=r[e][1];("labelImage"===i.type||"labelLink"===i.type||"labelEnd"===i.type)&&(r.splice(e+1,"labelImage"===i.type?4:2),i.type="data",e++)}return r}},yo={tokenize:function Zu(r,e,i){return function s(x){return r.enter("resource"),r.enter("resourceMarker"),r.consume(x),r.exit("resourceMarker"),l};function l(x){return Rt(x)?Sr(r,u)(x):u(x)}function u(x){return 41===x?g(x):Wl(r,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function c(x){return Rt(x)?Sr(r,f)(x):g(x)}function h(x){return i(x)}function f(x){return 34===x||39===x||40===x?$l(r,y,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):g(x)}function y(x){return Rt(x)?Sr(r,g)(x):g(x)}function g(x){return 41===x?(r.enter("resourceMarker"),r.consume(x),r.exit("resourceMarker"),r.exit("resource"),e):i(x)}}},jr={tokenize:function Xu(r,e,i){const s=this;return function l(h){return Kl.call(s,r,u,c,"reference","referenceMarker","referenceString")(h)};function u(h){return s.parser.defined.includes(Ui(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(h):i(h)}function c(h){return i(h)}}},na={tokenize:function Ju(r,e,i){return function s(u){return r.enter("reference"),r.enter("referenceMarker"),r.consume(u),r.exit("referenceMarker"),l};function l(u){return 93===u?(r.enter("referenceMarker"),r.consume(u),r.exit("referenceMarker"),r.exit("reference"),e):i(u)}}},ec={name:"labelStartImage",tokenize:function tc(r,e,i){const s=this;return function l(h){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(h),r.exit("labelImageMarker"),u};function u(h){return 91===h?(r.enter("labelMarker"),r.consume(h),r.exit("labelMarker"),r.exit("labelImage"),c):i(h)}function c(h){return 94===h&&"_hiddenFootnoteSupport"in s.parser.constructs?i(h):e(h)}},resolveAll:go.resolveAll};function ii(r){return null===r||Rt(r)||co(r)?1:Fu(r)?2:void 0}const vs={name:"attention",tokenize:function Kp(r,e){const i=this.parser.constructs.attentionMarkers.null,s=this.previous,l=ii(s);let u;return function c(f){return u=f,r.enter("attentionSequence"),h(f)};function h(f){if(f===u)return r.consume(f),h;const y=r.exit("attentionSequence"),g=ii(f),x=!g||2===g&&l||i.includes(f),w=!l||2===l&&g||i.includes(s);return y._open=!!(42===u?x:x&&(l||!w)),y._close=!!(42===u?w:w&&(g||!x)),e(f)}},resolveAll:function ia(r,e){let s,l,u,c,h,f,y,g,i=-1;for(;++i<r.length;)if("enter"===r[i][0]&&"attentionSequence"===r[i][1].type&&r[i][1]._close)for(s=i;s--;)if("exit"===r[s][0]&&"attentionSequence"===r[s][1].type&&r[s][1]._open&&e.sliceSerialize(r[s][1]).charCodeAt(0)===e.sliceSerialize(r[i][1]).charCodeAt(0)){if((r[s][1]._close||r[i][1]._open)&&(r[i][1].end.offset-r[i][1].start.offset)%3&&!((r[s][1].end.offset-r[s][1].start.offset+r[i][1].end.offset-r[i][1].start.offset)%3))continue;f=r[s][1].end.offset-r[s][1].start.offset>1&&r[i][1].end.offset-r[i][1].start.offset>1?2:1;const x=Object.assign({},r[s][1].end),w=Object.assign({},r[i][1].start);nc(x,-f),nc(w,f),c={type:f>1?"strongSequence":"emphasisSequence",start:x,end:Object.assign({},r[s][1].end)},h={type:f>1?"strongSequence":"emphasisSequence",start:Object.assign({},r[i][1].start),end:w},u={type:f>1?"strongText":"emphasisText",start:Object.assign({},r[s][1].end),end:Object.assign({},r[i][1].start)},l={type:f>1?"strong":"emphasis",start:Object.assign({},c.start),end:Object.assign({},h.end)},r[s][1].end=Object.assign({},c.start),r[i][1].start=Object.assign({},h.end),y=[],r[s][1].end.offset-r[s][1].start.offset&&(y=kt(y,[["enter",r[s][1],e],["exit",r[s][1],e]])),y=kt(y,[["enter",l,e],["enter",c,e],["exit",c,e],["enter",u,e]]),y=kt(y,Vl(e.parser.constructs.insideSpan.null,r.slice(s+1,i),e)),y=kt(y,[["exit",u,e],["enter",h,e],["exit",h,e],["exit",l,e]]),r[i][1].end.offset-r[i][1].start.offset?(g=2,y=kt(y,[["enter",r[i][1],e],["exit",r[i][1],e]])):g=0,an(r,s-1,i-s+3,y),i=s+y.length-g-2;break}for(i=-1;++i<r.length;)"attentionSequence"===r[i][1].type&&(r[i][1].type="data");return r}};function nc(r,e){r.column+=e,r.offset+=e,r._bufferIndex+=e}const xs={name:"autolink",tokenize:function $p(r,e,i){let s=0;return function l(b){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(b),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),u};function u(b){return un(b)?(r.consume(b),c):64===b?i(b):y(b)}function c(b){return 43===b||45===b||46===b||cn(b)?(s=1,h(b)):y(b)}function h(b){return 58===b?(r.consume(b),s=0,f):(43===b||45===b||46===b||cn(b))&&s++<32?(r.consume(b),h):(s=0,y(b))}function f(b){return 62===b?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(b),r.exit("autolinkMarker"),r.exit("autolink"),e):null===b||32===b||60===b||ds(b)?i(b):(r.consume(b),f)}function y(b){return 64===b?(r.consume(b),g):fp(b)?(r.consume(b),y):i(b)}function g(b){return cn(b)?x(b):i(b)}function x(b){return 46===b?(r.consume(b),s=0,g):62===b?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(b),r.exit("autolinkMarker"),r.exit("autolink"),e):w(b)}function w(b){if((45===b||cn(b))&&s++<63){const C=45===b?w:x;return r.consume(b),C}return i(b)}}},ic={name:"htmlText",tokenize:function rc(r,e,i){const s=this;let l,u,c;return function h(j){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(j),f};function f(j){return 33===j?(r.consume(j),y):47===j?(r.consume(j),ae):63===j?(r.consume(j),B):un(j)?(r.consume(j),Fe):i(j)}function y(j){return 45===j?(r.consume(j),g):91===j?(r.consume(j),u=0,C):un(j)?(r.consume(j),O):i(j)}function g(j){return 45===j?(r.consume(j),b):i(j)}function x(j){return null===j?i(j):45===j?(r.consume(j),w):le(j)?(c=x,ye(j)):(r.consume(j),x)}function w(j){return 45===j?(r.consume(j),b):x(j)}function b(j){return 62===j?qe(j):45===j?w(j):x(j)}function C(j){return j==="CDATA[".charCodeAt(u++)?(r.consume(j),6===u?N:C):i(j)}function N(j){return null===j?i(j):93===j?(r.consume(j),V):le(j)?(c=N,ye(j)):(r.consume(j),N)}function V(j){return 93===j?(r.consume(j),D):N(j)}function D(j){return 62===j?qe(j):93===j?(r.consume(j),D):N(j)}function O(j){return null===j||62===j?qe(j):le(j)?(c=O,ye(j)):(r.consume(j),O)}function B(j){return null===j?i(j):63===j?(r.consume(j),X):le(j)?(c=B,ye(j)):(r.consume(j),B)}function X(j){return 62===j?qe(j):B(j)}function ae(j){return un(j)?(r.consume(j),H):i(j)}function H(j){return 45===j||cn(j)?(r.consume(j),H):ve(j)}function ve(j){return le(j)?(c=ve,ye(j)):ze(j)?(r.consume(j),ve):qe(j)}function Fe(j){return 45===j||cn(j)?(r.consume(j),Fe):47===j||62===j||Rt(j)?Ae(j):i(j)}function Ae(j){return 47===j?(r.consume(j),qe):58===j||95===j||un(j)?(r.consume(j),Ze):le(j)?(c=Ae,ye(j)):ze(j)?(r.consume(j),Ae):qe(j)}function Ze(j){return 45===j||46===j||58===j||95===j||cn(j)?(r.consume(j),Ze):mn(j)}function mn(j){return 61===j?(r.consume(j),_e):le(j)?(c=mn,ye(j)):ze(j)?(r.consume(j),mn):Ae(j)}function _e(j){return null===j||60===j||61===j||62===j||96===j?i(j):34===j||39===j?(r.consume(j),l=j,oe):le(j)?(c=_e,ye(j)):ze(j)?(r.consume(j),_e):(r.consume(j),te)}function oe(j){return j===l?(r.consume(j),l=void 0,Ie):null===j?i(j):le(j)?(c=oe,ye(j)):(r.consume(j),oe)}function te(j){return null===j||34===j||39===j||60===j||61===j||96===j?i(j):47===j||62===j||Rt(j)?Ae(j):(r.consume(j),te)}function Ie(j){return 47===j||62===j||Rt(j)?Ae(j):i(j)}function qe(j){return 62===j?(r.consume(j),r.exit("htmlTextData"),r.exit("htmlText"),e):i(j)}function ye(j){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(j),r.exit("lineEnding"),ht}function ht(j){return ze(j)?We(r,Fn,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):Fn(j)}function Fn(j){return r.enter("htmlTextData"),c(j)}}},Ye={name:"labelStartLink",tokenize:function ra(r,e,i){const s=this;return function l(c){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(c),r.exit("labelMarker"),r.exit("labelLink"),u};function u(c){return 94===c&&"_hiddenFootnoteSupport"in s.parser.constructs?i(c):e(c)}},resolveAll:go.resolveAll},xo={name:"hardBreakEscape",tokenize:function bs(r,e,i){return function s(u){return r.enter("hardBreakEscape"),r.consume(u),l};function l(u){return le(u)?(r.exit("hardBreakEscape"),e(u)):i(u)}}},sc={name:"codeText",tokenize:function bo(r,e,i){let u,c,l=0;return function h(w){return r.enter("codeText"),r.enter("codeTextSequence"),f(w)};function f(w){return 96===w?(r.consume(w),l++,f):(r.exit("codeTextSequence"),y(w))}function y(w){return null===w?i(w):32===w?(r.enter("space"),r.consume(w),r.exit("space"),y):96===w?(c=r.enter("codeTextSequence"),u=0,x(w)):le(w)?(r.enter("lineEnding"),r.consume(w),r.exit("lineEnding"),y):(r.enter("codeTextData"),g(w))}function g(w){return null===w||32===w||96===w||le(w)?(r.exit("codeTextData"),y(w)):(r.consume(w),g)}function x(w){return 96===w?(r.consume(w),u++,x):u===l?(r.exit("codeTextSequence"),r.exit("codeText"),e(w)):(c.type="codeTextData",g(w))}},resolve:function sa(r){let s,l,e=r.length-4,i=3;if(!("lineEnding"!==r[i][1].type&&"space"!==r[i][1].type||"lineEnding"!==r[e][1].type&&"space"!==r[e][1].type))for(s=i;++s<e;)if("codeTextData"===r[s][1].type){r[i][1].type="codeTextPadding",r[e][1].type="codeTextPadding",i+=2,e-=2;break}for(s=i-1,e++;++s<=e;)void 0===l?s!==e&&"lineEnding"!==r[s][1].type&&(l=s):(s===e||"lineEnding"===r[s][1].type)&&(r[l][1].type="codeTextData",s!==l+2&&(r[l][1].end=r[s-1][1].end,r.splice(l+2,s-l-2),e-=s-l-2,s=l+2),l=void 0);return r},previous:function ws(r){return 96!==r||"characterEscape"===this.events[this.events.length-1][1].type}},Er={42:Xt,43:Xt,45:Xt,48:Xt,49:Xt,50:Xt,51:Xt,52:Xt,53:Xt,54:Xt,55:Xt,56:Xt,57:Xt,62:Vu},oc={91:kr},Qp={[-2]:mo,[-1]:mo,32:mo},Gp={35:Fp,42:ho,45:[Ql,ho],60:Wu,61:Ql,95:ho,96:Xl,126:Xl},lc={38:Qu,92:Vi},wo={[-5]:qi,[-4]:qi,[-3]:qi,33:ec,38:Qu,42:vs,60:[xs,ic],91:Ye,92:[xo,Vi],93:go,95:vs,96:sc},So={null:[vs,wp]},oa={null:[42,95]},la={null:[]};function aa(r){const i=function Ou(r){const e={};let i=-1;for(;++i<r.length;)mp(e,r[i]);return e}([Lt,...(r||{}).extensions||[]]),s={defined:[],lazy:{},constructs:i,content:l(pn),document:l(Fl),flow:l(Hl),string:l(Sp),text:l(kp)};return s;function l(u){return function c(h){return function jp(r,e,i){let s=Object.assign(i?Object.assign({},i):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const l={},u=[];let c=[],h=[],f=!0;const y={consume:function X(oe){le(oe)?(s.line++,s.column=1,s.offset+=-3===oe?2:1,_e()):-1!==oe&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===c[s._index].length&&(s._bufferIndex=-1,s._index++)),g.previous=oe,f=!0},enter:function ae(oe,te){const Ie=te||{};return Ie.type=oe,Ie.start=V(),g.events.push(["enter",Ie,g]),h.push(Ie),Ie},exit:function H(oe){const te=h.pop();return te.end=V(),g.events.push(["exit",te,g]),te},attempt:Ae(function ve(oe,te){Ze(oe,te.from)}),check:Ae(Fe),interrupt:Ae(Fe,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:r,sliceStream:N,sliceSerialize:function C(oe,te){return function ql(r,e){let i=-1;const s=[];let l;for(;++i<r.length;){const u=r[i];let c;if("string"==typeof u)c=u;else switch(u){case-5:c="\r";break;case-4:c="\n";break;case-3:c="\r\n";break;case-2:c=e?" ":"\t";break;case-1:if(!e&&l)continue;c=" ";break;default:c=String.fromCharCode(u)}l=-2===u,s.push(c)}return s.join("")}(N(oe),te)},now:V,defineSkip:function D(oe){l[oe.line]=oe.column,_e()},write:function b(oe){return c=kt(c,oe),function O(){let oe;for(;s._index<c.length;){const te=c[s._index];if("string"==typeof te)for(oe=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===oe&&s._bufferIndex<te.length;)B(te.charCodeAt(s._bufferIndex));else B(te)}}(),null!==c[c.length-1]?[]:(Ze(e,0),g.events=Vl(u,g.events,g),g.events)}};let w,x=e.tokenize.call(g,y);return e.resolveAll&&u.push(e),g;function N(oe){return function Ep(r,e){const i=e.start._index,s=e.start._bufferIndex,l=e.end._index,u=e.end._bufferIndex;let c;if(i===l)c=[r[i].slice(s,u)];else{if(c=r.slice(i,l),s>-1){const h=c[0];"string"==typeof h?c[0]=h.slice(s):c.shift()}u>0&&c.push(r[l].slice(0,u))}return c}(c,oe)}function V(){const{line:oe,column:te,offset:Ie,_index:qe,_bufferIndex:ye}=s;return{line:oe,column:te,offset:Ie,_index:qe,_bufferIndex:ye}}function B(oe){f=void 0,w=oe,x=x(oe)}function Fe(oe,te){te.restore()}function Ae(oe,te){return function Ie(qe,ye,ht){let Fn,j,Yn,sr;return Array.isArray(qe)?Bn(qe):"tokenize"in qe?Bn([qe]):function E(Yt){return function gu(or){const Ks=null!==or&&Yt[or],pl=null!==or&&Yt.null;return Bn([...Array.isArray(Ks)?Ks:Ks?[Ks]:[],...Array.isArray(pl)?pl:pl?[pl]:[]])(or)}}(qe);function Bn(Yt){return Fn=Yt,j=0,0===Yt.length?ht:Ws(Yt[j])}function Ws(Yt){return function gu(or){return sr=function mn(){const oe=V(),te=g.previous,Ie=g.currentConstruct,qe=g.events.length,ye=Array.from(h);return{restore:function ht(){s=oe,g.previous=te,g.currentConstruct=Ie,g.events.length=qe,h=ye,_e()},from:qe}}(),Yn=Yt,Yt.partial||(g.currentConstruct=Yt),Yt.name&&g.parser.constructs.disable.null.includes(Yt.name)?np():Yt.tokenize.call(te?Object.assign(Object.create(g),te):g,y,bd,np)(or)}}function bd(Yt){return f=!0,oe(Yn,sr),ye}function np(Yt){return f=!0,sr.restore(),++j<Fn.length?Ws(Fn[j]):ht}}}function Ze(oe,te){oe.resolveAll&&!u.includes(oe)&&u.push(oe),oe.resolve&&an(g.events,te,g.events.length-te,oe.resolve(g.events.slice(te),g)),oe.resolveTo&&(g.events=oe.resolveTo(g.events,g))}function _e(){s.line in l&&s.column<2&&(s.column=l[s.line],s.offset+=l[s.line]-1)}}(s,u,h)}}}const ko=/[\0\t\n\r]/g;function ua(r,e){const i=Number.parseInt(r,e);return i<9||11===i||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||!(65535&~i)||65534==(65535&i)||i>1114111?"\ufffd":String.fromCodePoint(i)}const Zp=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ca(r,e,i){if(e)return e;if(35===i.charCodeAt(0)){const l=i.charCodeAt(1),u=120===l||88===l;return ua(i.slice(u?2:1),u?16:10)}return ys(i)||r}const ri={}.hasOwnProperty;function ac(r,e,i){return"string"!=typeof e&&(i=e,e=void 0),function Ar(r){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Pd),autolinkProtocol:Ae,autolinkEmail:Ae,atxHeading:u(Ad),blockQuote:u(function or(){return{type:"blockquote",children:[]}}),characterEscape:Ae,characterReference:Ae,codeFenced:u(Ks),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(Ks,c),codeText:u(function pl(){return{type:"inlineCode",value:""}},c),codeTextData:Ae,data:Ae,codeFlowValue:Ae,definition:u(function wd(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(function ch(){return{type:"emphasis",children:[]}}),hardBreakEscape:u(Id),hardBreakTrailing:u(Id),htmlFlow:u(Td,c),htmlFlowData:Ae,htmlText:u(Td,c),htmlTextData:Ae,image:u(function ph(){return{type:"image",title:null,url:"",alt:null}}),label:c,link:u(Pd),listItem:u(function dh(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}),listItemValue:function w(U){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:u(Ld,function x(){this.data.expectingFirstListItemValue=!0}),listUnordered:u(Ld),paragraph:u(function hh(){return{type:"paragraph",children:[]}}),reference:function E(){this.data.referenceType="collapsed"},referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Ad),strong:u(function mh(){return{type:"strong",children:[]}}),thematicBreak:u(function gh(){return{type:"thematicBreak"}})},exit:{atxHeading:f(),atxHeadingSequence:function ae(U){const Y=this.stack[this.stack.length-1];if(!Y.depth){const ke=this.sliceSerialize(U).length;Y.depth=ke}},autolink:f(),autolinkEmail:function gu(U){Ze.call(this,U),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(U)},autolinkProtocol:function Yt(U){Ze.call(this,U),this.stack[this.stack.length-1].url=this.sliceSerialize(U)},blockQuote:f(),characterEscapeValue:Ze,characterReferenceMarkerHexadecimal:Ws,characterReferenceMarkerNumeric:Ws,characterReferenceValue:function bd(U){const Y=this.sliceSerialize(U),ke=this.data.characterReferenceType;let Be;ke?(Be=ua(Y,"characterReferenceMarkerNumeric"===ke?10:16),this.data.characterReferenceType=void 0):Be=ys(Y),this.stack[this.stack.length-1].value+=Be},characterReference:function np(U){this.stack.pop().position.end=zt(U.end)},codeFenced:f(function V(){const U=this.resume();this.stack[this.stack.length-1].value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function b(){const U=this.resume();this.stack[this.stack.length-1].lang=U},codeFencedFenceMeta:function C(){const U=this.resume();this.stack[this.stack.length-1].meta=U},codeFlowValue:Ze,codeIndented:f(function D(){const U=this.resume();this.stack[this.stack.length-1].value=U.replace(/(\r?\n|\r)$/g,"")}),codeText:f(function Ie(){const U=this.resume();this.stack[this.stack.length-1].value=U}),codeTextData:Ze,data:Ze,definition:f(),definitionDestinationString:function X(){const U=this.resume();this.stack[this.stack.length-1].url=U},definitionLabelString:function O(U){const Y=this.resume(),ke=this.stack[this.stack.length-1];ke.label=Y,ke.identifier=Ui(this.sliceSerialize(U)).toLowerCase()},definitionTitleString:function B(){const U=this.resume();this.stack[this.stack.length-1].title=U},emphasis:f(),hardBreakEscape:f(_e),hardBreakTrailing:f(_e),htmlFlow:f(function oe(){const U=this.resume();this.stack[this.stack.length-1].value=U}),htmlFlowData:Ze,htmlText:f(function te(){const U=this.resume();this.stack[this.stack.length-1].value=U}),htmlTextData:Ze,image:f(function ye(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=Y,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}),label:function Fn(){const U=this.stack[this.stack.length-1],Y=this.resume(),ke=this.stack[this.stack.length-1];this.data.inReference=!0,"link"===ke.type?ke.children=U.children:ke.alt=Y},labelText:function ht(U){const Y=this.sliceSerialize(U),ke=this.stack[this.stack.length-2];ke.label=function Xp(r){return r.replace(Zp,ca)}(Y),ke.identifier=Ui(Y).toLowerCase()},lineEnding:function mn(U){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak)return Y.children[Y.children.length-1].position.end=zt(U.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Y.type)&&(Ae.call(this,U),Ze.call(this,U))},link:f(function qe(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=Y,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:function Bn(U){const Y=this.resume(),ke=this.stack[this.stack.length-1];ke.label=Y,ke.identifier=Ui(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function j(){const U=this.resume();this.stack[this.stack.length-1].url=U},resourceTitleString:function Yn(){const U=this.resume();this.stack[this.stack.length-1].title=U},resource:function sr(){this.data.inReference=void 0},setextHeading:f(function Fe(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function ve(U){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(U).codePointAt(0)?1:2},setextHeadingText:function H(){this.data.setextHeadingSlurpLineEnding=!0},strong:f(),thematicBreak:f()}};Ir(e,(r||{}).mdastExtensions||[]);const i={};return function s(U){let Y={type:"root",children:[]};const ke={stack:[Y],tokenStack:[],config:e,enter:h,exit:y,buffer:c,resume:g,data:i},Be=[];let Xe=-1;for(;++Xe<U.length;)"listOrdered"!==U[Xe][1].type&&"listUnordered"!==U[Xe][1].type||("enter"===U[Xe][0]?Be.push(Xe):Xe=l(U,Be.pop(),Xe));for(Xe=-1;++Xe<U.length;){const fi=e[U[Xe][0]];ri.call(fi,U[Xe][1].type)&&fi[U[Xe][1].type].call(Object.assign({sliceSerialize:U[Xe][2].sliceSerialize},ke),U[Xe][1])}if(ke.tokenStack.length>0){const fi=ke.tokenStack[ke.tokenStack.length-1];(fi[1]||Co).call(ke,void 0,fi[0])}for(Y.position={start:zt(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:zt(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<e.transforms.length;)Y=e.transforms[Xe](Y)||Y;return Y};function l(U,Y,ke){let $s,lr,yu,vu,Be=Y-1,Xe=-1,fi=!1;for(;++Be<=ke;){const Hn=U[Be];switch(Hn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===Hn[0]?Xe++:Xe--,vu=void 0;break;case"lineEndingBlank":"enter"===Hn[0]&&($s&&!vu&&!Xe&&!yu&&(yu=Be),vu=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vu=void 0}if(!Xe&&"enter"===Hn[0]&&"listItemPrefix"===Hn[1].type||-1===Xe&&"exit"===Hn[0]&&("listUnordered"===Hn[1].type||"listOrdered"===Hn[1].type)){if($s){let dl=Be;for(lr=void 0;dl--;){const ar=U[dl];if("lineEnding"===ar[1].type||"lineEndingBlank"===ar[1].type){if("exit"===ar[0])continue;lr&&(U[lr][1].type="lineEndingBlank",fi=!0),ar[1].type="lineEnding",lr=dl}else if("linePrefix"!==ar[1].type&&"blockQuotePrefix"!==ar[1].type&&"blockQuotePrefixWhitespace"!==ar[1].type&&"blockQuoteMarker"!==ar[1].type&&"listItemIndent"!==ar[1].type)break}yu&&(!lr||yu<lr)&&($s._spread=!0),$s.end=Object.assign({},lr?U[lr][1].start:Hn[1].end),U.splice(lr||Be,0,["exit",$s,Hn[2]]),Be++,ke++}if("listItemPrefix"===Hn[1].type){const dl={type:"listItem",_spread:!1,start:Object.assign({},Hn[1].start),end:void 0};$s=dl,U.splice(Be,0,["enter",dl,Hn[2]]),Be++,ke++,yu=void 0,vu=!0}}}return U[Y][1]._spread=fi,ke}function u(U,Y){return function ke(Be){h.call(this,U(Be),Be),Y&&Y.call(this,Be)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(U,Y,ke){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([Y,ke]),U.position={start:zt(Y.start),end:void 0}}function f(U){return function Y(ke){U&&U.call(this,ke),y.call(this,ke)}}function y(U,Y){const ke=this.stack.pop(),Be=this.tokenStack.pop();if(!Be)throw new Error("Cannot close `"+U.type+"` ("+os({start:U.start,end:U.end})+"): it\u2019s not open");Be[0].type!==U.type&&(Y?Y.call(this,U,Be[0]):(Be[1]||Co).call(this,U,Be[0])),ke.position.end=zt(U.end)}function g(){return function yi(r,e){const i=e||ao;return ti(r,"boolean"!=typeof i.includeImageAlt||i.includeImageAlt,"boolean"!=typeof i.includeHtml||i.includeHtml)}(this.stack.pop())}function Ae(U){const ke=this.stack[this.stack.length-1].children;let Be=ke[ke.length-1];(!Be||"text"!==Be.type)&&(Be={type:"text",value:""},Be.position={start:zt(U.start),end:void 0},ke.push(Be)),this.stack.push(Be)}function Ze(U){const Y=this.stack.pop();Y.value+=this.sliceSerialize(U),Y.position.end=zt(U.end)}function _e(){this.data.atHardBreak=!0}function Ws(U){this.data.characterReferenceType=U.type}function Ks(){return{type:"code",lang:null,meta:null,value:""}}function Ad(){return{type:"heading",depth:0,children:[]}}function Id(){return{type:"break"}}function Td(){return{type:"html",value:""}}function Pd(){return{type:"link",title:null,url:"",children:[]}}function Ld(U){return{type:"list",ordered:"listOrdered"===U.type,start:null,spread:U._spread,children:[]}}}(i)(function zu(r){for(;!fr(r););return r}(aa(i).document().write(function Yp(){let s,r=1,e="",i=!0;return function l(u,c,h){const f=[];let y,g,x,w,b;for(u=e+("string"==typeof u?u.toString():new TextDecoder(c||void 0).decode(u)),x=0,e="",i&&(65279===u.charCodeAt(0)&&x++,i=void 0);x<u.length;){if(ko.lastIndex=x,y=ko.exec(u),w=y&&void 0!==y.index?y.index:u.length,b=u.charCodeAt(w),!y){e=u.slice(x);break}if(10===b&&x===w&&s)f.push(-3),s=void 0;else switch(s&&(f.push(-5),s=void 0),x<w&&(f.push(u.slice(x,w)),r+=w-x),b){case 0:f.push(65533),r++;break;case 9:for(g=4*Math.ceil(r/4),f.push(-2);r++<g;)f.push(-1);break;case 10:f.push(-4),r=1;break;default:s=!0,r=1}x=w+1}return h&&(s&&f.push(-5),e&&f.push(e),f.push(null)),f}}()(r,e,!0))))}function zt(r){return{line:r.line,column:r.column,offset:r.offset}}function Ir(r,e){let i=-1;for(;++i<e.length;){const s=e[i];Array.isArray(s)?Ir(r,s):si(r,s)}}function si(r,e){let i;for(i in e)if(ri.call(e,i))switch(i){case"canContainEols":{const s=e[i];s&&r[i].push(...s);break}case"transforms":{const s=e[i];s&&r[i].push(...s);break}case"enter":case"exit":{const s=e[i];s&&Object.assign(r[i],s);break}}}function Co(r,e){throw r?new Error("Cannot close `"+r.type+"` ("+os({start:r.start,end:r.end})+"): a different token (`"+e.type+"`, "+os({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+os({start:e.start,end:e.end})+") is still open")}function Jp(r){const e=this;e.parser=function i(s){return ac(s,{...e.data("settings"),...r,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const li="object"==typeof self?self:globalThis,Kt=r=>((r,e)=>{const i=(l,u)=>(r.set(u,l),l),s=l=>{if(r.has(l))return r.get(l);const[u,c]=e[l];switch(u){case 0:case-1:return i(c,l);case 1:{const h=i([],l);for(const f of c)h.push(s(f));return h}case 2:{const h=i({},l);for(const[f,y]of c)h[s(f)]=s(y);return h}case 3:return i(new Date(c),l);case 4:{const{source:h,flags:f}=c;return i(new RegExp(h,f),l)}case 5:{const h=i(new Map,l);for(const[f,y]of c)h.set(s(f),s(y));return h}case 6:{const h=i(new Set,l);for(const f of c)h.add(s(f));return h}case 7:{const{name:h,message:f}=c;return i(new li[h](f),l)}case 8:return i(BigInt(c),l);case"BigInt":return i(Object(BigInt(c)),l)}return i(new li[u](c),l)};return s})(new Map,r)(0),{toString:Pr}={},{keys:Jt}=Object,bi=r=>{const e=typeof r;if("object"!==e||!r)return[0,e];const i=Pr.call(r).slice(8,-1);switch(i){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""]}return i.includes("Array")?[1,i]:i.includes("Error")?[7,i]:[2,i]},ks=([r,e])=>0===r&&("function"===e||"symbol"===e),Cs=(r,{json:e,lossy:i}={})=>{const s=[];return((r,e,i,s)=>{const l=(c,h)=>{const f=s.push(c)-1;return i.set(h,f),f},u=c=>{if(i.has(c))return i.get(c);let[h,f]=bi(c);switch(h){case 0:{let g=c;switch(f){case"bigint":h=8,g=c.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+f);g=null;break;case"undefined":return l([-1],c)}return l([h,g],c)}case 1:{if(f)return l([f,[...c]],c);const g=[],x=l([h,g],c);for(const w of c)g.push(u(w));return x}case 2:{if(f)switch(f){case"BigInt":return l([f,c.toString()],c);case"Boolean":case"Number":case"String":return l([f,c.valueOf()],c)}if(e&&"toJSON"in c)return u(c.toJSON());const g=[],x=l([h,g],c);for(const w of Jt(c))(r||!ks(bi(c[w])))&&g.push([u(w),u(c[w])]);return x}case 3:return l([h,c.toISOString()],c);case 4:{const{source:g,flags:x}=c;return l([h,{source:g,flags:x}],c)}case 5:{const g=[],x=l([h,g],c);for(const[w,b]of c)(r||!ks(bi(w))&&!ks(bi(b)))&&g.push([u(w),u(b)]);return x}case 6:{const g=[],x=l([h,g],c);for(const w of c)(r||!ks(bi(w)))&&g.push(u(w));return x}}const{message:y}=c;return l([h,{name:f,message:y}],c)};return u})(!(e||i),!!e,new Map,s)(r),s},js="function"==typeof structuredClone?(r,e)=>e&&("json"in e||"lossy"in e)?Kt(Cs(r,e)):structuredClone(r):(r,e)=>Kt(Cs(r,e));function _n(r){const e=[];let i=-1,s=0,l=0;for(;++i<r.length;){const u=r.charCodeAt(i);let c="";if(37===u&&cn(r.charCodeAt(i+1))&&cn(r.charCodeAt(i+2)))l=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const h=r.charCodeAt(i+1);u<56320&&h>56319&&h<57344?(c=String.fromCharCode(u,h),l=1):c="\ufffd"}else c=String.fromCharCode(u);c&&(e.push(r.slice(s,i),encodeURIComponent(c)),s=i+l+1,c=""),l&&(i+=l,l=0)}return e.join("")+r.slice(s)}function pa(r,e){const i=[{type:"text",value:"\u21a9"}];return e>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),i}function pc(r,e){return"Back to reference "+(r+1)+(e>1?"-"+e:"")}const ki=function(r){if(null==r)return vn;if("function"==typeof r)return $t(r);if("object"==typeof r)return Array.isArray(r)?function Lr(r){const e=[];let i=-1;for(;++i<r.length;)e[i]=ki(r[i]);return $t(function s(...l){let u=-1;for(;++u<e.length;)if(e[u].apply(this,l))return!0;return!1})}(r):function jo(r){const e=r;return $t(function i(s){const l=s;let u;for(u in r)if(l[u]!==e[u])return!1;return!0})}(r);if("string"==typeof r)return function Eo(r){return $t(function e(i){return i&&i.type===r})}(r);throw new Error("Expected function, string, or object as test")};function $t(r){return function e(i,s,l){return!(!function Ci(r){return null!==r&&"object"==typeof r&&"type"in r}(i)||!r.call(this,i,"number"==typeof s?s:void 0,l||void 0))}}function vn(){return!0}const Wn=[],_i=!0,da=!1,ha="skip";function en(r,e,i,s){let l,u,c;"function"==typeof e&&"function"!=typeof i?(u=void 0,c=e,l=i):(u=e,c=i,l=s),function ma(r,e,i,s){let l;"function"==typeof e&&"function"!=typeof i?(s=i,i=e):l=e;const u=ki(l),c=s?-1:1;!function h(f,y,g){const x=f&&"object"==typeof f?f:{};if("string"==typeof x.type){const b="string"==typeof x.tagName?x.tagName:"string"==typeof x.name?x.name:void 0;Object.defineProperty(w,"name",{value:"node ("+f.type+(b?"<"+b+">":"")+")"})}return w;function w(){let C,N,V,b=Wn;if((!e||u(f,y,g[g.length-1]||void 0))&&(b=function dn(r){return Array.isArray(r)?r:"number"==typeof r?[_i,r]:null==r?Wn:[r]}(i(f,g)),b[0]===da))return b;if("children"in f&&f.children){const D=f;if(D.children&&b[0]!==ha)for(N=(s?D.children.length:-1)+c,V=g.concat(D);N>-1&&N<D.children.length;){if(C=h(D.children[N],N,V)(),C[0]===da)return C;N="number"==typeof C[1]?C[1]:N+c}}return b}}(r,void 0,[])()}(r,u,function h(f,y){const g=y[y.length-1],x=g?g.children.indexOf(f):void 0;return c(f,x,g)},l)}function ya(r,e){const i=e.referenceType;let s="]";if("collapsed"===i?s+="[]":"full"===i&&(s+="["+(e.label||e.identifier)+"]"),"imageReference"===e.type)return[{type:"text",value:"!["+e.alt+s}];const l=r.all(e),u=l[0];u&&"text"===u.type?u.value="["+u.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&"text"===c.type?c.value+=s:l.push({type:"text",value:s}),l}function Wi(r){return r.spread??r.children.length>1}const Lo=9,Ki=32;function xn(r){const e=String(r),i=/\r?\n|\r/g;let s=i.exec(e),l=0;const u=[];for(;s;)u.push(Ei(e.slice(l,s.index),l>0,!0),s[0]),l=s.index+s[0].length,s=i.exec(e);return u.push(Ei(e.slice(l),l>0,!1)),u.join("")}function Ei(r,e,i){let s=0,l=r.length;if(e){let u=r.codePointAt(s);for(;u===Lo||u===Ki;)s++,u=r.codePointAt(s)}if(i){let u=r.codePointAt(l-1);for(;u===Lo||u===Ki;)l--,u=r.codePointAt(l-1)}return l>s?r.slice(s,l):""}const ai={blockquote:function et(r,e){const i={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(e),!0)};return r.patch(e,i),r.applyData(e,i)},break:function Tn(r,e){const i={type:"element",tagName:"br",properties:{},children:[]};return r.patch(e,i),[r.applyData(e,i),{type:"text",value:"\n"}]},code:function dc(r,e){const i=e.value?e.value+"\n":"",s={};e.lang&&(s.className=["language-"+e.lang]);let l={type:"element",tagName:"code",properties:s,children:[{type:"text",value:i}]};return e.meta&&(l.data={meta:e.meta}),r.patch(e,l),l=r.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},r.patch(e,l),l},delete:function hc(r,e){const i={type:"element",tagName:"del",properties:{},children:r.all(e)};return r.patch(e,i),r.applyData(e,i)},emphasis:function fa(r,e){const i={type:"element",tagName:"em",properties:{},children:r.all(e)};return r.patch(e,i),r.applyData(e,i)},footnoteReference:function ga(r,e){const i="string"==typeof r.options.clobberPrefix?r.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),l=_n(s.toLowerCase()),u=r.footnoteOrder.indexOf(s);let c,h=r.footnoteCounts.get(s);void 0===h?(h=0,r.footnoteOrder.push(s),c=r.footnoteOrder.length):c=u+1,h+=1,r.footnoteCounts.set(s,h);const f={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};r.patch(e,f);const y={type:"element",tagName:"sup",properties:{},children:[f]};return r.patch(e,y),r.applyData(e,y)},heading:function mc(r,e){const i={type:"element",tagName:"h"+e.depth,properties:{},children:r.all(e)};return r.patch(e,i),r.applyData(e,i)},html:function Ao(r,e){if(r.options.allowDangerousHtml){const i={type:"raw",value:e.value};return r.patch(e,i),r.applyData(e,i)}},imageReference:function Nr(r,e){const i=String(e.identifier).toUpperCase(),s=r.definitionById.get(i);if(!s)return ya(r,e);const l={src:_n(s.url||""),alt:e.alt};null!=s.title&&(l.title=s.title);const u={type:"element",tagName:"img",properties:l,children:[]};return r.patch(e,u),r.applyData(e,u)},image:function va(r,e){const i={src:_n(e.url)};null!=e.alt&&(i.alt=e.alt),null!=e.title&&(i.title=e.title);const s={type:"element",tagName:"img",properties:i,children:[]};return r.patch(e,s),r.applyData(e,s)},inlineCode:function td(r,e){const i={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};r.patch(e,i);const s={type:"element",tagName:"code",properties:{},children:[i]};return r.patch(e,s),r.applyData(e,s)},linkReference:function Es(r,e){const i=String(e.identifier).toUpperCase(),s=r.definitionById.get(i);if(!s)return ya(r,e);const l={href:_n(s.url||"")};null!=s.title&&(l.title=s.title);const u={type:"element",tagName:"a",properties:l,children:r.all(e)};return r.patch(e,u),r.applyData(e,u)},link:function Io(r,e){const i={href:_n(e.url)};null!=e.title&&(i.title=e.title);const s={type:"element",tagName:"a",properties:i,children:r.all(e)};return r.patch(e,s),r.applyData(e,s)},listItem:function fc(r,e,i){const s=r.all(e),l=i?function gc(r){let e=!1;if("list"===r.type){e=r.spread||!1;const i=r.children;let s=-1;for(;!e&&++s<i.length;)e=Wi(i[s])}return e}(i):Wi(e),u={},c=[];if("boolean"==typeof e.checked){const g=s[0];let x;g&&"element"===g.type&&"p"===g.tagName?x=g:(x={type:"element",tagName:"p",properties:{},children:[]},s.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let h=-1;for(;++h<s.length;){const g=s[h];(l||0!==h||"element"!==g.type||"p"!==g.tagName)&&c.push({type:"text",value:"\n"}),"element"!==g.type||"p"!==g.tagName||l?c.push(g):c.push(...g.children)}const f=s[s.length-1];f&&(l||"element"!==f.type||"p"!==f.tagName)&&c.push({type:"text",value:"\n"});const y={type:"element",tagName:"li",properties:u,children:c};return r.patch(e,y),r.applyData(e,y)},list:function yc(r,e){const i={},s=r.all(e);let l=-1;for("number"==typeof e.start&&1!==e.start&&(i.start=e.start);++l<s.length;){const c=s[l];if("element"===c.type&&"li"===c.tagName&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const u={type:"element",tagName:e.ordered?"ol":"ul",properties:i,children:r.wrap(s,!0)};return r.patch(e,u),r.applyData(e,u)},paragraph:function To(r,e){const i={type:"element",tagName:"p",properties:{},children:r.all(e)};return r.patch(e,i),r.applyData(e,i)},root:function Po(r,e){const i={type:"root",children:r.wrap(r.all(e))};return r.patch(e,i),r.applyData(e,i)},strong:function Mr(r,e){const i={type:"element",tagName:"strong",properties:{},children:r.all(e)};return r.patch(e,i),r.applyData(e,i)},table:function xa(r,e){const i=r.all(e),s=i.shift(),l=[];if(s){const c={type:"element",tagName:"thead",properties:{},children:r.wrap([s],!0)};r.patch(e.children[0],c),l.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:r.wrap(i,!0)},h=to(e.children[1]),f=Al(e.children[e.children.length-1]);h&&f&&(c.position={start:h,end:f}),l.push(c)}const u={type:"element",tagName:"table",properties:{},children:r.wrap(l,!0)};return r.patch(e,u),r.applyData(e,u)},tableCell:function wa(r,e){const i={type:"element",tagName:"td",properties:{},children:r.all(e)};return r.patch(e,i),r.applyData(e,i)},tableRow:function ba(r,e,i){const s=i?i.children:void 0,u=0===(s?s.indexOf(e):1)?"th":"td",c=i&&"table"===i.type?i.align:void 0,h=c?c.length:e.children.length;let f=-1;const y=[];for(;++f<h;){const x=e.children[f],w={},b=c?c[f]:void 0;b&&(w.align=b);let C={type:"element",tagName:u,properties:w,children:[]};x&&(C.children=r.all(x),r.patch(x,C),C=r.applyData(x,C)),y.push(C)}const g={type:"element",tagName:"tr",properties:{},children:r.wrap(y,!0)};return r.patch(e,g),r.applyData(e,g)},text:function Sa(r,e){const i={type:"text",value:xn(String(e.value))};return r.patch(e,i),r.applyData(e,i)},thematicBreak:function vc(r,e){const i={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(e,i),r.applyData(e,i)},toml:Pn,yaml:Pn,definition:Pn,footnoteDefinition:Pn};function Pn(){}const As={}.hasOwnProperty,xc={};function ui(r,e){const i=e||xc,s=new Map,l=new Map,c={...ai,...i.handlers},h={all:function y(g){const x=[];if("children"in g){const w=g.children;let b=-1;for(;++b<w.length;){const C=h.one(w[b],g);if(C){if(b&&"break"===w[b-1].type&&(!Array.isArray(C)&&"text"===C.type&&(C.value=ka(C.value)),!Array.isArray(C)&&"element"===C.type)){const N=C.children[0];N&&"text"===N.type&&(N.value=ka(N.value))}Array.isArray(C)?x.push(...C):x.push(C)}}}return x},applyData:No,definitionById:s,footnoteById:l,footnoteCounts:new Map,footnoteOrder:[],handlers:c,one:function f(g,x){const w=g.type,b=h.handlers[w];if(As.call(h.handlers,w)&&b)return b(h,g,x);if(h.options.passThrough&&h.options.passThrough.includes(w)){if("children"in g){const{children:N,...V}=g,D=js(V);return D.children=h.all(g),D}return js(g)}return(h.options.unknownHandler||bc)(h,g,x)},options:i,patch:Ai,wrap:Mo};return en(r,function(g){if("definition"===g.type||"footnoteDefinition"===g.type){const x="definition"===g.type?s:l,w=String(g.identifier).toUpperCase();x.has(w)||x.set(w,g)}}),h}function Ai(r,e){r.position&&(e.position=function ju(r){const e=to(r),i=Al(r);if(e&&i)return{start:e,end:i}}(r))}function No(r,e){let i=e;if(r&&r.data){const s=r.data.hName,l=r.data.hChildren,u=r.data.hProperties;"string"==typeof s&&("element"===i.type?i.tagName=s:i={type:"element",tagName:s,properties:{},children:"children"in i?i.children:[i]}),"element"===i.type&&u&&Object.assign(i.properties,js(u)),"children"in i&&i.children&&null!=l&&(i.children=l)}return i}function bc(r,e){const i=e.data||{},s=!("value"in e)||As.call(i,"hProperties")||As.call(i,"hChildren")?{type:"element",tagName:"div",properties:{},children:r.all(e)}:{type:"text",value:e.value};return r.patch(e,s),r.applyData(e,s)}function Mo(r,e){const i=[];let s=-1;for(e&&i.push({type:"text",value:"\n"});++s<r.length;)s&&i.push({type:"text",value:"\n"}),i.push(r[s]);return e&&r.length>0&&i.push({type:"text",value:"\n"}),i}function ka(r){let e=0,i=r.charCodeAt(e);for(;9===i||32===i;)e++,i=r.charCodeAt(e);return r.slice(e)}function Dr(r,e){const i=ui(r,e),s=i.one(r,void 0),l=function ed(r){const e="string"==typeof r.options.clobberPrefix?r.options.clobberPrefix:"user-content-",i=r.options.footnoteBackContent||pa,s=r.options.footnoteBackLabel||pc,l=r.options.footnoteLabel||"Footnotes",u=r.options.footnoteLabelTagName||"h2",c=r.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let f=-1;for(;++f<r.footnoteOrder.length;){const y=r.footnoteById.get(r.footnoteOrder[f]);if(!y)continue;const g=r.all(y),x=String(y.identifier).toUpperCase(),w=_n(x.toLowerCase());let b=0;const C=[],N=r.footnoteCounts.get(x);for(;void 0!==N&&++b<=N;){C.length>0&&C.push({type:"text",value:" "});let O="string"==typeof i?i:i(f,b);"string"==typeof O&&(O={type:"text",value:O}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof s?s:s(f,b),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const V=g[g.length-1];if(V&&"element"===V.type&&"p"===V.tagName){const O=V.children[V.children.length-1];O&&"text"===O.type?O.value+=" ":V.children.push({type:"text",value:" "}),V.children.push(...C)}else g.push(...C);const D={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:r.wrap(g,!0)};r.patch(y,D),h.push(D)}if(0!==h.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...js(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:r.wrap(h,!0)},{type:"text",value:"\n"}]}}(i),u=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return l&&u.children.push({type:"text",value:"\n"},l),u}function Kn(r,e){return r&&"run"in r?function(){var i=(0,R.A)(function*(s,l){const u=Dr(s,{file:l,...e});yield r.run(u,l)});return function(s,l){return i.apply(this,arguments)}}():function(i,s){return Dr(i,{file:s,...e||r})}}function zr(r){if(r)throw r}var $i=F(6216);function ci(r){if("object"!=typeof r||null===r)return!1;const e=Object.getPrototypeOf(r);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in r||Symbol.iterator in r)}const Ln_basename=function ja(r,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');Qi(r);let u,i=0,s=-1,l=r.length;if(void 0===e||0===e.length||e.length>r.length){for(;l--;)if(47===r.codePointAt(l)){if(u){i=l+1;break}}else s<0&&(u=!0,s=l+1);return s<0?"":r.slice(i,s)}if(e===r)return"";let c=-1,h=e.length-1;for(;l--;)if(47===r.codePointAt(l)){if(u){i=l+1;break}}else c<0&&(u=!0,c=l+1),h>-1&&(r.codePointAt(l)===e.codePointAt(h--)?h<0&&(s=l):(h=-1,s=c));return i===s?s=c:s<0&&(s=r.length),r.slice(i,s)},Ln_dirname=function st(r){if(Qi(r),0===r.length)return".";let s,e=-1,i=r.length;for(;--i;)if(47===r.codePointAt(i)){if(s){e=i;break}}else s||(s=!0);return e<0?47===r.codePointAt(0)?"/":".":1===e&&47===r.codePointAt(0)?"//":r.slice(0,e)},Ln_extname=function Do(r){Qi(r);let c,e=r.length,i=-1,s=0,l=-1,u=0;for(;e--;){const h=r.codePointAt(e);if(47!==h)i<0&&(c=!0,i=e+1),46===h?l<0?l=e:1!==u&&(u=1):l>-1&&(u=-1);else if(c){s=e+1;break}}return l<0||i<0||0===u||1===u&&l===i-1&&l===s+1?"":r.slice(l,i)},Ln_join=function Ea(...r){let i,e=-1;for(;++e<r.length;)Qi(r[e]),r[e]&&(i=void 0===i?r[e]:i+"/"+r[e]);return void 0===i?".":function Aa(r){Qi(r);const e=47===r.codePointAt(0);let i=function zo(r,e){let h,f,i="",s=0,l=-1,u=0,c=-1;for(;++c<=r.length;){if(c<r.length)h=r.codePointAt(c);else{if(47===h)break;h=47}if(47===h){if(l!==c-1&&1!==u)if(l!==c-1&&2===u){if(i.length<2||2!==s||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(f=i.lastIndexOf("/"),f!==i.length-1){f<0?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf("/")),l=c,u=0;continue}}else if(i.length>0){i="",s=0,l=c,u=0;continue}e&&(i=i.length>0?i+"/..":"..",s=2)}else i.length>0?i+="/"+r.slice(l+1,c):i=r.slice(l+1,c),s=c-l-1;l=c,u=0}else 46===h&&u>-1?u++:u=-1}return i}(r,!e);return 0===i.length&&!e&&(i="."),i.length>0&&47===r.codePointAt(r.length-1)&&(i+="/"),e?"/"+i:i}(i)},Ln_sep="/";function Qi(r){if("string"!=typeof r)throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const Gi_cwd=function ot(){return"/"};function pt(r){return!!(null!==r&&"object"==typeof r&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&void 0===r.auth)}const Yi=["history","path","basename","stem","extname","dirname"];class Rr{constructor(e){let i;i=e?pt(e)?{path:e}:"string"==typeof e||function Ta(r){return!!(r&&"object"==typeof r&&"byteLength"in r&&"byteOffset"in r)}(e)?{value:e}:e:{},this.cwd=Gi_cwd(),this.data={},this.history=[],this.messages=[];let l,s=-1;for(;++s<Yi.length;){const u=Yi[s];u in i&&null!=i[u]&&(this[u]="history"===u?[...i[u]]:i[u])}for(l in i)Yi.includes(l)||(this[l]=i[l])}get basename(){return"string"==typeof this.path?Ln_basename(this.path):void 0}set basename(e){It(e,"basename"),Ia(e,"basename"),this.path=Ln_join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?Ln_dirname(this.path):void 0}set dirname(e){Ro(this.basename,"dirname"),this.path=Ln_join(e||"",this.basename)}get extname(){return"string"==typeof this.path?Ln_extname(this.path):void 0}set extname(e){if(Ia(e,"extname"),Ro(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ln_join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){pt(e)&&(e=function At(r){if("string"==typeof r)r=new URL(r);else if(!pt(r)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if("file:"!==r.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function Oo(r){if(""!==r.hostname){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=r.pathname;let i=-1;for(;++i<e.length;)if(37===e.codePointAt(i)&&50===e.codePointAt(i+1)){const s=e.codePointAt(i+2);if(70===s||102===s){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}(r)}(e)),It(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?Ln_basename(this.path,this.extname):void 0}set stem(e){It(e,"stem"),Ia(e,"stem"),this.path=Ln_join(this.dirname||"",e+(this.extname||""))}fail(e,i,s){const l=this.message(e,i,s);throw l.fatal=!0,l}info(e,i,s){const l=this.message(e,i,s);return l.fatal=void 0,l}message(e,i,s){const l=new Et(e,i,s);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ia(r,e){if(r&&r.includes(Ln_sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ln_sep+"`")}function It(r,e){if(!r)throw new Error("`"+e+"` cannot be empty")}function Ro(r,e){if(!r)throw new Error("Setting `"+e+"` requires `path` to be set too")}const Pa=function(r){const s=this.constructor.prototype,l=s[r],u=function(){return l.apply(u,arguments)};Object.setPrototypeOf(u,s);const c=Object.getOwnPropertyNames(l);for(const h of c){const f=Object.getOwnPropertyDescriptor(l,h);f&&Object.defineProperty(u,h,f)}return u},$n={}.hasOwnProperty;class tn extends Pa{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function Ca(){const r=[],e={run:function i(...l){let u=-1;const c=l.pop();if("function"!=typeof c)throw new TypeError("Expected function as last argument, not "+c);!function h(f,...y){const g=r[++u];let x=-1;if(f)c(f);else{for(;++x<l.length;)null==y[x]&&(y[x]=l[x]);l=y,g?function Or(r,e){let i;return function s(...c){const h=r.length>c.length;let f;h&&c.push(l);try{f=r.apply(this,c)}catch(y){if(h&&i)throw y;return l(y)}h||(f&&f.then&&"function"==typeof f.then?f.then(u,l):f instanceof Error?l(f):u(f))};function l(c,...h){i||(i=!0,e(c,...h))}function u(c){l(null,c)}}(g,h)(...y):c(null,...y)}}(null,...l)},use:function s(l){if("function"!=typeof l)throw new TypeError("Expected `middelware` to be a function, not "+l);return r.push(l),e}};return e}()}copy(){const e=new tn;let i=-1;for(;++i<this.attachers.length;)e.use(...this.attachers[i]);return e.data($i(!0,{},this.namespace)),e}data(e,i){return"string"==typeof e?2===arguments.length?(Fo("data",this.frozen),this.namespace[e]=i,this):$n.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Fo("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...s]=this.attachers[this.freezeIndex];if(!1===s[0])continue;!0===s[0]&&(s[0]=void 0);const l=i.call(e,...s);"function"==typeof l&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const i=Ls(e),s=this.parser||this.Parser;return Ts("parse",s),s(String(i),i)}process(e,i){const s=this;return this.freeze(),Ts("process",this.parser||this.Parser),Ps("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(u,c){const h=Ls(e),f=s.parse(h);function y(g,x){g||!x?c(g):u?u(x):i(void 0,x)}s.run(f,h,function(g,x,w){if(g||!x||!w)return y(g);const C=s.stringify(x,w);!function Sc(r){return"string"==typeof r||function kc(r){return!!(r&&"object"==typeof r&&"byteLength"in r&&"byteOffset"in r)}(r)}(C)?w.result=C:w.value=C,y(g,w)})}}processSync(e){let s,i=!1;return this.freeze(),Ts("processSync",this.parser||this.Parser),Ps("processSync",this.compiler||this.Compiler),this.process(e,function l(u,c){i=!0,zr(u),s=c}),Na("processSync","process",i),s}run(e,i,s){La(e),this.freeze();const l=this.transformers;return!s&&"function"==typeof i&&(s=i,i=void 0),s?u(void 0,s):new Promise(u);function u(c,h){const f=Ls(i);l.run(e,f,function y(g,x,w){const b=x||e;g?h(g):c?c(b):s(void 0,b,w)})}}runSync(e,i){let l,s=!1;return this.run(e,i,function u(c,h){zr(c),l=h,s=!0}),Na("runSync","run",s),l}stringify(e,i){this.freeze();const s=Ls(i),l=this.compiler||this.Compiler;return Ps("stringify",l),La(e),l(e,s)}use(e,...i){const s=this.attachers,l=this.namespace;if(Fo("use",this.frozen),null!=e)if("function"==typeof e)f(e,i);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?h(e):c(e)}return this;function u(y){if("function"==typeof y)f(y,[]);else{if("object"!=typeof y)throw new TypeError("Expected usable value, not `"+y+"`");if(Array.isArray(y)){const[g,...x]=y;f(g,x)}else c(y)}}function c(y){if(!("plugins"in y)&&!("settings"in y))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(y.plugins),y.settings&&(l.settings=$i(!0,l.settings,y.settings))}function h(y){let g=-1;if(null!=y){if(!Array.isArray(y))throw new TypeError("Expected a list of plugins, not `"+y+"`");for(;++g<y.length;)u(y[g])}}function f(y,g){let x=-1,w=-1;for(;++x<s.length;)if(s[x][0]===y){w=x;break}if(-1===w)s.push([y,...g]);else if(g.length>0){let[b,...C]=g;const N=s[w][1];ci(N)&&ci(b)&&(b=$i(!0,N,b)),s[w]=[y,b,...C]}}}}const Is=(new tn).freeze();function Ts(r,e){if("function"!=typeof e)throw new TypeError("Cannot `"+r+"` without `parser`")}function Ps(r,e){if("function"!=typeof e)throw new TypeError("Cannot `"+r+"` without `compiler`")}function Fo(r,e){if(e)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function La(r){if(!ci(r)||"string"!=typeof r.type)throw new TypeError("Expected node, got `"+r+"`")}function Na(r,e,i){if(!i)throw new Error("`"+r+"` finished async. Use `"+e+"` instead")}function Ls(r){return function wc(r){return!!(r&&"object"==typeof r&&"message"in r&&"messages"in r)}(r)?r:new Rr(r)}const Fr=[],Ma={allowDangerousHtml:!0},Bo=/^(https?|ircs?|mailto|xmpp)$/i,Ho=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Da(r){const e=r.allowedElements,i=r.allowElement,s=r.children||"",l=r.className,u=r.components,c=r.disallowedElements,h=r.rehypePlugins||Fr,f=r.remarkPlugins||Fr,y=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...Ma}:Ma,g=r.skipHtml,x=r.unwrapDisallowed,w=r.urlTransform||za,b=Is().use(Jp).use(f).use(Kn,y).use(h),C=new Rr;"string"==typeof s&&(C.value=s);for(const O of Ho)Object.hasOwn(r,O.from);const N=b.parse(C);let V=b.runSync(N,C);return l&&(V={type:"element",tagName:"div",properties:{className:l},children:"root"===V.type?V.children:[V]}),en(V,function D(O,B,X){if("raw"===O.type&&X&&"number"==typeof B)return g?X.children.splice(B,1):X.children[B]={type:"text",value:O.value},B;if("element"===O.type){let ae;for(ae in us)if(Object.hasOwn(us,ae)&&Object.hasOwn(O.properties,ae)){const H=O.properties[ae],ve=us[ae];(null===ve||ve.includes(O.tagName))&&(O.properties[ae]=w(String(H||""),ae,O))}}if("element"===O.type){let ae=e?!e.includes(O.tagName):!!c&&c.includes(O.tagName);if(!ae&&i&&"number"==typeof B&&(ae=!i(O,B,X)),ae&&X&&"number"==typeof B)return x&&O.children?X.children.splice(B,1,...O.children):X.children.splice(B,1),B}}),function En(r,e){if(!e||void 0===e.Fragment)throw new TypeError("Expected `Fragment` in options");const i=e.filePath||void 0;let s;if(e.development){if("function"!=typeof e.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=function Lu(r,e){return function i(s,l,u,c){const h=Array.isArray(u.children),f=to(s);return e(l,u,c,h,{columnNumber:f?f.column-1:void 0,fileName:r,lineNumber:f?f.line:void 0},void 0)}}(i,e.jsxDEV)}else{if("function"!=typeof e.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof e.jsxs)throw new TypeError("Expected `jsxs` in production options");s=function Ll(r,e,i){return function s(l,u,c,h){const y=Array.isArray(c.children)?i:e;return h?y(u,c,h):y(u,c)}}(0,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:!1!==e.passKeys,passNode:e.passNode||!1,schema:"svg"===e.space?Cl:is,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==e.tableCellAlignToStyle},u=Tu(l,r,void 0);return u&&"string"!=typeof u?u:l.create(r,l.Fragment,{children:u||void 0},void 0)}(V,{Fragment:p.Fragment,components:u,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0})}function za(r){const e=r.indexOf(":"),i=r.indexOf("?"),s=r.indexOf("#"),l=r.indexOf("/");return e<0||l>-1&&e>l||i>-1&&e>i||s>-1&&e>s||Bo.test(r.slice(0,e))?r:""}var Uo=F(1732),ue=F(6763),L=F(3584),I=F(9611),$e=F(7561);class jc extends Z.dL{constructor(){super(...arguments),this.updateParams=e=>{this.plugin.managers.animation.updateParams({[e.name]:e.value})},this.updateCurrentParams=e=>{this.plugin.managers.animation.updateCurrentParams({[e.name]:e.value})},this.startOrStop=()=>{const e=this.plugin.managers.animation;"playing"===e.state.animationState?e.stop():(this.props.onStart&&this.props.onStart(),e.start())}}componentDidMount(){this.subscribe(this.plugin.managers.animation.events.updated,()=>this.forceUpdate())}render(){var e,i;const s=this.plugin.managers.animation;if(s.isEmpty)return null;const l="playing"===s.state.animationState,u=null===(i=(e=s.current.anim).canApply)||void 0===i?void 0:i.call(e,this.plugin);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($e.y1,{params:s.getParams(),values:s.state.params,onChange:this.updateParams,isDisabled:l}),(0,p.jsx)($e.y1,{params:s.current.params,values:s.current.paramValues,onChange:this.updateCurrentParams,isDisabled:l}),(0,p.jsx)("div",{className:"msp-flex-row",children:(0,p.jsx)(L.$n,{icon:"playing"!==s.state.animationState?void 0:I.M6,onClick:this.startOrStop,disabled:void 0!==u&&!1===u.canApply,children:"playing"===s.state.animationState?"Stop":void 0===u||u.canApply?"Start":u.reason||"Start"})})]})}}var Ec=F(1893),Br=F(9039),Ac=F(2277),tt=F(1832),Ee=F(8791),Hr=F(1094),Oa=F(4412);function Ra(r){return(0,mt.p)((e,i)=>r<=i)}class Ii extends Z.jB{constructor(){super(...arguments),this.onChange=({name:e,value:i})=>{const s={...this.props.params,[e]:i};this.props.events.onChange(s,this.areInitial(s),this.validate(s))}}validate(e){}areInitial(e){return Q.t.areEqual(this.props.info.params,e,this.props.info.initialValues)}render(){return(0,p.jsx)($e.y1,{params:this.props.info.params,values:this.props.params,onChange:this.onChange,onEnter:this.props.events.onEnter,isDisabled:this.props.isDisabled})}}!function(r){function e(l){const u=Object.keys(l);for(const c of u)if(!l[c].isHidden)return!1;return!0}r.infoFromAction=function i(l,u,c,h){const f=u.cells.get(h).obj,y=c.definition.params?c.definition.params(f,l):{};return{initialValues:Q.t.getDefaultValues(y),params:y,isEmpty:e(y)}},r.infoFromTransform=function s(l,u,c){const h=u.cells.get(c.ref),f=h.params&&h.params.definition||{};return{initialValues:h.params&&h.params.values||{},params:f,isEmpty:e(f)}}}(Ii||(Ii={}));class Ns extends Z.jB{constructor(){var e;super(...arguments),e=this,this.busy=new Oa.t(!1),this.onEnter=()=>{this.state.error||this.apply()},this.autoApplyHandle=void 0,this.events={onEnter:this.onEnter,onChange:(i,s,l)=>{this.clearAutoApply(),this.setState({params:i,isInitial:s,error:l&&l[0]},()=>{!s&&!this.state.error&&this.canAutoApply(i)&&(this.clearAutoApply(),this.autoApplyHandle=setTimeout(this.apply,50))})}},this.apply=(0,R.A)(function*(){var i,s;e.clearAutoApply(),e.setState({busy:!0});try{yield e.applyAction()}catch(l){console.error(l)}finally{null===(s=(i=e.props).onApply)||void 0===s||s.call(i),e.busy.next(!1)}}),this.refresh=()=>{this.setState({params:this.getInfo().initialValues,isInitial:!0,error:void 0})},this.setDefault=()=>{const i=this.getInfo(),s=Q.t.getDefaultValues(i.params);this.setState({params:s,isInitial:Q.t.areEqual(i.params,s,i.initialValues),error:void 0})},this.toggleExpanded=()=>{this.setState({isCollapsed:!this.state.isCollapsed})}}clearAutoApply(){void 0!==this.autoApplyHandle&&(clearTimeout(this.autoApplyHandle),this.autoApplyHandle=void 0)}componentDidMount(){this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.busy.value!==e&&this.busy.next(e)}),this.subscribe(this.busy.pipe(Ra(1)),e=>{this.setState({busy:e})})}renderApply(){const e=this.canApply();return!this.props.autoHideApply||e&&!this.canAutoApply(this.state.params)?(0,p.jsxs)("div",{className:"msp-transform-apply-wrap",children:[(0,p.jsx)(L.K0,{svg:I.ij,className:"msp-transform-default-params",onClick:this.setDefault,disabled:this.state.busy,title:"Set default params"}),(0,p.jsx)("div",{className:"msp-transform-apply-wider",children:(0,p.jsx)(L.$n,{icon:e?I.Xq:void 0,className:"msp-btn-commit msp-btn-commit-"+(e?"on":"off"),onClick:this.apply,disabled:!e,children:this.props.applyLabel||this.applyText()})})]}):null}renderDefault(){const e=this.getInfo(),i=e.isEmpty&&this.isUpdate(),s=this.getHeader(),l=this.getTransformerId(),u=this.plugin.customParamEditors.has(l)?this.plugin.customParamEditors.get(l):Ii,c=this.state.isCollapsed?"msp-transform-wrapper msp-transform-wrapper-collapsed":"msp-transform-wrapper";let h=null;if(!i&&!this.state.isCollapsed){const{a:y,b:g,bCell:x}=this.getSourceAndTarget(),w=this.renderApply();h=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u,{info:e,a:y,b:g,bCell:x,events:this.events,params:this.state.params,isDisabled:this.state.busy}),w]})}const f=(0,p.jsxs)("div",{className:c,style:{marginBottom:this.props.noMargin?0:void 0},children:["none"!==s&&!this.props.wrapInExpander&&(0,p.jsx)("div",{className:"msp-transform-header",children:(0,p.jsxs)(L.$n,{onClick:this.toggleExpanded,title:s.description,children:[!i&&(0,p.jsx)(I.In,{svg:this.state.isCollapsed?I.Cp:I.DM}),s.name]})}),h]});return i||!this.props.wrapInExpander?f:(0,p.jsx)(L.Yj,{header:this.isUpdate()?`Update ${"none"===s?"":s.name}`:`Apply ${"none"===s?"":s.name}`,headerLeftMargin:this.props.expanderHeaderLeftMargin,children:f})}renderSimple(){var e,i,s;const l=this.getInfo(),u=this.canApply(),c=(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.$n,{icon:null===(e=this.props.simpleApply)||void 0===e?void 0:e.icon,title:null===(i=this.props.simpleApply)||void 0===i?void 0:i.title,disabled:this.state.busy||!u,onClick:this.apply,className:"msp-btn-apply-simple",children:null===(s=this.props.simpleApply)||void 0===s?void 0:s.header}),!l.isEmpty&&(0,p.jsx)(L.ff,{icon:I.Hk,label:"",title:"Options",toggle:this.toggleExpanded,isSelected:!this.state.isCollapsed,disabled:this.state.busy,style:{flex:"0 0 40px",padding:0}})]});if(this.state.isCollapsed)return c;const h=this.getTransformerId(),f=this.plugin.customParamEditors.has(h)?this.plugin.customParamEditors.get(h):Ii,{a:y,b:g,bCell:x}=this.getSourceAndTarget();return(0,p.jsxs)(p.Fragment,{children:[c,(0,p.jsx)(f,{info:l,a:y,b:g,bCell:x,events:this.events,params:this.state.params,isDisabled:this.state.busy})]})}render(){return this.props.simpleApply?this.renderSimple():this.renderDefault()}}class pi extends Ns{constructor(){super(...arguments),this._getInfo=(0,Hr._)(e=>Ii.infoFromTransform(this.plugin,this.props.state,e)),this.state={error:void 0,isInitial:!0,params:this.getInfo().initialValues,busy:!1,isCollapsed:this.props.initiallyCollapsed}}applyAction(){return this.props.customUpdate?this.props.customUpdate(this.state.params):this.plugin.state.updateTransform(this.props.state,this.props.transform.ref,this.state.params)}getInfo(){return this._getInfo(this.props.transform)}getTransformerId(){return this.props.transform.transformer.id}getHeader(){return this.props.customHeader||this.props.transform.transformer.definition.display}canApply(){const{state:e}=this.props,i=e.cells.get(this.props.transform.ref);if(!i)return!1;if("error"===i.status){const s=e.cells.get(this.props.transform.parent);return!!s&&"ok"===s.status}return!this.state.error&&!this.state.busy&&!this.state.isInitial}applyText(){return this.canApply()?"Update":"Nothing to Update"}isUpdate(){return!0}getSourceAndTarget(){const e=this.props.state.cells.get(this.props.transform.ref);return{a:this.props.state.cells.get(this.props.transform.parent).obj,b:e?.obj,bCell:e}}canAutoApply(e){const i=this.props.transform.transformer.definition.canAutoUpdate;if(!i)return!1;const{state:s}=this.props,l=s.cells.get(this.props.transform.ref);return!(!l||!l.sourceRef||"ok"!==l.status)&&i({a:s.cells.get(l.sourceRef).obj,b:l.obj,oldParams:this.getInfo().initialValues,newParams:e},this.plugin)}componentDidMount(){super.componentDidMount(),this.props.toggleCollapsed&&this.subscribe(this.props.toggleCollapsed,()=>this.setState({isCollapsed:!this.state.isCollapsed})),this.subscribe(this.plugin.state.events.object.updated,({ref:e,state:i})=>{this.props.transform.ref!==e||this.props.state!==i||this.state.params!==this.props.transform.params&&(this._getInfo=(0,Hr._)(s=>Ii.infoFromTransform(this.plugin,this.props.state,s)),this.setState({params:this.props.transform.params,isInitial:!0}))})}componentDidUpdate(e){var i;if(this.props.transform!==e.transform){const s=this.props.state.cells.get(this.props.transform.ref);this.setState({params:(null===(i=s.params)||void 0===i?void 0:i.values)||{},isInitial:!0,error:void 0,simpleOnly:this.state.simpleOnly})}}}class nd extends Z.jB{get current(){return this.plugin.managers.structure.hierarchy.behaviors.selection}componentDidMount(){this.subscribe(this.current,()=>this.forceUpdate())}get unitcell(){var e;const{selection:i}=this.plugin.managers.structure.hierarchy;if(0===i.structures.length)return null;const s=[];for(const l of i.structures){const u=l.model;u?.unitcell&&null!==(e=u.unitcell)&&void 0!==e&&e.cell.obj&&s.push(u.unitcell)}return 0===s.length?null:(0,p.jsx)(bn,{refs:s,labelMultiple:"Unit Cells"})}get customControls(){const e=[];return this.plugin.genericRepresentationControls.forEach((i,s)=>{const[l,u]=i(this.plugin.managers.structure.hierarchy.selection);l.length>0&&e.push((0,p.jsx)("div",{children:(0,p.jsx)(bn,{refs:l,labelMultiple:u})},s))}),e.length>0?e:null}render(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{style:{marginTop:"6px"},children:[this.unitcell,this.customControls]})})}}class bn extends Z.jB{constructor(){super(...arguments),this.state={showOptions:!1},this.toggleVisibility=e=>{e.preventDefault(),this.plugin.managers.structure.hierarchy.toggleVisibility(this.props.refs),e.currentTarget.blur()},this.highlight=e=>{e.preventDefault(),this.pivot.cell.parent&&ue.a.Interactivity.Object.Highlight(this.plugin,{state:this.pivot.cell.parent,ref:this.props.refs.map(i=>i.cell.transform.ref)})},this.clearHighlight=e=>{e.preventDefault(),ue.a.Interactivity.ClearHighlights(this.plugin)},this.focus=e=>{var i;e.preventDefault();let s=!0;for(const u of this.props.refs)if(!u.cell.state.isHidden){s=!1;break}s&&this.plugin.managers.structure.hierarchy.toggleVisibility(this.props.refs,"show");const l=[];for(const u of this.props.refs){if(u.cell.state.isHidden)continue;const c=null===(i=u.cell.obj)||void 0===i?void 0:i.data.repr.getLoci();c&&l.push(c)}this.plugin.managers.camera.focusLoci(l)},this.toggleOptions=()=>this.setState({showOptions:!this.state.showOptions})}componentDidMount(){this.subscribe(this.plugin.state.events.cell.stateUpdated,e=>{var i;tt.Uw.ObjectEvent.isCell(e,null===(i=this.pivot)||void 0===i?void 0:i.cell)&&this.forceUpdate()})}get pivot(){return this.props.refs[0]}render(){const{refs:e,labelMultiple:i}=this.props;if(0===e.length)return null;const s=e[0];let l,u;if(1===e.length){const{obj:c}=s.cell;if(!c)return null;l=c?.label,u=c?.description}else l=`${e.length} ${i||"Objects"}`;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsxs)("button",{className:"msp-form-control msp-control-button-label",title:`${l}. Click to focus.`,onClick:this.focus,onMouseEnter:this.highlight,onMouseLeave:this.clearHighlight,style:{textAlign:"left"},children:[l," ",(0,p.jsx)("small",{children:u})]}),(0,p.jsx)(L.K0,{svg:s.cell.state.isHidden?I.qF:I.zs,toggleState:!1,className:"msp-form-control",onClick:this.toggleVisibility,title:s.cell.state.isHidden?"Show":"Hide",small:!0,flex:!0}),1===e.length&&(0,p.jsx)(L.K0,{svg:I.cv,className:"msp-form-control",onClick:this.toggleOptions,title:"Options",toggleState:this.state.showOptions,flex:!0})]}),1===e.length&&this.state.showOptions&&s.cell.parent&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"msp-control-offset",children:(0,p.jsx)(pi,{state:s.cell.parent,transform:s.cell.transform,customHeader:"none",autoHideApply:!0})})})]})}}class Fa extends Z.VK{defaultState(){return{header:"Components",isCollapsed:!1,isDisabled:!1,brand:{accent:"blue",svg:I.c3}}}componentDidMount(){this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,e=>this.setState({description:Ac.G.getSelectedStructuresDescription(this.plugin)}))}renderControls(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Vo,{}),(0,p.jsx)(Tc,{}),(0,p.jsx)(nd,{})]})}}class Vo extends Z.jB{constructor(){super(...arguments),this.state={isEmpty:!0,isBusy:!1,canUndo:!1},this.togglePreset=this.toggleAction("preset"),this.toggleAdd=this.toggleAction("add"),this.toggleOptions=this.toggleAction("options"),this.hideAction=()=>this.setState({action:void 0}),this.applyPreset=e=>{if(this.hideAction(),!e)return;const i=this.plugin.managers.structure,{structures:s}=i.hierarchy.selection;null===e.value?i.component.clear(s):i.component.applyPreset(s,e.value)},this.undo=()=>{const e=this.plugin.state.data.undo();e&&this.plugin.runTask(e)}}get isDisabled(){return this.state.isBusy||this.state.isEmpty}componentDidMount(){this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,e=>this.setState({action:"options"!==this.state.action||0===e.structures.length?void 0:"options",isEmpty:0===e.structures.length})),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e,action:"options"!==this.state.action?void 0:"options"})}),this.subscribe(this.plugin.state.data.events.historyUpdated,({state:e})=>{this.setState({canUndo:e.canUndo})})}toggleAction(e){return()=>this.setState({action:this.state.action===e?void 0:e})}get presetControls(){return(0,p.jsx)(Ee.W,{items:this.presetActions,onSelect:this.applyPreset})}get presetActions(){const e=this.plugin.managers.structure.component.pivotStructure,i=this.plugin.builders.structure.representation.getPresets(e?.cell.obj);return Ee.W.createItems(i,{label:s=>s.display.name,category:s=>s.display.group,description:s=>s.display.description})}render(){const e=this.state.canUndo?`Undo ${this.plugin.state.data.latestUndoLabel}`:"Some mistakes of the past can be undone.";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.ff,{icon:I.sM,label:"Preset",title:"Apply a representation preset for the current structure(s).",toggle:this.togglePreset,isSelected:"preset"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.CR,label:"Add",title:"Add a new representation component for a selection.",toggle:this.toggleAdd,isSelected:"add"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.Hk,label:"",title:"Options that are applied to all applicable representations.",style:{flex:"0 0 40px",padding:0},toggle:this.toggleOptions,isSelected:"options"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.K0,{svg:I.L3,className:"msp-flex-item",flex:"40px",onClick:this.undo,disabled:!this.state.canUndo||this.isDisabled,title:e})]}),"preset"===this.state.action&&this.presetControls,"add"===this.state.action&&(0,p.jsx)("div",{className:"msp-control-offset",children:(0,p.jsx)(Ba,{onApply:this.hideAction})}),"options"===this.state.action&&(0,p.jsx)("div",{className:"msp-control-offset",children:(0,p.jsx)(Ic,{isDisabled:this.isDisabled})})]})}}class Ba extends Z.jB{constructor(){super(...arguments),this.state=this.createState(),this.apply=()=>{const e=this.props.forSelection?this.currentStructures:this.selectedStructures;this.props.onApply(),this.plugin.managers.structure.component.add(this.state.values,e)},this.paramsChanged=e=>this.setState({values:e})}createState(){const e=Br.C.getAddParams(this.plugin);return{params:e,values:Q.t.getDefaultValues(e)}}get selectedStructures(){return this.plugin.managers.structure.component.currentStructures}get currentStructures(){return this.plugin.managers.structure.hierarchy.current.structures}render(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($e.y1,{params:this.state.params,values:this.state.values,onChangeValues:this.paramsChanged}),(0,p.jsx)(L.$n,{icon:I.CR,title:"Use Selection and optional Representation to create a new Component.",className:"msp-btn-commit msp-btn-commit-on",onClick:this.apply,style:{marginTop:"1px"},children:"Create Component"})]})}}class Ic extends Z.jB{constructor(){super(...arguments),this.update=e=>this.plugin.managers.structure.component.setOptions(e)}componentDidMount(){this.subscribe(this.plugin.managers.structure.component.events.optionsUpdated,()=>this.forceUpdate())}render(){return(0,p.jsx)($e.y1,{params:Br.C.OptionsParams,values:this.plugin.managers.structure.component.state.options,onChangeValues:this.update,isDisabled:this.props.isDisabled})}}class Tc extends Z.jB{componentDidMount(){this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,()=>{this.forceUpdate()})}render(){const e=this.plugin.managers.structure.hierarchy.currentComponentGroups;return 0===e.length?null:(0,p.jsx)("div",{style:{marginTop:"6px"},children:e.map(i=>(0,p.jsx)(Ha,{group:i},i[0].cell.transform.ref))})}}class Ha extends Z.jB{constructor(){super(...arguments),this.state={action:void 0},this.toggleVisible=e=>{e.preventDefault(),e.currentTarget.blur(),this.plugin.managers.structure.component.toggleVisibility(this.props.group)},this.selectAction=e=>{e&&(0,e?.value)()},this.remove=()=>this.plugin.managers.structure.hierarchy.remove(this.props.group,!0),this.toggleAction=()=>this.setState({action:"action"===this.state.action?void 0:"action"}),this.toggleLabel=()=>this.setState({action:"label"===this.state.action?void 0:"label"}),this.highlight=e=>{e.preventDefault(),this.props.group[0].cell.parent&&ue.a.Interactivity.Object.Highlight(this.plugin,{state:this.props.group[0].cell.parent,ref:this.props.group.map(i=>i.cell.transform.ref)})},this.clearHighlight=e=>{e.preventDefault(),ue.a.Interactivity.ClearHighlights(this.plugin)},this.focus=()=>{let e=!0;for(const i of this.props.group)if(!i.cell.state.isHidden){e=!1;break}e&&this.plugin.managers.structure.hierarchy.toggleVisibility(this.props.group,"show"),this.plugin.managers.camera.focusSpheres(this.props.group,i=>{var s;if(!i.cell.state.isHidden)return null===(s=i.cell.obj)||void 0===s?void 0:s.data.boundary.sphere})},this.updateLabel=e=>{this.plugin.managers.structure.component.updateLabel(this.pivot,e)}}get pivot(){return this.props.group[0]}componentDidMount(){this.subscribe(this.plugin.state.events.cell.stateUpdated,e=>{tt.Uw.ObjectEvent.isCell(e,this.pivot.cell)&&this.forceUpdate()})}get colorByActions(){var e,i;const s=this.plugin.managers.structure.component,u=null===(e=this.pivot.representations[0].cell.transform.params)||void 0===e?void 0:e.colorTheme.name,c=(0,Ec.A8)(this.plugin,null===(i=this.pivot.cell.obj)||void 0===i?void 0:i.data);return Ee.W.createItemsFromSelectOptions(c,{value:h=>()=>s.updateRepresentationsTheme(this.props.group,{color:h[0]}),selected:h=>h[0]===u})}get actions(){const e=this.plugin.managers.structure.component,i=[[Ee.W.Header("Add Representation"),...Br.C.getRepresentationTypes(this.plugin,this.props.group[0]).map(s=>Ee.W.Item(s[1],()=>e.addRepresentation(this.props.group,s[0])))]];return this.pivot.representations.length>0&&i.push([Ee.W.Header("Set Coloring",{isIndependent:!0}),...this.colorByActions]),e.canBeModified(this.props.group[0])&&i.push([Ee.W.Header("Modify by Selection"),Ee.W.Item("Include",()=>e.modifyByCurrentSelection(this.props.group,"union"),{icon:I.QM}),Ee.W.Item("Subtract",()=>e.modifyByCurrentSelection(this.props.group,"subtract"),{icon:I.tk}),Ee.W.Item("Intersect",()=>e.modifyByCurrentSelection(this.props.group,"intersect"),{icon:I.sx})]),i.push(Ee.W.Item("Select This",()=>e.selectThis(this.props.group),{icon:I.B7})),e.canBeModified(this.props.group[0])&&i.push(Ee.W.Item("Edit Label",this.toggleLabel)),i}get reprLabel(){var e;const i=this.pivot;return 0===i.representations.length?"No repr.":1===i.representations.length?null===(e=i.representations[0].cell.obj)||void 0===e?void 0:e.label:`${i.representations.length} reprs`}render(){var e;const i=this.pivot,s=i.cell,l=null===(e=s.obj)||void 0===e?void 0:e.label;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsxs)(L.$n,{noOverflow:!0,className:"msp-control-button-label",title:`${l}. Click to focus.`,onClick:this.focus,onMouseEnter:this.highlight,onMouseLeave:this.clearHighlight,style:{textAlign:"left"},children:[l,(0,p.jsx)("small",{className:"msp-25-lower-contrast-text",style:{float:"right"},children:this.reprLabel})]}),(0,p.jsx)(L.K0,{svg:s.state.isHidden?I.qF:I.zs,toggleState:!1,onClick:this.toggleVisible,title:(s.state.isHidden?"Show":"Hide")+" component",small:!0,className:"msp-form-control",flex:!0}),(0,p.jsx)(L.K0,{svg:I.mf,toggleState:!1,onClick:this.remove,title:"Remove",small:!0,className:"msp-form-control",flex:!0}),(0,p.jsx)(L.K0,{svg:I.cv,onClick:this.toggleAction,title:"Actions",toggleState:"action"===this.state.action,className:"msp-form-control",flex:!0})]}),"label"===this.state.action&&(0,p.jsx)("div",{className:"msp-control-offset",style:{marginBottom:"6px"},children:(0,p.jsx)(L.eJ,{label:"Label",control:(0,p.jsxs)("div",{style:{display:"flex",textAlignLast:"center"},children:[(0,p.jsx)(L.ks,{onChange:this.updateLabel,value:l,style:{flex:"1 1 auto",minWidth:0},className:"msp-form-control",blurOnEnter:!0,blurOnEscape:!0}),(0,p.jsx)(L.K0,{svg:I.Xq,onClick:this.toggleLabel,className:"msp-form-control msp-control-button-label",flex:!0})]})})}),"action"===this.state.action&&(0,p.jsxs)("div",{className:"msp-accent-offset",children:[(0,p.jsx)("div",{style:{marginBottom:"6px"},children:(0,p.jsx)(Ee.W,{items:this.actions,onSelect:this.selectAction,noOffset:!0})}),(0,p.jsx)("div",{style:{marginBottom:"6px"},children:i.representations.map(c=>(0,p.jsx)(Ur,{group:this.props.group,representation:c},c.cell.transform.ref))})]})]})}}class Ur extends Z.jB{constructor(){super(...arguments),this.remove=()=>this.plugin.managers.structure.component.removeRepresentations(this.props.group,this.props.representation),this.toggleVisible=e=>{e.preventDefault(),e.currentTarget.blur(),this.plugin.managers.structure.component.toggleVisibility(this.props.group,this.props.representation)},this.update=e=>this.plugin.managers.structure.component.updateRepresentations(this.props.group,this.props.representation,e)}componentDidMount(){this.subscribe(this.plugin.state.events.cell.stateUpdated,e=>{tt.Uw.ObjectEvent.isCell(e,this.props.representation.cell)&&this.forceUpdate()})}render(){var e;const i=this.props.representation.cell;return(0,p.jsxs)("div",{className:"msp-representation-entry",children:[i.parent&&(0,p.jsx)(L.Yj,{header:`${(null===(e=i.obj)||void 0===e?void 0:e.label)||""} Representation`,noOffset:!0,children:(0,p.jsx)(pi,{state:i.parent,transform:i.transform,customHeader:"none",customUpdate:this.update,noMargin:!0})}),(0,p.jsx)(L.K0,{svg:I.mf,onClick:this.remove,title:"Remove",small:!0,className:"msp-default-bg",toggleState:!1,style:{position:"absolute",top:0,right:"32px",lineHeight:"24px",height:"24px",textAlign:"right",width:"44px",paddingRight:"6px",background:"none"}}),(0,p.jsx)(L.K0,{svg:this.props.representation.cell.state.isHidden?I.qF:I.zs,toggleState:!1,onClick:this.toggleVisible,title:"Toggle Visibility",small:!0,className:"msp-default-bg",style:{position:"absolute",top:0,right:0,lineHeight:"24px",height:"24px",textAlign:"right",width:"32px",paddingRight:"6px",background:"none"}})]})}}var qo=F(3246),Ua=F(5995),Bt=F(237),Nn=F(3917),Zi=F(9096),Pc=F(4986),Va=F(7232),qa=F(9677);function Dc(r,e){if("atom-id"===e){const i=function Mc(r){return r.split(",").map(e=>e.trim().split(/\s+|[-]/g).filter(i=>!!i)).filter(e=>1===e.length||2===e.length).map(e=>1===e.length?[+e[0],+e[0]]:[+e[0],+e[1]])}(r);return function nn(r){const e=qa.th.create();for(const[s,l]of r)for(let u=s;u<=l;u++)qa.th.add(e,u,u);const i=De.J.struct.generator.atomGroups({"atom-test":De.J.core.set.has([De.J.set(...e.array),De.J.ammp("id")])});return(0,Va.wE)(i)}(i)}return function id(r,e){var i;const s=[],l="auth"===e?"auth_asym_id":"label_asym_id",u="auth"===e?"auth_seq_id":"label_seq_id";for(const h of r)if("range"===h.kind)s.push(De.J.struct.generator.atomGroups({"chain-test":De.J.core.rel.eq([De.J.ammp(l),h.asym_id]),"residue-test":De.J.core.rel.inRange([De.J.ammp(u),h.seq_id_beg,h.seq_id_end])}));else{const f=(null!==(i=h.ins_code)&&void 0!==i?i:"").trim();s.push(De.J.struct.generator.atomGroups({"chain-test":De.J.core.rel.eq([De.J.ammp(l),h.asym_id]),"residue-test":De.J.core.logic.and([De.J.core.rel.eq([De.J.ammp(u),h.seq_id]),De.J.core.rel.eq([De.J.ammp("pdbx_PDB_ins_code"),f])])}))}const c=De.J.struct.combinator.merge(s);return(0,Va.wE)(c)}(function Nc(r){return r.split(",").map(e=>e.trim().split(/\s+|[-]/g).filter(i=>!!i)).map(e=>function Qt(r,e,i){if(r&&0!==e.length&&!Number.isNaN(+e[0]))return Number.isNaN(i)?{kind:"single",asym_id:r,seq_id:+e[0],ins_code:e[1]}:{kind:"range",asym_id:r,seq_id_beg:+e[0],seq_id_end:i}}(e[0],function Lc(r){return r?r.split(":"):[]}(e[1]),+e[2])).filter(e=>!!e)}(r),e)}var Xi=F(7785),di=F(4123),Ms=F(1937);class _o extends he.PureComponent{getBindingComponents(){const e=function _a(r){return Object.keys(r).map(e=>[e,r[e]]).filter(e=>di.O.isBinding(e[1]))}(this.props.bindings);return(0,p.jsx)(p.Fragment,{children:e.map(i=>{const[s,l]=i;return di.O.isEmpty(l)?null:(0,p.jsxs)("div",{style:{marginBottom:"6px"},children:[(0,p.jsx)("b",{children:l.action}),(0,p.jsx)("br",{}),(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:di.O.format(l,s)}})]},s)})})}render(){return(0,p.jsx)(Mn,{children:this.getBindingComponents()})}}class Mn extends he.PureComponent{render(){return(0,p.jsx)("div",{className:"msp-help-text",children:(0,p.jsx)("div",{children:this.props.children})})}}class wn extends he.PureComponent{constructor(){super(...arguments),this.state={header:this.props.header,isExpanded:!!this.props.initiallyExpanded},this.toggleExpanded=()=>this.setState({isExpanded:!this.state.isExpanded})}render(){return(0,p.jsxs)("div",{className:"msp-control-group-wrapper",children:[(0,p.jsx)("div",{className:"msp-control-group-header",children:(0,p.jsxs)(L.$n,{onClick:this.toggleExpanded,children:[(0,p.jsx)(I.In,{svg:this.state.isExpanded?I.DM:I.Cp}),this.props.header]})}),this.state.isExpanded&&(0,p.jsx)("div",{className:"msp-control-offset",style:{display:this.state.isExpanded?"block":"none"},children:this.props.children})]})}}function Ds(r){return(0,p.jsx)("div",{className:"msp-simple-help-section",children:r.header})}class Wo extends Z.dL{constructor(){super(...arguments),this.getInteractionBindings=(0,Hr._)(e=>{let i;return e.forEach(s=>{var l;const u=null===(l=s.params)||void 0===l?void 0:l.values;u?.bindings&&Object.keys(u.bindings).length>0&&(i||(i={}),Object.assign(i,u.bindings))}),i})}componentDidMount(){this.subscribe(this.plugin.events.canvas3d.settingsUpdated,()=>this.forceUpdate())}render(){const e=this.getInteractionBindings(this.plugin.state.behaviors.cells);return(0,p.jsxs)(p.Fragment,{children:[!this.props.selectOnly&&this.plugin.canvas3d&&(0,p.jsx)(wn,{header:"Moving in 3D",children:(0,p.jsx)(_o,{bindings:this.plugin.canvas3d.props.trackball.bindings})},"trackball"),!!e&&(0,p.jsx)(wn,{header:"Mouse & Key Controls",children:(0,p.jsx)(_o,{bindings:e})},"interactions")]})}}class Wa extends Z.dL{componentDidMount(){this.subscribe(this.plugin.events.canvas3d.settingsUpdated,()=>this.forceUpdate())}formatTriggers(e){return e.triggers.map(i=>di.O.Trigger.format(i)).join(" or ")}getTriggerFor(e,i){const l=this.plugin.state.behaviors.select(tt.QX.Generators.ofTransformer(e)),u=1===l.length?l[0].params:void 0,c=u?u.values.bindings:{};return this.formatTriggers(i in c?c[i]:di.O.Empty)}render(){const e=this.getTriggerFor(Ms.SelectLoci,"clickSelectToggle"),i=this.getTriggerFor(Ms.FocusLoci,"clickFocus");return(0,p.jsxs)("div",{children:[(0,p.jsx)(Ds,{header:"Interface Controls"}),(0,p.jsxs)(wn,{header:"Inline Help",children:[(0,p.jsx)(Mn,{children:"Many user interface elements show a little questionmark icon when hovered over. Clicking the icon toggles the display of an inline help text."}),(0,p.jsx)(Mn,{children:"Tooltips may provide additional information on a user interface element and are shown when hovering over it with the mouse."})]}),(0,p.jsx)(wn,{header:"Selections",children:(0,p.jsxs)(Mn,{children:["The viewer allows changing colors and representations for selections of atoms, residues or chains. Selections can be created by",(0,p.jsxs)("ul",{style:{paddingLeft:"20px"},children:[(0,p.jsxs)("li",{children:["picking elements on the 3D canvas or the sequence view using the mouse, e.g. toggle selection using ",e," (for more see help section on ",(0,p.jsx)("i",{children:"Mouse Controls"}),")"]}),(0,p.jsxs)("li",{children:["using the ",(0,p.jsx)("i",{children:"Add"}),", ",(0,p.jsx)("i",{children:"Remove"})," and ",(0,p.jsx)("i",{children:"Only"})," dropdown buttons in the ",(0,p.jsx)("i",{children:"Manage Selection"})," panel which allow modifing the current selection by predefined sets"]})]})]})}),(0,p.jsx)(wn,{header:"Coloring",children:(0,p.jsxs)(Mn,{children:["There are two ways to color structures. Every representation (e.g. cartoon or spacefill) has a color theme which can be changed using the dropdown for each representation in the ",(0,p.jsx)("i",{children:"Structure Settings"})," panel. Additionally any selection atoms, residues or chains can by given a custom color. For that, first select the parts of the structure to be colored (see help section on ",(0,p.jsx)("i",{children:"Selections"}),") and, second, choose a color from the color dropdown botton in the ",(0,p.jsx)("i",{children:"Selection"})," row of the ",(0,p.jsx)("i",{children:"Change Representation"})," panel. The theme color can be seen as a base color that is overpainted by the custom color. Custom colors can be removed for a selection with the 'Clear' option in the color dropdown."]})}),(0,p.jsx)(wn,{header:"Representations",children:(0,p.jsxs)(Mn,{children:["Structures can be shown with many different representations (e.g. cartoon or spacefill). The ",(0,p.jsx)("i",{children:"Change Representation"})," panel offers a collection of predefined styles which can be applied using the ",(0,p.jsx)("i",{children:"Preset"})," dropdown button. Additionally any selection atoms, residues or chains can by shown with a custom representation. For that, first select the parts of the structure to be mofified (see help section on ",(0,p.jsx)("i",{children:"Selections"}),") and, second, choose a representation to hide or show from the ",(0,p.jsx)("i",{children:"Show"})," and ",(0,p.jsx)("i",{children:"Hide"})," dropdown bottons in the ",(0,p.jsx)("i",{children:"Selection"})," row of the ",(0,p.jsx)("i",{children:"Change Representation"})," panel. The ",(0,p.jsx)("i",{children:"Everything"})," row applies the action to the whole structure instead of the current selection."]})}),(0,p.jsx)(wn,{header:"Surroundings",children:(0,p.jsxs)(Mn,{children:["To show the surroundings of a residue or ligand, click it in the 3D scene or in the sequence widget using ",i,"."]})}),(0,p.jsx)(Ds,{header:"How-to Guides"}),(0,p.jsx)(wn,{header:"Create an Image",children:(0,p.jsxs)(Mn,{children:[(0,p.jsxs)("p",{children:["Use the ",(0,p.jsx)(I.In,{svg:I.OY})," icon in the viewport to bring up the screenshot controls."]}),(0,p.jsxs)("p",{children:["To adjust the size of the image, use the ",(0,p.jsx)("i",{children:"Resolution"})," dropdown."]})]})}),(0,p.jsx)(Ds,{header:"Mouse Controls"}),(0,p.jsx)(Wo,{})]})}}class Vr extends Z.jB{constructor(){super(...arguments),this._toggleSelMode=()=>{this.plugin.selectionMode=!this.plugin.selectionMode}}componentDidMount(){this.subscribe(this.plugin.events.canvas3d.settingsUpdated,()=>this.forceUpdate()),this.subscribe(this.plugin.layout.events.updated,()=>this.forceUpdate()),this.subscribe(this.plugin.behaviors.interaction.selectionMode,()=>this.forceUpdate())}render(){return(0,p.jsx)(L.K0,{svg:I.yG,onClick:this._toggleSelMode,title:"Toggle Selection Mode",style:this.props.inline?{background:"transparent",width:"auto",height:"auto",lineHeight:"unset"}:{background:"transparent"},toggleState:this.plugin.selectionMode})}}const rd={granularity:Pc.d.Params.granularity},Ji=new Map([["add","Add/Union Selection"],["remove","Remove/Subtract Selection"],["intersect","Intersect Selection"],["set","Set Selection"]]);class Ka extends Z.dL{constructor(){super(...arguments),this.state={action:void 0,helper:void 0,isEmpty:!0,isBusy:!1,canUndo:!1},this.set=(e,i)=>{this.plugin.managers.structure.selection.fromSelectionQuery(e,i,!1)},this.selectQuery=(e,i)=>{if(!e||!this.state.action)return void this.setState({action:void 0});const s=this.state.action;i?.shiftKey?this.set(s,e.value):this.setState({action:void 0},()=>{this.set(s,e.value)})},this.selectHelper=(e,i)=>{console.log(e),this.setState(e&&this.state.action?{helper:e.value.kind}:{action:void 0,helper:void 0})},this.queriesItems=[],this.queriesVersion=-1,this.helpersItems=void 0,this.toggleAdd=this.showAction("add"),this.toggleRemove=this.showAction("remove"),this.toggleIntersect=this.showAction("intersect"),this.toggleSet=this.showAction("set"),this.toggleTheme=this.showAction("theme"),this.toggleAddComponent=this.showAction("add-component"),this.toggleHelp=this.showAction("help"),this.setGranuality=({value:e})=>{this.plugin.managers.interactivity.setProps({granularity:e})},this.turnOff=()=>this.plugin.selectionMode=!1,this.undo=()=>{const e=this.plugin.state.data.undo();e&&this.plugin.runTask(e)},this.subtract=()=>{const e=this.plugin.managers.structure.hierarchy.getStructuresWithSelection(),i=[];for(const s of e)i.push(...s.components);0!==i.length&&this.plugin.managers.structure.component.modifyByCurrentSelection(i,"subtract")}}componentDidMount(){this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,e=>{const i=0===e.hierarchy.structures.length;this.state.isEmpty!==i&&this.setState({isEmpty:i}),this.queriesVersion=-1,this.forceUpdate()}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e,action:void 0})}),this.subscribe(this.plugin.managers.interactivity.events.propsUpdated,()=>{this.forceUpdate()}),this.subscribe(this.plugin.state.data.events.historyUpdated,({state:e})=>{this.setState({canUndo:e.canUndo})})}get isDisabled(){return this.state.isBusy||this.state.isEmpty}get structures(){var e;const i=[];for(const s of this.plugin.managers.structure.hierarchy.selection.structures){const l=null===(e=s.cell.obj)||void 0===e?void 0:e.data;l&&i.push(l)}return i}get queries(){const{registry:e}=this.plugin.query.structure;if(e.version!==this.queriesVersion){const i=this.structures,s=[...e.list,...(0,Zi.Ag)(i),...(0,Zi.Mt)(i),...(0,Zi.HU)(i)].sort((l,u)=>u.priority-l.priority);this.queriesItems=Ee.W.createItems(s,{filter:l=>l!==Zi.Ou.current&&!l.isHidden,label:l=>l.label,category:l=>l.category,description:l=>l.description}),this.queriesVersion=e.version}return this.queriesItems}get helpers(){return this.helpersItems||(this.helpersItems=Ee.W.createItems([{kind:"residue-list",category:"Helpers",label:"Atom/Residue Identifier List",description:"Create a selection from a list of atom/residue ranges."}],{label:i=>i.label,category:i=>i.category,description:i=>i.description})),this.helpersItems}showAction(e){return()=>this.setState({action:this.state.action===e?void 0:e,helper:void 0})}render(){const e=this.plugin.managers.interactivity.props.granularity,i=this.state.canUndo?`Undo ${this.plugin.state.data.latestUndoLabel}`:"Some mistakes of the past can be undone.";let s;if(this.state.action&&!this.state.helper)s=(0,p.jsxs)(p.Fragment,{children:[this.state.action&&"theme"!==this.state.action&&"add-component"!==this.state.action&&"help"!==this.state.action&&(0,p.jsxs)("div",{className:"msp-selection-viewport-controls-actions",children:[(0,p.jsx)(Ee.W,{header:Ji.get(this.state.action),title:"Click to close.",items:this.queries,onSelect:this.selectQuery,noOffset:!0}),(0,p.jsx)(Ee.W,{items:this.helpers,onSelect:this.selectHelper,noOffset:!0})]}),"theme"===this.state.action&&(0,p.jsx)("div",{className:"msp-selection-viewport-controls-actions",children:(0,p.jsx)(L.tW,{header:"Theme",title:"Click to close.",initialExpanded:!0,hideExpander:!0,hideOffset:!0,onHeaderClick:this.toggleTheme,topRightIcon:I.X6,children:(0,p.jsx)(Ko,{onApply:this.toggleTheme})})}),"add-component"===this.state.action&&(0,p.jsx)("div",{className:"msp-selection-viewport-controls-actions",children:(0,p.jsx)(L.tW,{header:"Add Component",title:"Click to close.",initialExpanded:!0,hideExpander:!0,hideOffset:!0,onHeaderClick:this.toggleAddComponent,topRightIcon:I.X6,children:(0,p.jsx)(Ba,{onApply:this.toggleAddComponent,forSelection:!0})})}),"help"===this.state.action&&(0,p.jsx)("div",{className:"msp-selection-viewport-controls-actions",children:(0,p.jsxs)(L.tW,{header:"Help",title:"Click to close.",initialExpanded:!0,hideExpander:!0,hideOffset:!0,onHeaderClick:this.toggleHelp,topRightIcon:I.X6,maxHeight:"300px",children:[(0,p.jsx)(wn,{header:"Selection Operations",children:(0,p.jsxs)(Mn,{children:["Use ",(0,p.jsx)(I.In,{svg:I.QM,inline:!0})," ",(0,p.jsx)(I.In,{svg:I.tk,inline:!0})," ",(0,p.jsx)(I.In,{svg:I.sx,inline:!0})," ",(0,p.jsx)(I.In,{svg:I.B7,inline:!0})," to modify the selection."]})}),(0,p.jsx)(wn,{header:"Representation Operations",children:(0,p.jsxs)(Mn,{children:["Use ",(0,p.jsx)(I.In,{svg:I.fe,inline:!0})," ",(0,p.jsx)(I.In,{svg:I.c3,inline:!0})," ",(0,p.jsx)(I.In,{svg:I.$j,inline:!0})," ",(0,p.jsx)(I.In,{svg:I.L3,inline:!0})," to color, create components, remove from components, or undo actions."]})}),(0,p.jsx)(Wo,{selectOnly:!0})]})})]});else if(Ji.has(this.state.action)&&"residue-list"===this.state.helper){const l=()=>this.setState({action:void 0,helper:void 0});s=(0,p.jsx)("div",{className:"msp-selection-viewport-controls-actions",children:(0,p.jsx)(L.tW,{header:"Atom/Residue Identifier List",title:"Click to close.",initialExpanded:!0,hideExpander:!0,hideOffset:!0,onHeaderClick:l,topRightIcon:I.X6,children:(0,p.jsx)(Oc,{modifier:this.state.action,plugin:this.plugin,close:l})})})}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",style:{background:"none"},children:[(0,p.jsx)($e.UT,{title:"Picking Level for selecting and highlighting",param:rd.granularity,name:"granularity",value:e,onChange:this.setGranuality,isDisabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.QM,title:`${Ji.get("add")}. Hold shift key to keep menu open.`,toggle:this.toggleAdd,isSelected:"add"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.tk,title:`${Ji.get("remove")}. Hold shift key to keep menu open.`,toggle:this.toggleRemove,isSelected:"remove"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.sx,title:`${Ji.get("intersect")}. Hold shift key to keep menu open.`,toggle:this.toggleIntersect,isSelected:"intersect"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.B7,title:`${Ji.get("set")}. Hold shift key to keep menu open.`,toggle:this.toggleSet,isSelected:"set"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.fe,title:"Apply Theme to Selection",toggle:this.toggleTheme,isSelected:"theme"===this.state.action,disabled:this.isDisabled,style:{marginLeft:"10px"}}),(0,p.jsx)(L.ff,{icon:I.c3,title:"Create Component of Selection with Representation",toggle:this.toggleAddComponent,isSelected:"add-component"===this.state.action,disabled:this.isDisabled}),(0,p.jsx)(L.K0,{svg:I.$j,title:"Remove/subtract Selection from all Components",onClick:this.subtract,disabled:this.isDisabled}),(0,p.jsx)(L.K0,{svg:I.L3,onClick:this.undo,disabled:!this.state.canUndo||this.isDisabled,title:i}),(0,p.jsx)(L.ff,{icon:I.ml,title:"Show/hide help",toggle:this.toggleHelp,style:{marginLeft:"10px"},isSelected:"help"===this.state.action}),this.plugin.config.get(Bt.AB.Viewport.ShowSelectionMode)&&(0,p.jsx)(L.K0,{svg:I.XD,title:"Turn selection mode off",onClick:this.turnOff})]}),s]})}}class zc extends Z.dL{constructor(){super(...arguments),this.state={isEmpty:!0,isBusy:!1},this.clear=()=>this.plugin.managers.interactivity.lociSelects.deselectAll(),this.focus=()=>{if(0===this.plugin.managers.structure.selection.stats.elementCount)return;const{sphere:e}=this.plugin.managers.structure.selection.getBoundary();this.plugin.managers.camera.focusSphere(e)},this.highlight=e=>{this.plugin.managers.interactivity.lociHighlights.clearHighlights(),this.plugin.managers.structure.selection.entries.forEach(i=>{this.plugin.managers.interactivity.lociHighlights.highlight({loci:i.selection},!1)})},this.clearHighlight=()=>{this.plugin.managers.interactivity.lociHighlights.clearHighlights()}}componentDidMount(){this.subscribe(this.plugin.managers.structure.selection.events.changed,()=>{this.forceUpdate()}),this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,e=>{const i=0===e.structures.length;this.state.isEmpty!==i&&this.setState({isEmpty:i})}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e})})}get isDisabled(){return this.state.isBusy||this.state.isEmpty}get stats(){const e=this.plugin.managers.structure.selection.stats;return 0===e.structureCount||0===e.elementCount?"Nothing Selected":`${(0,Xi.Kq)(e.label)} Selected`}render(){const e=this.plugin.managers.structure.selection.stats,i=0===e.structureCount||0===e.elementCount;return i&&this.props.hideOnEmpty?null:(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.$n,{noOverflow:!0,onClick:this.focus,title:"Click to Focus Selection",disabled:i,onMouseEnter:this.highlight,onMouseLeave:this.clearHighlight,style:{textAlignLast:i?void 0:"left"},children:this.stats}),!i&&(0,p.jsx)(L.K0,{svg:I.XD,onClick:this.clear,title:"Clear",className:"msp-form-control",flex:!0})]})})}}class Ko extends Z.jB{constructor(){super(...arguments),this._params=(0,Hr._)(e=>Br.C.getThemeParams(this.plugin,e)),this.state={values:Q.t.getDefaultValues(this.params)},this.apply=()=>{var e,i;this.plugin.managers.structure.component.applyTheme(this.state.values,this.plugin.managers.structure.hierarchy.current.structures),null===(i=(e=this.props).onApply)||void 0===i||i.call(e)},this.paramsChanged=e=>this.setState({values:e})}get params(){return this._params(this.plugin.managers.structure.component.pivotStructure)}render(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($e.y1,{params:this.params,values:this.state.values,onChangeValues:this.paramsChanged}),(0,p.jsx)(L.$n,{icon:I.fe,className:"msp-btn-commit msp-btn-commit-on",onClick:this.apply,style:{marginTop:"1px"},children:"Apply Theme"})]})}}const Qn={idType:Q.t.Select("auth",Q.t.arrayToOptions(["auth","label","atom-id"])),identifiers:Q.t.Text("",{description:"A comma separated list of atom identifiers (e.g. 10, 15-25) or residue ranges in given chain (e.g. A 10-15, B 25, C 30:i)"})},sd=Q.t.getDefaultValues(Qn);function Oc({modifier:r,plugin:e,close:i}){const[s,l]=he.useState(sd),u=()=>{if(0!==s.identifiers.trim().length)try{i();const c=Dc(s.identifiers,s.idType);e.managers.structure.selection.fromCompiledQuery(r,c,!1)}catch(c){console.error(c),e.log.error("Failed to create selection")}};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($e.y1,{params:Qn,values:s,onChangeValues:l,onEnter:u}),(0,p.jsxs)(L.$n,{className:"msp-btn-commit msp-btn-commit-on",disabled:0===s.identifiers.trim().length,onClick:u,style:{marginTop:"1px"},children:[(0,Xi.ZH)(r)," Selection"]})]})}class $a extends Z.VK{defaultState(){return{isCollapsed:!1,header:"Measurements",brand:{accent:"gray",svg:I.yF}}}renderControls(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Fc,{}),(0,p.jsx)(Rc,{})]})}}class Rc extends Z.jB{componentDidMount(){this.subscribe(this.plugin.managers.structure.measurement.behaviors.state,()=>{this.forceUpdate()})}renderGroup(e,i){const s=[];for(const l of e)l.obj&&s.push((0,p.jsx)(Ht,{cell:l},l.obj.id));return s.length?(0,p.jsx)(L.Yj,{header:i,initiallyExpanded:!0,children:s}):null}render(){const e=this.plugin.managers.structure.measurement.state;return(0,p.jsxs)("div",{style:{marginTop:"6px"},children:[this.renderGroup(e.labels,"Labels"),this.renderGroup(e.distances,"Distances"),this.renderGroup(e.angles,"Angles"),this.renderGroup(e.dihedrals,"Dihedrals"),this.renderGroup(e.orientations,"Orientations"),this.renderGroup(e.planes,"Planes")]})}}class Fc extends Z.jB{constructor(){super(...arguments),this.state={isBusy:!1,action:void 0},this.measureDistance=()=>{const e=this.plugin.managers.structure.selection.additionsHistory;this.plugin.managers.structure.measurement.addDistance(e[0].loci,e[1].loci)},this.measureAngle=()=>{const e=this.plugin.managers.structure.selection.additionsHistory;this.plugin.managers.structure.measurement.addAngle(e[0].loci,e[1].loci,e[2].loci)},this.measureDihedral=()=>{const e=this.plugin.managers.structure.selection.additionsHistory;this.plugin.managers.structure.measurement.addDihedral(e[0].loci,e[1].loci,e[2].loci,e[3].loci)},this.addLabel=()=>{this.plugin.managers.structure.measurement.addLabel(this.plugin.managers.structure.selection.additionsHistory[0].loci)},this.addOrientation=()=>{const e=[];this.plugin.managers.structure.selection.entries.forEach(i=>{e.push(i.selection)}),this.plugin.managers.structure.measurement.addOrientation(e)},this.addPlane=()=>{const e=[];this.plugin.managers.structure.selection.entries.forEach(i=>{e.push(i.selection)}),this.plugin.managers.structure.measurement.addPlane(e)},this.selectAction=e=>{this.toggleAdd(),e&&(0,e?.value)()},this.toggleAdd=()=>this.setState({action:"add"===this.state.action?void 0:"add"}),this.toggleOptions=()=>this.setState({action:"options"===this.state.action?void 0:"options"})}componentDidMount(){this.subscribe(this.selection.events.additionsHistoryUpdated,()=>{this.forceUpdate(),this.updateOrderLabels()}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e})})}componentWillUnmount(){this.clearOrderLabels(),super.componentWillUnmount()}componentDidUpdate(e,i){this.state.action!==i.action&&this.updateOrderLabels()}clearOrderLabels(){this.plugin.managers.structure.measurement.addOrderLabels([])}updateOrderLabels(){if("add"!==this.state.action)return void this.clearOrderLabels();const e=[],i=this.selection.additionsHistory;for(let s=0;s<i.length&&s<4;s++)e.push(i[s].loci);this.plugin.managers.structure.measurement.addOrderLabels(e)}get selection(){return this.plugin.managers.structure.selection}get actions(){const e=this.selection.additionsHistory;return[{kind:"item",label:"Label "+(0===e.length?" (1 selection item required)":" (1st selection item)"),value:this.addLabel,disabled:0===e.length},{kind:"item",label:"Distance "+(e.length<2?" (2 selection items required)":" (top 2 selection items)"),value:this.measureDistance,disabled:e.length<2},{kind:"item",label:"Angle "+(e.length<3?" (3 selection items required)":" (top 3 items)"),value:this.measureAngle,disabled:e.length<3},{kind:"item",label:"Dihedral "+(e.length<4?" (4 selection items required)":" (top 4 selection items)"),value:this.measureDihedral,disabled:e.length<4},{kind:"item",label:"Orientation "+(0===e.length?" (selection required)":" (current selection)"),value:this.addOrientation,disabled:0===e.length},{kind:"item",label:"Plane "+(0===e.length?" (selection required)":" (current selection)"),value:this.addPlane,disabled:0===e.length}]}highlight(e){this.plugin.managers.interactivity.lociHighlights.highlightOnly({loci:e},!1)}moveHistory(e,i){this.plugin.managers.structure.selection.modifyHistory(e,i,4)}focusLoci(e){this.plugin.managers.camera.focusLoci(e)}historyEntry(e,i){const s=this.plugin.managers.structure.selection.additionsHistory;return(0,p.jsxs)("div",{className:"msp-flex-row",onMouseEnter:()=>this.highlight(e.loci),onMouseLeave:()=>this.plugin.managers.interactivity.lociHighlights.clearHighlights(),children:[(0,p.jsxs)(L.$n,{noOverflow:!0,title:"Click to focus. Hover to highlight.",onClick:()=>this.focusLoci(e.loci),style:{width:"auto",textAlign:"left"},children:[i,". ",(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})]}),s.length>1&&(0,p.jsx)(L.K0,{svg:I.p8,small:!0,className:"msp-form-control",onClick:()=>this.moveHistory(e,"up"),flex:"20px",title:"Move up"}),s.length>1&&(0,p.jsx)(L.K0,{svg:I.qp,small:!0,className:"msp-form-control",onClick:()=>this.moveHistory(e,"down"),flex:"20px",title:"Move down"}),(0,p.jsx)(L.K0,{svg:I.mf,small:!0,className:"msp-form-control",onClick:()=>this.plugin.managers.structure.selection.modifyHistory(e,"remove"),flex:!0,title:"Remove"})]},e.id)}add(){const e=this.plugin.managers.structure.selection.additionsHistory,i=[];for(let u=0,c=Math.min(e.length,4);u<c;u++)i.push(this.historyEntry(e[u],u+1));const l=this.plugin.config.get(Bt.AB.Viewport.ShowSelectionMode)?(0,p.jsxs)(p.Fragment,{children:[" ","(toggle ",(0,p.jsx)(Vr,{inline:!0})," mode)"]}):null;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ee.W,{items:this.actions,onSelect:this.selectAction}),i.length>0&&(0,p.jsx)("div",{className:"msp-control-offset",children:i}),0===i.length&&(0,p.jsx)("div",{className:"msp-control-offset msp-help-text",children:(0,p.jsxs)("div",{className:"msp-help-description",children:[(0,p.jsx)(I.In,{svg:I.ml,inline:!0}),"Add one or more selections",l]})})]})}render(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.ff,{icon:I.CR,label:"Add",toggle:this.toggleAdd,isSelected:"add"===this.state.action,disabled:this.state.isBusy,className:"msp-btn-apply-simple"}),(0,p.jsx)(L.ff,{icon:I.Hk,label:"",title:"Options",toggle:this.toggleOptions,isSelected:"options"===this.state.action,disabled:this.state.isBusy,style:{flex:"0 0 40px",padding:0}})]}),"add"===this.state.action&&this.add(),"options"===this.state.action&&(0,p.jsx)(zs,{})]})}}class zs extends Z.jB{constructor(){super(...arguments),this.state={isDisabled:!1},this.changed=e=>{this.plugin.managers.structure.measurement.setOptions(e)}}componentDidMount(){this.subscribe(this.plugin.managers.structure.measurement.behaviors.state,()=>{this.forceUpdate()}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isDisabled:e})})}render(){return(0,p.jsx)("div",{className:"msp-control-offset",children:(0,p.jsx)($e.y1,{params:Ua.Gu,values:this.plugin.managers.structure.measurement.state.options,onChangeValues:this.changed,isDisabled:this.state.isDisabled})})}}class Ht extends Z.jB{constructor(){super(...arguments),this.state={showUpdate:!1},this.delete=()=>{ue.a.State.RemoveObject(this.plugin,{state:this.props.cell.parent,ref:this.props.cell.transform.parent,removeParentGhosts:!0})},this.toggleVisibility=e=>{e.preventDefault(),ue.a.State.ToggleVisibility(this.plugin,{state:this.props.cell.parent,ref:this.props.cell.transform.parent}),e.currentTarget.blur()},this.highlight=()=>{var e;if(!this.selections)return;this.plugin.managers.interactivity.lociHighlights.clearHighlights();for(const l of this.lociArray)this.plugin.managers.interactivity.lociHighlights.highlight({loci:l},!1);const s=null===(e=this.props.cell.obj)||void 0===e?void 0:e.data.repr.getAllLoci();if(s)for(const l of s)this.plugin.managers.interactivity.lociHighlights.highlight({loci:l},!1)},this.clearHighlight=()=>{this.plugin.managers.interactivity.lociHighlights.clearHighlights()},this.toggleUpdate=()=>this.setState({showUpdate:!this.state.showUpdate}),this.focus=()=>{if(!this.selections)return;const i=qo.QN.getBundleBoundingSphere({loci:this.lociArray});i&&this.plugin.managers.camera.focusSphere(i)},this.selectAction=e=>{e&&(this.setState({showUpdate:!1}),(0,e?.value)())}}componentDidMount(){this.subscribe(this.plugin.state.events.cell.stateUpdated,e=>{this.forceUpdate()})}get selections(){var e;return null===(e=this.props.cell.obj)||void 0===e?void 0:e.data.sourceData}get lociArray(){const e=this.selections;return e?e.infos?[e.infos[0].loci]:e.pairs?e.pairs[0].loci:e.triples?e.triples[0].loci:e.quads?e.quads[0].loci:e.locis?e.locis:[]:[]}get label(){const e=this.selections;return e?e.infos?(0,Nn.YQ)(e.infos[0].loci,{condensed:!0}):e.pairs?(0,Nn.W8)(e.pairs[0],{condensed:!0,unitLabel:this.plugin.managers.structure.measurement.state.options.distanceUnitLabel}):e.triples?(0,Nn.k0)(e.triples[0],{condensed:!0}):e.quads?(0,Nn.kd)(e.quads[0],{condensed:!0}):e.locis?(0,Nn.k7)(e.locis,{countsOnly:!0}):"<empty>":"<empty>"}get actions(){return[Ee.W.Item("Select This",()=>this.plugin.managers.structure.selection.fromSelections(this.props.cell.sourceRef),{icon:I.B7})]}render(){const{cell:e}=this.props,{obj:i}=e;return i?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",onMouseEnter:this.highlight,onMouseLeave:this.clearHighlight,children:[(0,p.jsx)("button",{className:"msp-form-control msp-control-button-label msp-no-overflow",title:"Click to focus. Hover to highlight.",onClick:this.focus,style:{width:"auto",textAlign:"left"},children:(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:this.label}})}),(0,p.jsx)(L.K0,{svg:e.state.isHidden?I.qF:I.zs,toggleState:!1,small:!0,className:"msp-form-control",onClick:this.toggleVisibility,flex:!0,title:e.state.isHidden?"Show":"Hide"}),(0,p.jsx)(L.K0,{svg:I.mf,small:!0,className:"msp-form-control",onClick:this.delete,flex:!0,title:"Delete",toggleState:!1}),(0,p.jsx)(L.K0,{svg:I.cv,className:"msp-form-control",onClick:this.toggleUpdate,flex:!0,title:"Actions",toggleState:this.state.showUpdate})]},i.id),this.state.showUpdate&&e.parent&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"msp-accent-offset",children:[(0,p.jsx)(Ee.W,{items:this.actions,onSelect:this.selectAction,noOffset:!0}),(0,p.jsx)(L.Yj,{header:"Options",noOffset:!0,children:(0,p.jsx)(pi,{state:e.parent,transform:e.transform,customHeader:"none",autoHideApply:!0})})]})})]}):null}}var Ce=F(3543);function Qa(r,e,i,s){const l=Ce.SortedArray.indexOf(e.unit.elements,e.element),u=z.iZ.Loci(e.structure,[{unit:e.unit,indices:Ce.CD.ofSingleton(l)}]),c="residue"===s?z.iZ.Loci.extendToWholeResidues(u):z.iZ.Loci.extendToWholeChains(u),h=z.StructureProperties.entity.pdbx_description(e).join(", ");for(const f of i.units){const y=z.iZ.Loci(c.structure,[{unit:f,indices:c.elements[0].indices}]);let g=(0,Nn.YQ)(y,{reverse:!0,hidePrefix:!0,htmlStyling:!1,granularity:s});g||(g=(0,Nn.YQ)(y,{hidePrefix:!1,htmlStyling:!1})),i.units.length>1&&(g+=` | ${y.elements[0].unit.conformation.operator.name}`);const x={label:g,category:h,loci:y};r.has(h)?r.get(h).push(x):r.set(h,[x])}}function $o(r){const e=new Map,i=z.iZ.Location.create(r);for(const l of r.unitSymmetryGroups){if(!z.Nf.isAtomic(l.units[0]))continue;i.unit=l.units[0],i.element=l.elements[0];const u=z.Nf.Traits.is(i.unit.traits,z.Nf.Trait.MultiChain),c=z.StructureProperties.entity.type(i),h="non-polymer"===c,f="branched"===c;if(z.StructureProperties.entity.prd_id(i))Qa(e,i,l,"chain");else if(h&&!u)Qa(e,i,l,"residue");else if(f||h&&u){const g=i.unit,{index:x}=g.model.atomicHierarchy.residueAtomSegments;let w=-1;for(let b=0,C=g.elements.length;b<C;++b){const N=g.elements[b],V=x[N];V!==w&&(i.element=N,Qa(e,i,l,"residue"),w=V)}}}const s=[];return e.forEach((l,u)=>{1===l.length?s.push({label:`${u}: ${l[0].label}`,loci:l[0].loci}):l.length<2e3&&s.push(...l)}),s}class Ut extends Z.dL{constructor(){super(...arguments),this.state={isBusy:!1,showAction:!1},this.getSelectionItems=(0,Hr._)(e=>{var i;const s=[];for(const l of e){const u=null===(i=l.cell.obj)||void 0===i?void 0:i.data;if(u){const c=$o(u);c.length>0&&s.push([Ee.W.Header(u.label,{description:u.label}),...Ee.W.createItems(c,{label:h=>h.label,category:h=>h.category,description:h=>h.label})])}}return s}),this.selectAction=(e,i)=>{if(!e||!this.state.showAction)return void this.setState({showAction:!1});const s=e.value;i?.shiftKey?this.plugin.managers.structure.focus.addFromLoci(s.loci):this.plugin.managers.structure.focus.set(s),this.focusCamera()},this.toggleAction=()=>this.setState({showAction:!this.state.showAction}),this.focusCamera=()=>{const{current:e}=this.plugin.managers.structure.focus;e&&this.plugin.managers.camera.focusLoci(e.loci)},this.clear=()=>{this.plugin.managers.structure.focus.clear(),this.plugin.managers.camera.reset()},this.highlightCurrent=()=>{const{current:e}=this.plugin.managers.structure.focus;e&&this.plugin.managers.interactivity.lociHighlights.highlightOnly({loci:e.loci},!1)},this.clearHighlights=()=>{this.plugin.managers.interactivity.lociHighlights.clearHighlights()}}componentDidMount(){this.subscribe(this.plugin.managers.structure.focus.behaviors.current,e=>{this.getSelectionItems([]),this.forceUpdate()}),this.subscribe(this.plugin.managers.structure.focus.events.historyUpdated,e=>{this.forceUpdate()}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e,showAction:!1})})}get isDisabled(){return this.state.isBusy||0===this.plugin.managers.structure.hierarchy.selection.structures.length}get actionItems(){const e=[],{history:i}=this.plugin.managers.structure.focus;i.length>0&&e.push([Ee.W.Header("History",{description:"Previously focused on items."}),...Ee.W.createItems(i,{label:u=>u.label,description:u=>u.category&&u.label!==u.category?`${u.category} | ${u.label}`:u.label})]);const s=this.getSelectionItems(this.plugin.managers.structure.hierarchy.selection.structures);1===s.length&&(s[0][0].initiallyExpanded=!0);const l=[];return s.length>0&&l.push(...s),e.length>0&&l.push(...e),l}getToggleBindingLabel(){var e;const i=this.plugin.state.behaviors.transforms.get(Ms.FocusLoci.id);if(!i)return"";const s=null===(e=i.params)||void 0===e?void 0:e.bindings.clickFocus;return!s||di.O.isEmpty(s)?"":di.O.formatTriggers(s)}render(){const{current:e}=this.plugin.managers.structure.focus,i=e?.label||"Nothing Focused";let s="Click to Center Camera";if(!e){s="Select focus using the menu";const l=this.getToggleBindingLabel();l&&(s+=`\nor use '${l}' on element`)}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.$n,{noOverflow:!0,onClick:this.focusCamera,title:s,onMouseEnter:this.highlightCurrent,onMouseLeave:this.clearHighlights,disabled:this.isDisabled||!e,style:{textAlignLast:e?"left":void 0},children:i}),e&&(0,p.jsx)(L.K0,{svg:I.XD,onClick:this.clear,title:"Clear",className:"msp-form-control",flex:!0,disabled:this.isDisabled}),(0,p.jsx)(L.ff,{icon:I.vC,title:"Select a focus target to center on an show its surroundings. Hold shift to focus on multiple targets.",toggle:this.toggleAction,isSelected:this.state.showAction,disabled:this.isDisabled,style:{flex:"0 0 40px",padding:0}})]}),this.state.showAction&&(0,p.jsx)(Ee.W,{items:this.actionItems,onSelect:this.selectAction})]})}}class od extends Z.VK{constructor(){super(...arguments),this.item=e=>{var i,s,l,u,c,h,f,y,g;const x=this.plugin.managers.structure.hierarchy.seletionSet;let w;switch(e.kind){case"model":{const C=null===(i=e.cell.obj)||void 0===i?void 0:i.data;C&&z.Kx.TrajectoryInfo.get(C).size>1&&(w=`${null===(s=e.cell.obj)||void 0===s?void 0:s.data.entryId} | Model ${z.Kx.TrajectoryInfo.get(C).index+1} of ${z.Kx.TrajectoryInfo.get(C).size}`),w=`${null===(l=e.cell.obj)||void 0===l?void 0:l.data.entryId} | ${null===(u=e.cell.obj)||void 0===u?void 0:u.label}`;break}case"structure":{const C=null===(c=e.cell.obj)||void 0===c?void 0:c.data.models[0];if(C&&z.Kx.TrajectoryInfo.get(C).size>1){w=`${C.entryId} | ${null===(h=e.cell.obj)||void 0===h?void 0:h.label} (Model ${z.Kx.TrajectoryInfo.get(C).index+1} of ${z.Kx.TrajectoryInfo.get(C).size})`;break}if(C){w=`${C.entryId} | ${null===(f=e.cell.obj)||void 0===f?void 0:f.label}`;break}w=`${null===(y=e.cell.obj)||void 0===y?void 0:y.label}`;break}default:w=null===(g=e.cell.obj)||void 0===g?void 0:g.label}return{kind:"item",label:w||e.kind,selected:x.has(e.cell.transform.ref),value:[e]}},this.getTrajectoryItems=e=>{var i;return 0===e.models.length?this.item(e):[Ee.W.Header(null===(i=e.cell.obj)||void 0===i?void 0:i.label),...e.models.map(this.getModelItems)]},this.getModelItems=e=>{var i,s,l;if(0===e.structures.length)return this.item(e);if(1===e.structures.length){const c=e.structures[0];return{label:`${null===(i=e.cell.obj)||void 0===i?void 0:i.label} | ${null===(s=c.cell.obj)||void 0===s?void 0:s.label}`,selected:this.plugin.managers.structure.hierarchy.seletionSet.has(c.cell.transform.ref),value:[e,c]}}return[Ee.W.Header(null===(l=e.cell.obj)||void 0===l?void 0:l.label),...e.structures.map(this.item)]},this.selectHierarchy=e=>{if(!e||0===e.length)return;const i=[];for(const s of e)for(const l of s.value)i.push(l);this.plugin.managers.structure.hierarchy.updateCurrent(i,e[0].selected?"remove":"add")},this.toggleHierarchy=()=>this.setState({show:"hierarchy"!==this.state.show?"hierarchy":void 0}),this.togglePreset=()=>this.setState({show:"presets"!==this.state.show?"presets":void 0}),this.applyPreset=e=>{if(this.setState({show:void 0}),!e)return;const i=this.plugin.managers.structure,{trajectories:s}=i.hierarchy.selection;i.hierarchy.applyPreset(s,e.value)},this.updateModelQueueParams=void 0,this.isUpdatingModel=!1,this.updateStructureModel=e=>{this.updateModelQueueParams=e,this._updateStructureModel()},this.updateStructure=e=>{const{selection:i}=this.plugin.managers.structure.hierarchy;return this.plugin.managers.structure.hierarchy.updateStructure(i.structures[0],e)}}defaultState(){return{header:"Structure",isCollapsed:!1,isBusy:!1,brand:{accent:"purple",svg:I.Rm}}}componentDidMount(){this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,()=>this.forceUpdate()),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e})})}get hierarchyItems(){const e=this.plugin.managers.structure.hierarchy,{current:i}=e,s=[];return i.trajectories.length>1&&s.push([Ee.W.Header("Trajectories"),...i.trajectories.map(this.item)]),(i.models.length>1||i.trajectories.length>1)&&s.push([Ee.W.Header("Models"),...i.models.map(this.item)]),1===i.trajectories.length&&1===i.models.length?s.push(...i.structures.map(this.item)):i.structures.length>0&&s.push([Ee.W.Header("Structures"),...i.structures.map(this.item)]),s}get isEmpty(){const{structures:e,models:i,trajectories:s}=this.plugin.managers.structure.hierarchy.current;return 0===s.length&&0===i.length&&0===e.length}get label(){var e,i,s,l,u,c,h,f,y,g,x,w,b,C;const{structures:N,models:V,trajectories:D}=this.plugin.managers.structure.hierarchy.selection;if(1===N.length){const O=N[0];return null!==(i=null===(e=O.model)||void 0===e?void 0:e.trajectory)&&void 0!==i&&i.models&&1===O.model.trajectory.models.length?null===(s=O.cell.obj)||void 0===s?void 0:s.data.label:O.model?`${null===(l=O.model.cell.obj)||void 0===l?void 0:l.label} | ${null===(u=O.cell.obj)||void 0===u?void 0:u.data.label}`:null===(c=O.cell.obj)||void 0===c?void 0:c.data.label}if(N.length>1){const O=N[0],B=null===(h=O?.model)||void 0===h?void 0:h.trajectory;let X=!0;for(const ae of N)if((null===(f=ae?.model)||void 0===f?void 0:f.trajectory)!==B){X=!1;break}return X&&B?`${null===(y=B.cell.obj)||void 0===y?void 0:y.label} | ${N.length} structures`:`${N.length} structures`}if(V.length>0){const O=V[0].trajectory;if(1===V.length){const X=null===(g=V[0].cell.obj)||void 0===g?void 0:g.data;return X&&z.Kx.TrajectoryInfo.get(X).size>1?`${null===(x=O?.cell.obj)||void 0===x?void 0:x.label} | Model ${z.Kx.TrajectoryInfo.get(X).index+1} of ${z.Kx.TrajectoryInfo.get(X).size}`:`${null===(w=O?.cell.obj)||void 0===w?void 0:w.label} | Model`}let B=!0;for(const X of V)if(X.trajectory!==O){B=!1;break}return B?`${null===(b=O?.cell.obj)||void 0===b?void 0:b.label} | ${V.length} models`:`${V.length} models`}return D.length>0?1===D.length?`${null===(C=D[0].cell.obj)||void 0===C?void 0:C.label} trajectory`:`${D.length} trajectories`:0===D.length&&0===V.length&&0===N.length?"Nothing Loaded":"Nothing Selected"}get presetActions(){const e=[],{trajectories:i}=this.plugin.managers.structure.hierarchy.selection;if(0===i.length)return e;let s=this.plugin.builders.structure.hierarchy.getPresets(i[0].cell.obj);if(i.length>1){const l=new Set(s);for(let u=1;u<i.length;u++){const c=this.plugin.builders.structure.hierarchy.getPresets(i[u].cell.obj),h=new Set(c);for(const f of c)h.has(f)||l.delete(f)}s=s.filter(u=>l.has(u))}for(const l of s)e.push(Ee.W.Item(l.display.name,l,{description:l.display.description}));return e}_updateStructureModel(){var e=this;return(0,R.A)(function*(){if(!e.updateModelQueueParams||e.isUpdatingModel)return;const i=e.updateModelQueueParams;e.updateModelQueueParams=void 0;try{e.isUpdatingModel=!0;const{selection:s}=e.plugin.managers.structure.hierarchy,l=s.structures[0].model;yield e.plugin.state.updateTransform(e.plugin.state.data,l.cell.transform.ref,i,"Model Index")}finally{e.isUpdatingModel=!1,e._updateStructureModel()}})()}get modelIndex(){var e,i;const{selection:s}=this.plugin.managers.structure.hierarchy;if(1!==s.structures.length)return null;const l=s.structures[0].model;if(!l||l.cell.transform.transformer!==jt.f.Model.ModelFromTrajectory||!l.cell.obj||z.Kx.TrajectoryInfo.get(l.cell.obj.data).size<=1)return null;const u=null===(e=l.cell.params)||void 0===e?void 0:e.definition;return u?(0,p.jsx)($e.y1,{params:u,values:null===(i=l.cell.params)||void 0===i?void 0:i.values,onChangeValues:this.updateStructureModel,isDisabled:this.state.isBusy}):null}get structureType(){var e;const{selection:i}=this.plugin.managers.structure.hierarchy;if(1!==i.structures.length)return null;const s=i.structures[0];return(null===(e=s.cell.params)||void 0===e?void 0:e.definition)&&s.cell.parent?(0,p.jsx)(pi,{state:s.cell.parent,transform:s.cell.transform,customHeader:"none",customUpdate:this.updateStructure,noMargin:!0,autoHideApply:!0}):null}get transform(){const{selection:e}=this.plugin.managers.structure.hierarchy;if(1!==e.structures.length)return null;const i=e.structures[0];if(!i.cell.parent)return null;const s=tt.QX.tryFindDecorator(this.plugin.state.data,i.cell.transform.ref,jt.f.Model.TransformStructureConformation);return s?(0,p.jsx)(L.Yj,{header:"Conformation Transform",children:(0,p.jsx)(pi,{state:s.parent,transform:s.transform,customHeader:"none",noMargin:!0,autoHideApply:!0})}):void 0}renderControls(){const e=this.state.isBusy||this.isEmpty,i=this.presetActions,s=this.label;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",style:{marginTop:"1px"},children:[(0,p.jsx)(L.$n,{noOverflow:!0,flex:!0,onClick:this.toggleHierarchy,disabled:e,title:s,children:s}),i.length>0&&(0,p.jsx)(L.K0,{svg:I.sM,className:"msp-form-control",flex:"40px",onClick:this.togglePreset,title:"Apply a structure presets to the current hierarchy.",toggleState:"presets"===this.state.show,disabled:e})]}),"hierarchy"===this.state.show&&(0,p.jsx)(Ee.W,{items:this.hierarchyItems,onSelect:this.selectHierarchy,multiselect:!0}),"presets"===this.state.show&&(0,p.jsx)(Ee.W,{items:i,onSelect:this.applyPreset}),this.modelIndex,this.structureType,this.transform,(0,p.jsxs)("div",{style:{marginTop:"6px"},children:[(0,p.jsx)(Ut,{}),(0,p.jsx)(zc,{hideOnEmpty:!0})]})]})}}var ne=F(9012),er=F(6230),Qo=F(958);class Go extends Ns{constructor(){super(...arguments),this._getInfo=(0,Hr._)((e,i,s)=>Ii.infoFromAction(this.plugin,this.props.state,this.props.action,this.props.nodeRef)),this.state={plugin:this.plugin,ref:this.props.nodeRef,version:this.props.state.transforms.get(this.props.nodeRef).version,error:void 0,isInitial:!0,params:this.getInfo().initialValues,busy:!1,isCollapsed:this.props.initiallyCollapsed}}applyAction(){return ue.a.State.ApplyAction(this.plugin,{state:this.props.state,action:this.props.action.create(this.state.params),ref:this.props.nodeRef})}getInfo(){var e;return this._getInfo(this.props.nodeRef,this.props.state.transforms.get(this.props.nodeRef).version,null===(e=this.state)||void 0===e?void 0:e.isCollapsed)}getTransformerId(){return this.props.state.transforms.get(this.props.nodeRef).transformer.id}getHeader(){return this.props.hideHeader?"none":this.props.action.definition.display}canApply(){return!this.state.error&&!this.state.busy}canAutoApply(){return!1}applyText(){return"Apply"}isUpdate(){return!1}getSourceAndTarget(){return{a:this.props.state.cells.get(this.props.nodeRef).obj}}static getDerivedStateFromProps(e,i){const s=e.state.transforms.get(e.nodeRef).version;if(e.nodeRef===i.ref&&s===i.version)return null;const l=e.state.cells.get(e.nodeRef).obj,u=e.action.definition.params?Q.t.getDefaultValues(e.action.definition.params(l,i.plugin)):{};return{plugin:i.plugin,ref:e.nodeRef,version:s,params:u,isInitial:!0,error:void 0}}}var ld=F(3442),Os=F(22);class Yo extends Z.VK{defaultState(){return{header:"Volume Streaming",isCollapsed:!1,isBusy:!1,isHidden:!0,brand:{accent:"cyan",svg:I.Fi}}}componentDidMount(){this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,()=>{this.setState({isHidden:!this.canEnable(),description:Ac.G.getSelectedStructuresDescription(this.plugin)})}),this.subscribe(this.plugin.state.events.cell.stateUpdated,e=>{tt.Cn.hasTag(e.cell.transform,er.h.RootTag)&&this.forceUpdate()}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e})})}get pivot(){return this.plugin.managers.structure.hierarchy.selection.structures[0]}canEnable(){var e,i;const{selection:s}=this.plugin.managers.structure.hierarchy;if(1!==s.structures.length)return!1;const l=this.pivot.cell;return!!l.obj&&!(null===(i=(e=Qo.p3.definition).isApplicable)||void 0===i||!i.call(e,l.obj,l.transform,this.plugin))}renderEnable(){var e,i;const s=this.pivot;if(!s.cell.parent)return null;const l=tt.QX.findTagInSubtree(s.cell.parent.tree,this.pivot.cell.transform.ref,er.h.RootTag),u=l&&s.cell.parent.cells.get(l),c=u&&"error"===u.status?{header:u.errorText&&null!==(e=u.errorText)&&void 0!==e&&e.includes("404")?"No Density Data Available":"Error Enabling",icon:I.Bw,title:u.errorText}:u&&0===(null===(i=u.obj)||void 0===i?void 0:i.data.entries.length)?{header:"Error Enabling",icon:I.Bw,title:"No Entry for Streaming Found"}:{header:"Enable",icon:I.Xq,title:"Enable"};return(0,p.jsx)(Go,{state:s.cell.parent,action:Qo.p3,initiallyCollapsed:!0,nodeRef:s.cell.transform.ref,simpleApply:c})}renderParams(){var e,i,s,l,u;const c=this.pivot;if(!c.cell.parent)return null;const h="selection-box"===(null===(i=null===(e=c.volumeStreaming)||void 0===e?void 0:e.cell.transform.params)||void 0===i?void 0:i.entry.params.view.name)&&(null===(u=null===(l=null===(s=this.plugin.state.behaviors.cells.get(Ms.FocusLoci.id))||void 0===s?void 0:s.params)||void 0===l?void 0:l.values)||void 0===u?void 0:u.bindings);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(pi,{state:c.cell.parent,transform:c.volumeStreaming.cell.transform,customHeader:"none",noMargin:!0}),h&&(0,p.jsx)(L.Yj,{header:"Controls Help",children:(0,p.jsx)(_o,{bindings:h})})]})}renderControls(){const e=this.pivot;return e?e.volumeStreaming?this.renderParams():this.renderEnable():null}}class Ga extends Z.VK{constructor(){super(...arguments),this.item=e=>{var i;const l=(null===(i=e.cell.obj)||void 0===i?void 0:i.label)||"Volume";return{kind:"item",label:("lazy-volume"===e.kind?"Load ":"")+(l||e.kind),selected:this.plugin.managers.volume.hierarchy.selection===e,value:e}},this.selectCurrent=e=>{if(this.toggleHierarchy(),!e)return;const i=e.value;"volume"===i.kind?this.plugin.managers.volume.hierarchy.setCurrent(i):this.lazyLoad(i.cell)},this.selectAdd=e=>{e&&(this.setState({show:void 0}),e.value())},this.toggleHierarchy=()=>this.setState({show:"hierarchy"!==this.state.show?"hierarchy":void 0}),this.toggleAddRepr=()=>this.setState({show:"add-repr"!==this.state.show?"add-repr":void 0})}defaultState(){return{header:"Volume",isCollapsed:!1,isBusy:!1,isHidden:!0,brand:{accent:"purple",svg:I.Fi}}}componentDidMount(){this.subscribe(this.plugin.managers.volume.hierarchy.behaviors.selection,e=>{this.setState({isHidden:0===e.hierarchy.volumes.length&&0===e.hierarchy.lazyVolumes.length})}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e})})}get hierarchyItems(){const e=this.plugin.managers.volume.hierarchy,{current:i}=e,s=[];for(const l of i.volumes)s.push(this.item(l));for(const l of i.lazyVolumes)s.push(this.item(l));return s}get addActions(){const e=this.plugin.managers.volume.hierarchy,i=e.selection;return[...ne.L.getRepresentationTypes(this.plugin,i).map(l=>Ee.W.Item(l[1],()=>e.addRepresentation(i,l[0])))]}get isEmpty(){const{volumes:e,lazyVolumes:i}=this.plugin.managers.volume.hierarchy.current;return 0===e.length&&0===i.length}get label(){var e;if(this.state.loadingLabel)return`Loading ${this.state.loadingLabel}...`;const i=this.plugin.managers.volume.hierarchy.selection;return i?(null===(e=i?.cell.obj)||void 0===e?void 0:e.label)||"Volume":"Nothing Selected"}lazyLoad(e){var i=this;return(0,R.A)(function*(){const{url:s,isBinary:l,format:u,entryId:c,isovalues:h}=e.obj.data;i.setState({isBusy:!0,loadingLabel:e.obj.label});try{const f=i.plugin;yield f.dataTransaction((0,R.A)(function*(){var y,g,x,w;const b=yield f.builders.data.download({url:s,isBinary:l},{state:{isGhost:!0}}),C=yield f.dataFormats.get(u).parse(f,b,{entryId:c}),N=C.volume||C.volumes[0];if(!N?.isOk)throw new Error("Failed to parse any volume.");const V=f.build();for(const D of h)V.to(null!==(x=null===(y=C.volumes)||void 0===y?void 0:y[null!==(g=D.volumeIndex)&&void 0!==g?g:0])&&void 0!==x?x:C.volume).apply(jt.f.Representation.VolumeRepresentation3D,(0,ld.aK)(i.plugin,N.data,{type:"isosurface",typeParams:{alpha:null!==(w=D.alpha)&&void 0!==w?w:1,isoValue:"absolute"===D.type?{kind:"absolute",absoluteValue:D.value}:{kind:"relative",relativeValue:D.value}},color:"uniform",colorParams:{value:D.color}}));yield V.commit(),yield f.build().delete(e).commit()}))}finally{i.setState({isBusy:!1,loadingLabel:void 0})}})()}renderControls(){const e=this.state.isBusy||this.isEmpty,i=this.label,s=this.plugin.managers.volume.hierarchy.selection;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",style:{marginTop:"1px"},children:[(0,p.jsx)(L.$n,{noOverflow:!0,flex:!0,onClick:this.toggleHierarchy,disabled:e,title:i,children:i}),!this.isEmpty&&s&&(0,p.jsx)(L.K0,{svg:I.CR,onClick:this.toggleAddRepr,title:"Apply a structure presets to the current hierarchy.",toggleState:"add-repr"===this.state.show,disabled:e})]}),"hierarchy"===this.state.show&&(0,p.jsx)(Ee.W,{items:this.hierarchyItems,onSelect:this.selectCurrent}),"add-repr"===this.state.show&&(0,p.jsx)(Ee.W,{items:this.addActions,onSelect:this.selectAdd}),s&&s.representations.length>0&&(0,p.jsx)("div",{style:{marginTop:"6px"},children:s.representations.map(l=>(0,p.jsx)(Bc,{representation:l},l.cell.transform.ref))})]})}}class Bc extends Z.jB{constructor(){super(...arguments),this.state={action:void 0},this.remove=()=>this.plugin.managers.volume.hierarchy.remove([this.props.representation],!0),this.toggleVisible=e=>{e.preventDefault(),e.currentTarget.blur(),this.plugin.managers.volume.hierarchy.toggleVisibility([this.props.representation])},this.toggleColor=()=>{this.setState({action:"select-color"===this.state.action?void 0:"select-color"})},this.toggleUpdate=()=>this.setState({action:"update"===this.state.action?void 0:"update"}),this.highlight=e=>{e.preventDefault(),this.props.representation.cell.parent&&ue.a.Interactivity.Object.Highlight(this.plugin,{state:this.props.representation.cell.parent,ref:this.props.representation.cell.transform.ref})},this.clearHighlight=e=>{e.preventDefault(),ue.a.Interactivity.ClearHighlights(this.plugin)},this.focus=()=>{var e;const i=this.props.representation,s=null===(e=i.cell.obj)||void 0===e?void 0:e.data.repr.getAllLoci();i.cell.state.isHidden&&this.plugin.managers.volume.hierarchy.toggleVisibility([this.props.representation],"show"),s&&this.plugin.managers.camera.focusLoci(s,{extraRadius:1})},this.updateColor=({value:e})=>{const i=this.props.representation.cell.transform;return this.plugin.build().to(i.ref).update({...i.params,colorTheme:{name:"uniform",params:{value:e}}}).commit()}}componentDidMount(){this.subscribe(this.plugin.state.events.cell.stateUpdated,e=>{tt.Uw.ObjectEvent.isCell(e,this.props.representation.cell)&&this.forceUpdate()})}get color(){var e,i;const s=this.props.representation.cell;if("uniform"===(null===(e=s.transform.params)||void 0===e?void 0:e.colorTheme.name))return null===(i=s.transform.params)||void 0===i?void 0:i.colorTheme.params.value}render(){var e,i,s;const l=this.props.representation.cell,u=this.color;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[void 0!==u&&(0,p.jsx)(L.$n,{style:{backgroundColor:wt.Q1.toStyle(u),minWidth:32,width:32},onClick:this.toggleColor}),(0,p.jsxs)(L.$n,{noOverflow:!0,className:"msp-control-button-label",title:`${null===(e=l.obj)||void 0===e?void 0:e.label}. Click to focus.`,onClick:this.focus,onMouseEnter:this.highlight,onMouseLeave:this.clearHighlight,style:{textAlign:"left"},children:[null===(i=l.obj)||void 0===i?void 0:i.label,(0,p.jsx)("small",{className:"msp-25-lower-contrast-text",style:{float:"right"},children:null===(s=l.obj)||void 0===s?void 0:s.description})]}),(0,p.jsx)(L.K0,{svg:l.state.isHidden?I.qF:I.zs,toggleState:!1,onClick:this.toggleVisible,title:(l.state.isHidden?"Show":"Hide")+" component",small:!0,className:"msp-form-control",flex:!0}),(0,p.jsx)(L.K0,{svg:I.mf,onClick:this.remove,title:"Remove",small:!0}),(0,p.jsx)(L.K0,{svg:I.cv,onClick:this.toggleUpdate,title:"Actions",toggleState:"update"===this.state.action})]}),"update"===this.state.action&&!!l.parent&&(0,p.jsx)("div",{style:{marginBottom:"6px"},className:"msp-accent-offset",children:(0,p.jsx)(pi,{state:l.parent,transform:l.transform,customHeader:"none",noMargin:!0})}),"select-color"===this.state.action&&void 0!==u&&(0,p.jsx)("div",{style:{marginBottom:"6px",marginTop:1},className:"msp-accent-offset",children:(0,p.jsx)(L.tW,{header:"Select Color",initialExpanded:!0,hideExpander:!0,hideOffset:!0,onHeaderClick:this.toggleColor,topRightIcon:I.X6,noTopMargin:!0,childrenClassName:"msp-viewport-controls-panel-controls",children:(0,p.jsx)(Os.cq,{param:Hc,value:this.color,onChange:this.updateColor,name:"color",hideNameRow:!0})})})]})}}const Hc=Q.t.Color((0,wt.Q1)(1184274));var yt,r,Ya=F(6220),nt=F(6639),it=F(1778);function Za(r,e){if(Math.abs(r)>Math.abs(e)){const i=e/r;return Math.abs(r)*Math.sqrt(1+i*i)}if(0!==e){const i=r/e;return Math.abs(e)*Math.sqrt(1+i*i)}return 0}(r=yt||(yt={})).createCache=function e(s){return{size:s,matrix:it.u.create(s,s),eigenValues:new Float64Array(s),D:new Float64Array(s),E:new Float64Array(s)}},r.compute=function i(s){!function Dn(r,e,i,s,l){for(let c=0;c<r;c++)l[c]=0;const u=r-1;for(let c=0;c<r;c++)s[c]=e[c*r+u];(function Ti(r,e,i,s){for(let l=s-1;l>0;l--){let u=0,c=0;for(let h=0;h<l;h++)u+=Math.abs(e[h]);if(0===u){i[l]=e[l-1];for(let h=0;h<l;h++)e[h]=r[h*s+l-1],r[h*s+l]=0,r[l*s+h]=0}else{for(let g=0;g<l;g++)e[g]/=u,c+=e[g]*e[g];let h=e[l-1],f=Math.sqrt(c);h>0&&(f=-f),i[l]=u*f,c-=h*f,e[l-1]=h-f;for(let g=0;g<l;g++)i[g]=0;for(let g=0;g<l;g++){h=e[g],r[l*s+g]=h,f=i[g]+r[g*s+g]*h;for(let x=g+1;x<=l-1;x++)f+=r[g*s+x]*e[x],i[x]+=r[g*s+x]*h;i[g]=f}h=0;for(let g=0;g<l;g++)i[g]/=c,h+=i[g]*e[g];const y=h/(c+c);for(let g=0;g<l;g++)i[g]-=y*e[g];for(let g=0;g<l;g++){h=e[g],f=i[g];for(let x=g;x<=l-1;x++)r[g*s+x]-=h*i[x]+f*e[x];e[g]=r[g*s+l-1],r[g*s+l]=0}}e[l]=c}for(let l=0;l<s-1;l++){r[l*s+s-1]=r[l*s+l],r[l*s+l]=1;const u=e[l+1];if(0!==u){for(let c=0;c<=l;c++)e[c]=r[(l+1)*s+c]/u;for(let c=0;c<=l;c++){let h=0;for(let f=0;f<=l;f++)h+=r[(l+1)*s+f]*r[c*s+f];for(let f=0;f<=l;f++)r[c*s+f]-=h*e[f]}}for(let c=0;c<=l;c++)r[(l+1)*s+c]=0}for(let l=0;l<s;l++)e[l]=r[l*s+s-1],r[l*s+s-1]=0;r[s*s-1]=1,i[0]=0})(e,s,l,r),function Uc(r,e,i,s){for(let f=1;f<s;f++)i[f-1]=i[f];i[s-1]=0;let u=0,c=0;const h=Math.pow(2,-53);for(let f=0;f<s;f++){c=Math.max(c,Math.abs(e[f])+Math.abs(i[f]));let y=f;for(;y<s&&!(Math.abs(i[y])<=h*c);)y++;if(y>f){let g=0;do{g+=1;let x=e[f],w=(e[f+1]-x)/(2*i[f]),b=Za(w,1);w<0&&(b=-b),e[f]=i[f]/(w+b),e[f+1]=i[f]*(w+b);const C=e[f+1];let N=x-e[f];for(let H=f+2;H<s;H++)e[H]-=N;u+=N,w=e[y];let V=1,D=V,O=V;const B=i[f+1];let X=0,ae=0;for(let H=y-1;H>=f;H--){O=D,D=V,ae=X,x=V*i[H],N=V*w,b=Za(w,i[H]),i[H+1]=X*b,X=i[H]/b,V=w/b,w=V*e[H]-X*x,e[H+1]=N+X*(V*x+X*e[H]);for(let ve=0;ve<s;ve++)N=r[(H+1)*s+ve],r[(H+1)*s+ve]=X*r[H*s+ve]+V*N,r[H*s+ve]=V*r[H*s+ve]-X*N}if(w=-X*ae*O*B*i[f]/C,i[f]=X*w,e[f]=V*w,g>=1e3)throw new Error("SVD: Not converging.")}while(Math.abs(i[f])>h*c)}e[f]=e[f]+u,i[f]=0}for(let f=0;f<s-1;f++){let y=f,g=e[f];for(let x=f+1;x<s;x++)e[x]<g&&(y=x,g=e[x]);if(y!==f){e[y]=e[f],e[f]=g;for(let x=0;x<s;x++)g=r[f*s+x],r[f*s+x]=r[y*s+x],r[y*s+x]=g}}}(e,s,l,r);for(let c=0;c<r;c++)i[c]=s[c]}(s.size,s.matrix.data,s.eigenValues,s.D,s.E)};var Tt,Sn=F(6290),Xa=F(8184);!function(r){let e;(e=r.Positions||(r.Positions={})).empty=function l(u){return{x:new Float64Array(u),y:new Float64Array(u),z:new Float64Array(u)}},r.compute=function i(s,l){return typeof l>"u"&&(l={bTransform:nt.$.zero(),rmsd:0}),function _c(r){const e=function Vc(r){const e=r.evdCache.matrix;it.u.makeZero(e);const i=r.a.x,s=r.a.y,l=r.a.z,u=r.b.x,c=r.b.y,h=r.b.z,f=r.centerA,y=r.centerB;let g=0;const x=Math.min(r.a.x.length,r.b.x.length);for(let w=0;w<x;w++){const b=i[w]-f[0],C=s[w]-f[1],N=l[w]-f[2],V=u[w]-y[0],D=c[w]-y[1],O=h[w]-y[2];g+=b*b+C*C+N*N+V*V+D*D+O*O,it.u.add(e,0,0,b*V+C*D+N*O),it.u.add(e,0,1,-N*D+C*O),it.u.add(e,0,2,N*V-b*O),it.u.add(e,0,3,-C*V+b*D),it.u.add(e,1,0,-N*D+C*O),it.u.add(e,1,1,b*V-C*D-N*O),it.u.add(e,1,2,C*V+b*D),it.u.add(e,1,3,N*V+b*O),it.u.add(e,2,0,N*V-b*O),it.u.add(e,2,1,C*V+b*D),it.u.add(e,2,2,-b*V+C*D-N*O),it.u.add(e,2,3,N*D+C*O),it.u.add(e,3,0,-C*V+b*D),it.u.add(e,3,1,N*V+b*O),it.u.add(e,3,2,N*D+C*O),it.u.add(e,3,3,-b*V-C*D+N*O)}return g}(r);yt.compute(r.evdCache);let i=e-2*r.evdCache.eigenValues[3];i=i<0?0:Math.sqrt(i/r.a.x.length),function qc(r){const e=r.evdCache.matrix,i=it.u.get(e,1,3),s=it.u.get(e,2,3),l=it.u.get(e,3,3),u=it.u.get(e,0,3),c=2*s*s,h=2*l*l,f=2*i*i,y=2*i*s,g=2*u*l,x=2*i*l,w=2*u*s,b=2*s*l,C=2*u*i;let N=r.translateB;nt.$.setValue(N,0,3,-r.centerB[0]),nt.$.setValue(N,1,3,-r.centerB[1]),nt.$.setValue(N,2,3,-r.centerB[2]),N=r.rotateB,nt.$.setValue(N,0,0,1-c-h),nt.$.setValue(N,0,1,y+g),nt.$.setValue(N,0,2,x-w),nt.$.setValue(N,1,0,y-g),nt.$.setValue(N,1,1,1-f-h),nt.$.setValue(N,1,2,b+C),nt.$.setValue(N,2,0,x+w),nt.$.setValue(N,2,1,b-C),nt.$.setValue(N,2,2,1-f-c),nt.$.setValue(N,3,3,1),nt.$.mul(r.tempMatrix,r.rotateB,r.translateB),N=r.translateB,nt.$.setValue(N,0,3,r.centerA[0]),nt.$.setValue(N,1,3,r.centerA[1]),nt.$.setValue(N,2,3,r.centerA[2]),nt.$.mul(r.result.bTransform,r.translateB,r.tempMatrix)}(r),r.result.rmsd=i}(new ad(s,l)),l}}(Tt||(Tt={}));class ad{constructor(e,i){this.evdCache=yt.createCache(4),this.translateB=nt.$.identity(),this.rotateB=nt.$.identity(),this.tempMatrix=nt.$.identity(),this.a=e.a,this.b=e.b,this.centerA=e.centerA?e.centerA:e.centerA=Sn.p.fromArrays(e.a,(0,Xa.f)()).center,this.centerB=e.centerB?e.centerB:e.centerB=Sn.p.fromArrays(e.b,(0,Xa.f)()).center,this.result=i}}var tr=F(1541),Ja=F(8672);function Ct(r,e){let i,s=0;const l={};return e.forEach(u=>{i=0;const c={};u.forEach(h=>c[r[i++]]=h),l[r[s++]]=c}),l}const vt={blosum62:Ct("ARNDCQEGHILKMFPSTWYVBZX",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:Ct("ACDEFGHIKLMNPQRSTVWY",[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]])},Ot={gapPenalty:-11,gapExtensionPenalty:-1,substMatrix:"default"};class qr{constructor(e,i,s){this.seqA=e,this.seqB=i,this.S=[],this.V=[],this.H=[],this.gapPenalty=s.gapPenalty,this.gapExtensionPenalty=s.gapExtensionPenalty,this.substMatrix="default"===s.substMatrix?void 0:vt[s.substMatrix],this.n=this.seqA.length,this.m=this.seqB.length}initMatrices(){const{n:e,m:i,gapPenalty:s,S:l,V:u,H:c}=this;for(let h=0;h<=e;++h){l[h]=[],u[h]=[],c[h]=[];for(let f=0;f<=i;++f)l[h][f]=0,u[h][f]=0,c[h][f]=0}for(let h=0;h<=e;++h)l[h][0]=s,c[h][0]=-1/0;for(let h=0;h<=i;++h)l[0][h]=s,u[0][h]=-1/0;l[0][0]=0}makeScoreFn(){const{seqA:e,seqB:i,substMatrix:s}=this;return s?function(u,c){var h,f;return null!==(f=null===(h=s[e[u]])||void 0===h?void 0:h[i[c]])&&void 0!==f?f:-4}:function(u,c){return e[u]===i[c]?5:-3}}calculate(){this.initMatrices();const e=this.makeScoreFn(),{V:i,H:s,S:l,n:u,m:c,gapExtensionPenalty:h,gapPenalty:f}=this;let y,g,x,w,b;for(let C=1;C<=u;++C){g=l[C-1],y=i[C-1],x=i[C],w=s[C],b=l[C];for(let N=1;N<=c;++N)x[N]=Math.max(g[N]+f,y[N]+h),w[N]=Math.max(b[N-1]+f,w[N-1]+h),b[N]=Math.max(g[N-1]+e(C-1,N-1),x[N],w[N])}}trace(){const e=this.makeScoreFn(),{V:i,H:s,S:l,seqA:u,seqB:c,gapExtensionPenalty:h,gapPenalty:f}=this;let x,w,y=this.n,g=this.m,b="",C="";for(l[y][g]>=i[y][g]?(x="S",w=l[y][g]):i[y][g]>=s[y][g]?(x="V",w=i[y][g]):(x="H",w=s[y][g]);y>0&&g>0;)"S"===x?l[y][g]===l[y-1][g-1]+e(y-1,g-1)?(b=u[y-1]+b,C=c[g-1]+C,--y,--g,x="S"):l[y][g]===i[y][g]?x="V":l[y][g]===s[y][g]?x="H":(--y,--g):"V"===x?i[y][g]===i[y-1][g]+h?(b=u[y-1]+b,C="-"+C,--y,x="V"):i[y][g]===l[y-1][g]+f?(b=u[y-1]+b,C="-"+C,--y,x="S"):--y:"H"===x&&(s[y][g]===s[y][g-1]+h?(b="-"+b,C=c[g-1]+C,--g,x="H"):s[y][g]===l[y][g-1]+f?(b="-"+b,C=c[g-1]+C,--g,x="S"):--g);for(;y>0;)b=u[y-1]+b,C="-"+C,--y;for(;g>0;)b="-"+b,C=c[g-1]+C,--g;return{aliA:b,aliB:C,score:w}}}var dt;function Pi(r){return r.model.sequence.byEntityKey[function Rs(r){switch(r.kind){case 0:return r.model.atomicHierarchy.index.getEntityFromChain(r.chainIndex[r.elements[0]]);case 1:return r.model.coarseHierarchy.spheres.entityKey[r.elements[0]];case 2:return r.model.coarseHierarchy.gaussians.entityKey[r.elements[0]]}}(r)].sequence}!function(r){function e(s){const l=new Map;if(Ja.Nf.isAtomic(s.unit)){const{label_seq_id:u}=s.unit.model.atomicHierarchy.residues,{residueIndex:c}=s.unit;for(let h=0,f=Ce.CD.size(s.indices);h<f;++h){const y=Ce.CD.getAt(s.indices,h),x=u.value(c[s.unit.elements[y]]);l.has(x)?l.get(x).push(y):l.set(x,[y])}}else if(Ja.Nf.isCoarse(s.unit)){const{seq_id_begin:u}=Ja.Nf.isSpheres(s.unit)?s.unit.model.coarseHierarchy.spheres:s.unit.model.coarseHierarchy.gaussians;for(let c=0,h=Ce.CD.size(s.indices);c<h;++c){const f=Ce.CD.getAt(s.indices,c),g=u.value(s.unit.elements[f]);l.set(g,[f])}}return l}r.createSeqIdIndicesMap=e,r.compute=function i(s,l={}){const u=Pi(s.a.unit),c=Pi(s.b.unit),h=e(s.a),f=e(s.b),y=[],g=[],{aliA:x,aliB:w,score:b}=function hn(r,e,i={}){const s={...Ot,...i},l=new qr(r,e,s);return l.calculate(),l.trace()}(u.code.toArray(),c.code.toArray(),l);let C=0,N=0;for(let O=0,B=x.length;O<B;++O){if("-"===x[O]||"-"===w[O]){"-"!==x[O]&&(C+=1),"-"!==w[O]&&(N+=1);continue}const X=u.seqId.value(C),ae=c.seqId.value(N);if(h.has(X)&&f.has(ae)){const H=h.get(X),ve=f.get(ae);for(let Fe=0,Ae=Math.min(H.length,ve.length);Fe<Ae;++Fe)y.push(H[Fe]),g.push(ve[Fe])}C+=1,N+=1}const V=Ce.CD.intersect(Ce.CD.ofSortedArray(y),s.a.indices),D=Ce.CD.intersect(Ce.CD.ofSortedArray(g),s.b.indices);return{a:{unit:s.a.unit,indices:V},b:{unit:s.b.unit,indices:D},score:b}}}(dt||(dt={}));var Xo=F(14);function Jo(r){const e=[];if(r.length<=0)return e;const i=function _r(r){if(0===r.length)return 0;let e=tr.i.Loci.size(r[0]);for(let i=1;i<r.length;i++){const s=tr.i.Loci.size(r[i]);s<e&&(e=s)}return e}(r),s={a:nr(r[0],i),b:nr(r[1],i)};e[0]=Tt.compute(s);for(let l=2;l<r.length;l++)s.b=nr(r[l],i),s.centerB=void 0,e.push(Tt.compute(s));return e}const Fs=/(polypeptide|cyclic-pseudo-peptide)/i;function nr(r,e){const i=Tt.Positions.empty(e);let s=0;for(const l of r.elements){const{unit:u,indices:c}=l,{elements:h,conformation:f}=u;for(let y=0,g=Ce.CD.size(c);y<g;y++){const x=h[Ce.CD.getAt(c,y)];if(i.x[s]=f.x(x),i.y[s]=f.y(x),i.z[s]=f.z(x),s++,s>=e)break}if(s>=e)break}return i}function el(r,e,i,s){const l=Tt.Positions.empty(s),u=Tt.Positions.empty(s);let c=0;for(const{pivots:h}of r){const f=h[e],y=h[i];if(!f||!y)continue;const g=Math.min(f[2]-f[1],y[2]-y[1]);for(let x=0;x<g;x++){let w=f[1]+x;l.x[c]=f[0].conformation.x(w),l.y[c]=f[0].conformation.y(w),l.z[c]=f[0].conformation.z(w),w=y[1]+x,u.x[c]=y[0].conformation.x(w),u.y[c]=y[0].conformation.y(w),u.z[c]=y[0].conformation.z(w),c++}}return[l,u]}function Li(){return!0}function tl(r,e,i,s,l){const u=tr.i.Location.create(r);for(const c of r.units){if(0!==c.kind)continue;const{elements:h,model:f}=c;u.unit=c;const y=Ya.W.Provider.get(f).value;if(!y)return;const{dbName:g,accession:x,num:w}=y,b=Ce.hT.transientSegments(c.model.atomicHierarchy.chainAtomSegments,h),C=Ce.hT.transientSegments(c.model.atomicHierarchy.residueAtomSegments,h),N=c.model.atomicHierarchy.derived.residue.traceElementIndex;for(;b.hasNext;){const V=b.move();for(C.setSegment(V);C.hasNext;){const D=C.move(),O=D.index;if(!g[O])continue;const B=N[O];let X,ae;if(s){if(X=B,-1===X)continue;ae=X+1}else X=h[D.start],ae=h[D.end-1]+1;if(u.element=B>=0?B:X,!l(u,O,X,ae))continue;const H=`${g[O]}-${x[O]}-${w[O]}`;if(e.has(H)){const ve=e.get(H);ve.pivots[i]||(ve.pivots[i]=[c,X,ae])}else e.set(H,{key:H,pivots:{[i]:[c,X,ae]}})}}}}class Ni extends Z.VK{defaultState(){return{isCollapsed:!1,header:"Superposition",brand:{accent:"gray",svg:I.lj},isHidden:!0}}componentDidMount(){this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,e=>{this.setState({isHidden:e.structures.length<2})})}renderControls(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(nl,{})})}}const Bs={alignSequences:Q.t.Boolean(!0,{isEssential:!0,description:"For Chain-based 3D superposition, perform a sequence alignment and use the aligned residue pairs to guide the 3D superposition."}),traceOnly:Q.t.Boolean(!0,{description:"For Chain- and Uniprot-based 3D superposition, base superposition only on CA (and equivalent) atoms."})},Hs=Q.t.getDefaultValues(Bs);class nl extends Z.jB{constructor(){var e;super(...arguments),e=this,this.state={isBusy:!1,canUseDb:!1,action:void 0,options:Hs},this.superposeChains=(0,R.A)(function*(){var i,s,l;const{query:u}=e.state.options.traceOnly?Zi.Ou.trace:Zi.Ou.polymer,c=e.chainEntries,h=c.map(w=>{const b=z.iZ.Loci.toStructure(w.loci),C=z.cv.toLociWithSourceUnits(u(new z.cY(b)));return z.iZ.Loci.remap(C,e.getRootStructure(w.loci.structure))}),f=e.plugin.managers.structure.hierarchy.findStructure(null===(i=h[0])||void 0===i?void 0:i.structure),y=null===(l=null===(s=f?.transform)||void 0===s?void 0:s.cell.obj)||void 0===l?void 0:l.data.coordinateSystem,g=e.state.options.alignSequences?function rn(r){const e=[];if(r.length<=0)return e;const i=tr.i.Loci.getFirstLocation(r[0]),l=Xo.Z.entity.subtype(i).match(Fs)?"blosum62":"default";for(let u=1;u<r.length;u++){const{a:c,b:h,score:f}=dt.compute({a:r[0].elements[0],b:r[u].elements[0]},{substMatrix:l}),y=tr.i.Loci(r[0].structure,[c]),g=tr.i.Loci(r[u].structure,[h]),x=Ce.CD.size(c.indices);e.push({...Tt.compute({a:nr(y,x),b:nr(g,x)}),alignmentScore:f})}return e}(h):Jo(h),x=c[0];for(let w=1,b=h.length;w<b;++w){const C=c[w],{bTransform:N,rmsd:V}=g[w-1];yield e.transform(C.cell,N,y);const D=(0,Xi.Kq)(x.label),O=(0,Xi.Kq)(C.label);e.plugin.log.info(`Superposed [${D}] and [${O}] with RMSD ${V.toFixed(2)}.`)}yield e.cameraReset()}),this.superposeAtoms=(0,R.A)(function*(){var i,s,l;const u=e.atomEntries,c=u.map(x=>z.iZ.Loci.remap(x.loci,e.getRootStructure(x.loci.structure))),h=Jo(c),f=e.plugin.managers.structure.hierarchy.findStructure(null===(i=c[0])||void 0===i?void 0:i.structure),y=null===(l=null===(s=f?.transform)||void 0===s?void 0:s.cell.obj)||void 0===l?void 0:l.data.coordinateSystem,g=u[0];for(let x=1,w=c.length;x<w;++x){const b=u[x],{bTransform:C,rmsd:N}=h[x-1];yield e.transform(b.cell,C,y);const V=(0,Xi.Kq)(g.label),D=(0,Xi.Kq)(b.label),O=u[x].atoms.length;e.plugin.log.info(`Superposed ${O} ${1===O?"atom":"atoms"} of [${V}] and [${D}] with RMSD ${N.toFixed(2)}.`)}yield e.cameraReset()}),this.superposeDb=(0,R.A)(function*(){var i,s,l;const u=e.plugin.managers.structure.hierarchy.behaviors.selection.value.structures,c=e.state.options.traceOnly,h=u.map(C=>{var N;return null===(N=C.cell.obj)||void 0===N?void 0:N.data}),{entries:f,failedPairs:y,zeroOverlapPairs:g}=function hi(r,e){var i,s;const l=new Map;for(let g=0;g<r.length;g++)tl(r[g],l,g,null===(i=e?.traceOnly)||void 0===i||i,null!==(s=e?.includeResidueTest)&&void 0!==s?s:Li);const u=Array.from(l.values()),c=function tu(r,e){const i=[];for(let l=0;l<r;l++){i[l]=[];for(let u=0;u<r;u++)i[l][u]=0}for(const{pivots:l}of e)for(let u=0;u<r;u++){if(!l[u])continue;const c=l[u][2]-l[u][1];for(let h=u+1;h<r;h++)l[h]&&(i[u][h]=i[u][h]+Math.min(c,l[h][2]-l[h][1]))}const s=[];for(let l=1;l<r;l++)s[l-1]={i:0,j:l,count:i[0][l]};return s}(r.length,u),h=[],f=[],y=[];for(const g of c)if(0===g.count)h.push([g.i,g.j]);else{const[x,w]=el(u,g.i,g.j,g.count),b=Tt.compute({a:x,b:w});Number.isNaN(b.rmsd)?f.push([g.i,g.j]):y.push({transform:b,pivot:g.i,other:g.j})}return{entries:y,zeroOverlapPairs:h,failedPairs:f}}(h,{traceOnly:c}),x=null===(l=null===(s=null===(i=u[0])||void 0===i?void 0:i.transform)||void 0===s?void 0:s.cell.obj)||void 0===l?void 0:l.data.coordinateSystem;let w=0;for(const C of f)yield e.transform(u[C.other].cell,C.transform.bTransform,x),w+=C.transform.rmsd;w/=Math.max(f.length-1,1);const b=C=>`[${C.map(([N,V])=>`(${h[N].models[0].entryId}, ${h[V].models[0].entryId})`).join(", ")}]`;g.length&&e.plugin.log.warn(`Superposition: No UNIPROT mapping overlap between structures ${b(g)}.`),y.length&&e.plugin.log.error(`Superposition: Failed to superpose structures ${b(y)}.`),f.length&&(e.plugin.log.info(`Superposed ${f.length+1} structures with avg. RMSD ${w.toFixed(2)} \xc5.`),yield e.cameraReset())}),this.toggleByChains=()=>this.setState({action:"byChains"===this.state.action?void 0:"byChains"}),this.toggleByAtoms=()=>this.setState({action:"byAtoms"===this.state.action?void 0:"byAtoms"}),this.toggleOptions=()=>this.setState({action:"options"===this.state.action?void 0:"options"}),this.setOptions=i=>{this.setState({options:i})}}componentDidMount(){this.subscribe(this.selection.events.changed,()=>{this.forceUpdate()}),this.subscribe(this.selection.events.additionsHistoryUpdated,()=>{this.forceUpdate()}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState({isBusy:e})}),this.subscribe(this.plugin.managers.structure.hierarchy.behaviors.selection,e=>{this.setState({canUseDb:e.structures.every(i=>{var s;return!(null===(s=i.cell.obj)||void 0===s||!s.data)&&i.cell.obj.data.models.some(l=>Ya.W.Provider.isApplicable(l))})})})}get selection(){return this.plugin.managers.structure.selection}transform(e,i,s){var l=this;return(0,R.A)(function*(){const u=tt.so.resolveAndCheck(l.plugin.state.data,e);if(!u)return;const c=l.plugin.state.data.selectQ(g=>g.byRef(u.transform.ref).subtree().withTransformer(jt.f.Model.TransformStructureConformation))[0],f={transform:{name:"matrix",params:{data:s&&!bt.$I.isIdentity(s.matrix)?bt.$I.mul((0,bt.$I)(),s.matrix,i):i,transpose:!1}}},y=c?l.plugin.state.data.build().to(c).update(f):l.plugin.state.data.build().to(e).insert(jt.f.Model.TransformStructureConformation,f,{tags:"SuperpositionTransform"});yield l.plugin.runTask(l.plugin.state.data.updateTree(y))})()}getRootStructure(e){var i;const s=this.plugin.helpers.substructureParent.get(e);return null===(i=this.plugin.state.data.selectQ(l=>l.byValue(s).rootOfType(we.O.Molecule.Structure))[0].obj)||void 0===i?void 0:i.data}cameraReset(){var e=this;return(0,R.A)(function*(){yield new Promise(i=>requestAnimationFrame(i)),ue.a.Camera.Reset(e.plugin)})()}highlight(e){this.plugin.managers.interactivity.lociHighlights.highlightOnly({loci:e},!1)}moveHistory(e,i){this.plugin.managers.structure.selection.modifyHistory(e,i,void 0,!0)}focusLoci(e){this.plugin.managers.camera.focusLoci(e)}lociEntry(e,i){return(0,p.jsx)("div",{className:"msp-flex-row",children:(0,p.jsx)(L.$n,{noOverflow:!0,title:"Click to focus. Hover to highlight.",onClick:()=>this.focusLoci(e.loci),style:{width:"auto",textAlign:"left"},onMouseEnter:()=>this.highlight(e.loci),onMouseLeave:()=>this.plugin.managers.interactivity.lociHighlights.clearHighlights(),children:(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})})},i)}historyEntry(e,i){const s=this.plugin.managers.structure.selection.additionsHistory;return(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsxs)(L.$n,{noOverflow:!0,title:"Click to focus. Hover to highlight.",onClick:()=>this.focusLoci(e.loci),style:{width:"auto",textAlign:"left"},onMouseEnter:()=>this.highlight(e.loci),onMouseLeave:()=>this.plugin.managers.interactivity.lociHighlights.clearHighlights(),children:[i,". ",(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})]}),s.length>1&&(0,p.jsx)(L.K0,{svg:I.p8,small:!0,className:"msp-form-control",onClick:()=>this.moveHistory(e,"up"),flex:"20px",title:"Move up"}),s.length>1&&(0,p.jsx)(L.K0,{svg:I.qp,small:!0,className:"msp-form-control",onClick:()=>this.moveHistory(e,"down"),flex:"20px",title:"Move down"}),(0,p.jsx)(L.K0,{svg:I.mf,small:!0,className:"msp-form-control",onClick:()=>this.plugin.managers.structure.selection.modifyHistory(e,"remove"),flex:!0,title:"Remove"})]},e.id)}atomsLociEntry(e,i){return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"msp-control-group-header",children:(0,p.jsx)("div",{className:"msp-no-overflow",title:e.label,children:e.label})}),(0,p.jsx)("div",{className:"msp-control-offset",children:e.atoms.map((s,l)=>this.historyEntry(s,l))})]},i)}get chainEntries(){const e=z.iZ.Location.create(),i=[];return this.plugin.managers.structure.selection.entries.forEach(({selection:s},l)=>{const u=tt.so.resolveAndCheck(this.plugin.state.data,l);if(!u||z.iZ.Loci.isEmpty(s))return;const c=z.iZ.Loci.getFirstLocation(s,e);if(s.elements.length>1||"polymer"!==z.StructureProperties.entity.type(c))return;const h=z.iZ.Stats.ofLoci(s),f=(0,Nn.d_)(h,{countsOnly:!0}),y=(0,Nn.BB)(c,{reverse:!0,granularity:"chain"}).split("|");i.push({loci:s,label:`${f} | ${y[0]} | ${y[y.length-1]}`,cell:u})}),i}get atomEntries(){const e=new Map,i=this.plugin.managers.structure.selection.additionsHistory;for(let l=0,u=i.length;l<u;++l){const c=i[l];if(1!==z.iZ.Loci.size(c.loci))continue;const h=c.loci.structure;e.has(h)?e.get(h).push(c):e.set(h,[c])}const s=[];return e.forEach((l,u)=>{const c=this.plugin.helpers.substructureParent.get(u),h=[];for(let g=0,x=l.length;g<x;++g)h.push(l[g].loci.elements[0]);const f=z.iZ.Loci(l[0].loci.structure,h),y=f.structure.label.split(" | ")[0];s.push({loci:f,label:y,cell:c,atoms:l})}),s}toggleHint(){return this.plugin.config.get(Bt.AB.Viewport.ShowSelectionMode)?(0,p.jsxs)(p.Fragment,{children:[" ","(toggle ",(0,p.jsx)(Vr,{inline:!0})," mode)"]}):null}addByChains(){const e=this.chainEntries;return(0,p.jsxs)(p.Fragment,{children:[e.length>0&&(0,p.jsx)("div",{className:"msp-control-offset",children:e.map((i,s)=>this.lociEntry(i,s))}),e.length<2&&(0,p.jsx)("div",{className:"msp-control-offset msp-help-text",children:(0,p.jsxs)("div",{className:"msp-help-description",children:[(0,p.jsx)(I.In,{svg:I.ml,inline:!0}),"Add 2 or more selections",this.toggleHint()," from separate structures. Selections must be limited to single polymer chains or residues therein."]})}),e.length>1&&(0,p.jsx)(L.$n,{title:"Superpose structures by selected chains.",className:"msp-btn-commit msp-btn-commit-on",onClick:this.superposeChains,style:{marginTop:"1px"},children:"Superpose"})]})}addByAtoms(){const e=this.atomEntries;return(0,p.jsxs)(p.Fragment,{children:[e.length>0&&(0,p.jsx)("div",{className:"msp-control-offset",children:e.map((i,s)=>this.atomsLociEntry(i,s))}),e.length<2&&(0,p.jsx)("div",{className:"msp-control-offset msp-help-text",children:(0,p.jsxs)("div",{className:"msp-help-description",children:[(0,p.jsx)(I.In,{svg:I.ml,inline:!0}),"Add 1 or more selections",this.toggleHint()," from separate structures. Selections must be limited to single atoms."]})}),e.length>1&&(0,p.jsx)(L.$n,{title:"Superpose structures by selected atoms.",className:"msp-btn-commit msp-btn-commit-on",onClick:this.superposeAtoms,style:{marginTop:"1px"},children:"Superpose"})]})}superposeByDbMapping(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(L.$n,{icon:I.$8,title:"Superpose structures using intersection of residues from SIFTS UNIPROT mapping.",className:"msp-btn msp-btn-block",onClick:this.superposeDb,style:{marginTop:"1px"},disabled:this.state.isBusy,children:"Uniprot"})})}render(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.ff,{icon:I.$8,label:"Chains",toggle:this.toggleByChains,isSelected:"byChains"===this.state.action,disabled:this.state.isBusy}),(0,p.jsx)(L.ff,{icon:I.z7,label:"Atoms",toggle:this.toggleByAtoms,isSelected:"byAtoms"===this.state.action,disabled:this.state.isBusy}),this.state.canUseDb&&this.superposeByDbMapping(),(0,p.jsx)(L.ff,{icon:I.Hk,label:"",title:"Options",toggle:this.toggleOptions,isSelected:"options"===this.state.action,disabled:this.state.isBusy,style:{flex:"0 0 40px",padding:0}})]}),"byChains"===this.state.action&&this.addByChains(),"byAtoms"===this.state.action&&this.addByAtoms(),"options"===this.state.action&&(0,p.jsx)("div",{className:"msp-control-offset",children:(0,p.jsx)($e.y1,{params:Bs,values:this.state.options,onChangeValues:this.setOptions,isDisabled:this.state.isBusy})})]})}}var Us=F(9880),Gt=F(3099);class Mi extends Z.VK{defaultState(){return{isCollapsed:!1,header:"Quick Styles",brand:{accent:"gray",svg:I._c}}}renderControls(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(zn,{})})}}class zn extends Z.jB{default(){var e=this;return(0,R.A)(function*(){const{structures:i}=e.plugin.managers.structure.hierarchy.selection,s=e.plugin.config.get(Bt.AB.Structure.DefaultRepresentationPreset)||Us.Bj.auto.id,l=e.plugin.builders.structure.representation.resolveProvider(s);if(yield e.plugin.managers.structure.component.applyPreset(i,l),e.plugin.managers.structure.component.setOptions(Q.t.getDefaultValues(Br.C.OptionsParams)),e.plugin.canvas3d){const u=Q.t.getDefaultValues(Gt.co);e.plugin.canvas3d.setProps({postprocessing:{outline:u.outline,occlusion:u.occlusion}})}})()}illustrative(){var e=this;return(0,R.A)(function*(){const{structures:i}=e.plugin.managers.structure.hierarchy.selection;yield e.plugin.managers.structure.component.applyPreset(i,Us.Bj.illustrative),e.plugin.canvas3d&&e.plugin.canvas3d.setProps({postprocessing:{outline:{name:"on",params:{scale:1,color:(0,wt.Q1)(0),threshold:.25,includeTransparent:!0}},occlusion:{name:"on",params:{multiScale:{name:"off",params:{}},radius:5,bias:.8,blurKernelSize:15,samples:32,resolutionScale:1,color:(0,wt.Q1)(0)}},shadow:{name:"off",params:{}}}})})()}stylized(){var e=this;return(0,R.A)(function*(){if(e.plugin.managers.structure.component.setOptions({...e.plugin.managers.structure.component.state.options,ignoreLight:!0}),e.plugin.canvas3d){const i=e.plugin.canvas3d.props.postprocessing;e.plugin.canvas3d.setProps({postprocessing:{outline:{name:"on",params:"on"===i.outline.name?i.outline.params:{scale:1,color:(0,wt.Q1)(0),threshold:.33,includeTransparent:!0}},occlusion:{name:"on",params:"on"===i.occlusion.name?i.occlusion.params:{multiScale:{name:"off",params:{}},radius:5,bias:.8,blurKernelSize:15,samples:32,resolutionScale:1,color:(0,wt.Q1)(0)}},shadow:{name:"off",params:{}}}})}})()}render(){return(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.$n,{noOverflow:!0,title:"Applies default representation preset. Set outline and occlusion effects to defaults.",onClick:()=>this.default(),style:{width:"auto"},children:"Default"}),(0,p.jsx)(L.$n,{noOverflow:!0,title:"Applies no representation preset. Enables outline and occlusion effects. Enables ignore-light representation parameter.",onClick:()=>this.stylized(),style:{width:"auto"},children:"Stylized"}),(0,p.jsx)(L.$n,{noOverflow:!0,title:"Applies illustrative representation preset. Enables outline and occlusion effects. Enables ignore-light parameter.",onClick:()=>this.illustrative(),style:{width:"auto"},children:"Illustrative"})]})}}class sn extends Z.dL{constructor(){super(...arguments),this.state={show:!1,label:""},this.update=()=>{const e=this.plugin.state.data,i=e.selectQ(c=>c.ofTransformer(jt.f.Model.ModelFromTrajectory));if(0===i.length)return void this.setState({show:!1});let s="",l=0;const u=new Set;for(const c of i){if(!c.sourceRef)continue;const h=e.cells.get(c.sourceRef).obj;if(h&&h.data.frameCount>1){if(u.has(c.sourceRef))return void this.setState({show:!1});u.add(c.sourceRef),l++,s||(s=`Model ${c.transform.params.modelIndex+1} / ${h.data.frameCount}`)}}l>1&&(s=""),this.setState({show:l>0,label:s})},this.reset=()=>ue.a.State.ApplyAction(this.plugin,{state:this.plugin.state.data,action:Uo.UpdateTrajectory.create({action:"reset"})}),this.prev=()=>ue.a.State.ApplyAction(this.plugin,{state:this.plugin.state.data,action:Uo.UpdateTrajectory.create({action:"advance",by:-1})}),this.next=()=>ue.a.State.ApplyAction(this.plugin,{state:this.plugin.state.data,action:Uo.UpdateTrajectory.create({action:"advance",by:1})})}componentDidMount(){this.subscribe(this.plugin.state.data.events.changed,this.update),this.subscribe(this.plugin.behaviors.state.isAnimating,this.update)}render(){const e=this.plugin.behaviors.state.isAnimating.value;return!this.state.show||e&&!this.state.label||!this.plugin.config.get(Bt.AB.Viewport.ShowTrajectoryControls)?null:(0,p.jsxs)("div",{className:"msp-traj-controls",children:[!e&&(0,p.jsx)(L.K0,{svg:I.je,title:"First Model",onClick:this.reset,disabled:e}),!e&&(0,p.jsx)(L.K0,{svg:I.d6,title:"Previous Model",onClick:this.prev,disabled:e}),!e&&(0,p.jsx)(L.K0,{svg:I.xf,title:"Next Model",onClick:this.next,disabled:e}),!!this.state.label&&(0,p.jsx)("span",{children:this.state.label})]})}}class Wc extends Z.dL{constructor(){super(...arguments),this.state={isBusy:!1,show:!0},this.keyUp=e=>{if(!e.ctrlKey||this.state.isBusy||e.target!==document.body)return;const i=this.plugin.managers.snapshot;if(37===e.keyCode||"ArrowLeft"===e.key)i.state.isPlaying&&i.stop(),this.prev();else if(38===e.keyCode||"ArrowUp"===e.key){if(i.state.isPlaying&&i.stop(),0===i.state.entries.size)return;const s=i.state.entries.get(0);this.update(s.snapshot.id)}else if(39===e.keyCode||"ArrowRight"===e.key)i.state.isPlaying&&i.stop(),this.next();else if(40===e.keyCode||"ArrowDown"===e.key){if(i.state.isPlaying&&i.stop(),0===i.state.entries.size)return;const s=i.state.entries.get(i.state.entries.size-1);this.update(s.snapshot.id)}},this.change=e=>{"none"!==e.target.value&&this.update(e.target.value)},this.prev=()=>{const e=this.plugin.managers.snapshot,i=e.getNextId(e.state.current,-1);i&&this.update(i)},this.next=()=>{const e=this.plugin.managers.snapshot,i=e.getNextId(e.state.current,1);i&&this.update(i)},this.togglePlay=()=>{this.plugin.managers.snapshot.togglePlay()}}componentDidMount(){this.subscribe(this.plugin.managers.snapshot.events.changed,()=>this.forceUpdate()),this.subscribe(this.plugin.behaviors.state.isBusy,e=>this.setState({isBusy:e})),this.subscribe(this.plugin.behaviors.state.isAnimating,e=>this.setState({isBusy:e})),window.addEventListener("keyup",this.keyUp,!1)}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("keyup",this.keyUp,!1)}update(e){var i=this;return(0,R.A)(function*(){i.setState({isBusy:!0}),yield ue.a.State.Snapshots.Apply(i.plugin,{id:e}),i.setState({isBusy:!1})})()}render(){const e=this.plugin.managers.snapshot,i=e.state.entries.size;if(i<2||!this.state.show)return null;const s=e.state.current,l=e.state.isPlaying;return(0,p.jsxs)("div",{className:"msp-state-snapshot-viewport-controls",children:[(0,p.jsxs)("select",{className:"msp-form-control",value:s||"none",onChange:this.change,disabled:this.state.isBusy||l,children:[!s&&(0,p.jsx)("option",{value:"none"},"none"),e.state.entries.valueSeq().map((u,c)=>(0,p.jsxs)("option",{value:u.snapshot.id,children:[`[${c+1}/${i}]`," ",u.name||new Date(u.timestamp).toLocaleString()]},u.snapshot.id))]}),(0,p.jsx)(L.K0,{svg:l?I.xY:I.M6,title:l?"Pause":"Cycle States",onClick:this.togglePlay,disabled:!l&&this.state.isBusy}),!l&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.K0,{svg:I.d6,title:"Previous State",onClick:this.prev,disabled:this.state.isBusy||l}),(0,p.jsx)(L.K0,{svg:I.xf,title:"Next State",onClick:this.next,disabled:this.state.isBusy||l})]})]})}}function iu(){var r;const e=he.useContext(Z.aU),[i,s]=he.useState(0);he.useEffect(()=>{const c=e.managers.snapshot.events.changed.subscribe(()=>s(h=>h+1));return()=>c.unsubscribe()},[e]);const l=e.managers.snapshot.state.current;if(!l)return null;const u=e.managers.snapshot.getEntry(l);return null!==(r=u?.description)&&void 0!==r&&r.trim()?(0,p.jsx)("div",{className:"msp-snapshot-description-wrapper",children:(0,p.jsx)(Da,{skipHtml:!0,components:{a:ru},children:u.description})}):null}function ru({href:r,children:e,element:i}){const s=he.useContext(Z.aU);return r&&"#"===r[0]?(0,p.jsx)("a",{href:"#",onClick:l=>{l.preventDefault(),s.managers.snapshot.applyKey(r.substring(1))},children:e}):i}class ud extends Z.dL{constructor(){super(...arguments),this.state={isEmpty:!0,isExpanded:!1,isBusy:!1,isAnimating:!1,isPlaying:!1},this.toggleExpanded=()=>this.setState({isExpanded:!this.state.isExpanded}),this.stop=()=>{this.plugin.managers.animation.stop(),this.plugin.managers.snapshot.stop()}}componentDidMount(){this.subscribe(this.plugin.managers.snapshot.events.changed,()=>{this.setState(this.plugin.managers.snapshot.state.isPlaying?{isPlaying:!0,isExpanded:!1}:{isPlaying:!1})}),this.subscribe(this.plugin.behaviors.state.isBusy,e=>{this.setState(e?{isBusy:!0,isExpanded:!1,isEmpty:this.plugin.state.data.tree.transforms.size<2}:{isBusy:!1,isEmpty:this.plugin.state.data.tree.transforms.size<2})}),this.subscribe(this.plugin.behaviors.state.isAnimating,e=>{this.setState(e?{isAnimating:!0,isExpanded:!1}:{isAnimating:!1})})}render(){const e=this.plugin.managers.snapshot.state.isPlaying;if(e||this.state.isEmpty||this.plugin.managers.animation.isEmpty||!this.plugin.config.get(Bt.AB.Viewport.ShowAnimation))return null;const i=this.state.isAnimating;return(0,p.jsxs)("div",{className:"msp-animation-viewport-controls",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"msp-semi-transparent-background"}),(0,p.jsx)(L.K0,{svg:i||e?I.xY:I.NT,transparent:!0,title:i?"Stop":"Select Animation",onClick:i||e?this.stop:this.toggleExpanded,toggleState:this.state.isExpanded,disabled:!i&&!e&&(this.state.isBusy||this.state.isPlaying||this.state.isEmpty)})]}),this.state.isExpanded&&!this.state.isBusy&&(0,p.jsx)("div",{className:"msp-animation-viewport-controls-select",children:(0,p.jsx)(jc,{onStart:this.toggleExpanded})})]})}}class Di extends Z.dL{componentDidMount(){this.subscribe(this.plugin.behaviors.interaction.selectionMode,()=>this.forceUpdate())}render(){return this.plugin.selectionMode?(0,p.jsx)("div",{className:"msp-selection-viewport-controls",children:(0,p.jsx)(Ka,{})}):null}}class Kc extends Z.dL{constructor(){super(...arguments),this.state={labels:[]}}componentDidMount(){this.subscribe(this.plugin.behaviors.labels.highlight,e=>this.setState({labels:e.labels}))}render(){return 0===this.state.labels.length?null:(0,p.jsx)("div",{className:"msp-highlight-info",children:this.state.labels.map((e,i)=>e.indexOf("\n")>0?(0,p.jsx)("div",{className:"msp-highlight-markdown-row",children:(0,p.jsx)(Da,{skipHtml:!0,children:e})},""+i):(0,p.jsx)("div",{className:"msp-highlight-simple-row",dangerouslySetInnerHTML:{__html:e}},""+i))})}}class su extends Z.dL{componentDidMount(){this.subscribe(this.plugin.state.behaviors.events.changed,()=>this.forceUpdate())}render(){const e=[];return this.plugin.customStructureControls.forEach((i,s)=>{e.push((0,p.jsx)(i,{initiallyCollapsed:this.props.initiallyCollapsed},s))}),e.length>0?(0,p.jsx)(p.Fragment,{children:e}):null}}class ir extends Z.dL{render(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-section-header",children:[(0,p.jsx)(I.In,{svg:I.RZ}),"Structure Tools"]}),(0,p.jsx)(od,{}),(0,p.jsx)($a,{}),(0,p.jsx)(Ni,{}),(0,p.jsx)(Mi,{}),(0,p.jsx)(Fa,{}),this.plugin.config.get(Bt.AB.VolumeStreaming.Enabled)&&(0,p.jsx)(Yo,{}),(0,p.jsx)(Ga,{}),(0,p.jsx)(su,{})]})}}var Wr=F(3386),ut=F(3177);class $c extends Z.dL{get current(){return this.props.state.behaviors.currentObject.value}componentDidMount(){this.subscribe(this.plugin.state.events.object.updated,({ref:e,state:i})=>{const s=this.current;s.ref!==e||s.state!==i||this.forceUpdate()}),this.subscribe(this.plugin.state.data.actions.events.added,()=>this.forceUpdate()),this.subscribe(this.plugin.state.data.actions.events.removed,()=>this.forceUpdate())}render(){const{state:e,nodeRef:i}=this.props,s=e.cells.get(i),l=e.actions.fromCell(s,this.plugin);if(0===l.length)return null;const u=s.transform.transformer.definition,c=s.obj?s.obj.label:u.display&&u.display.name||u.name;return(0,p.jsxs)("div",{className:"msp-state-actions",children:[!this.props.hideHeader&&(0,p.jsxs)("div",{className:"msp-section-header",children:[(0,p.jsx)(I.In,{svg:I.Mm})," ",`Actions (${c})`]}),l.map((h,f)=>(0,p.jsx)(Go,{state:e,action:h,nodeRef:i,initiallyCollapsed:0===f?!this.props.alwaysExpandFirst&&this.props.initiallyCollapsed:this.props.initiallyCollapsed},`${h.id}`))]})}}var Kr=F(39),ou=F(2768),il=F(9854),cd=F(5091);class pd extends Z.dL{render(){var e;return(0,p.jsxs)("div",{children:[(0,p.jsx)(L.X3,{icon:I.e,title:"Plugin State"}),(0,p.jsx)("div",{style:{marginBottom:"10px"},children:(0,p.jsx)(L.Yj,{header:"Save Options",initiallyExpanded:!1,children:(0,p.jsx)(au,{})})}),(0,p.jsx)(Gn,{}),(0,p.jsx)(Gc,{}),(0,p.jsx)(L.X3,{title:"Save as File",accent:"blue"}),(0,p.jsx)(lu,{}),"none"!==(null===(e=this.plugin.spec.components)||void 0===e?void 0:e.remoteState)&&(0,p.jsx)(uu,{})]})}}class lu extends Z.dL{constructor(){super(...arguments),this.downloadToFileJson=()=>{var e,i;null===(i=(e=this.props).onAction)||void 0===i||i.call(e),ue.a.State.Snapshots.DownloadToFile(this.plugin,{type:"json"})},this.downloadToFileZip=()=>{var e,i;null===(i=(e=this.props).onAction)||void 0===i||i.call(e),ue.a.State.Snapshots.DownloadToFile(this.plugin,{type:"zip"})},this.open=e=>{var i,s;e.target.files&&e.target.files[0]?(null===(s=(i=this.props).onAction)||void 0===s||s.call(i),ue.a.State.Snapshots.OpenFile(this.plugin,{file:e.target.files[0]})):this.plugin.log.error("No state file selected")}}render(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.$n,{icon:I.U3,onClick:this.downloadToFileJson,title:"Save the state description. Input data are loaded using the provided sources. Does not work if local files are used as input.",children:"State"}),(0,p.jsx)(L.$n,{icon:I.U3,onClick:this.downloadToFileZip,title:"Save the state including the input data.",children:"Session"}),(0,p.jsxs)("div",{className:"msp-btn msp-btn-block msp-btn-action msp-loader-msp-btn-file",children:[(0,p.jsx)(I.In,{svg:I.sd,inline:!0})," Open ",(0,p.jsx)("input",{onChange:this.open,type:"file",multiple:!1,accept:".molx,.molj"})]})]}),(0,p.jsxs)("div",{className:"msp-help-text",style:{padding:"10px"},children:[(0,p.jsx)(I.In,{svg:I.Rf})," This is an experimental feature and stored states/sessions might not be openable in a future version."]})]})}}class au extends Z.dL{componentDidMount(){this.subscribe(this.plugin.state.snapshotParams,()=>this.forceUpdate())}render(){return(0,p.jsx)($e.y1,{params:ou.p.SnapshotParams,values:this.plugin.state.snapshotParams.value,onChangeValues:this.plugin.state.setSnapshotParams})}}class Gn extends Z.dL{constructor(){super(...arguments),this.state={params:Q.t.getDefaultValues(Gn.Params)},this.add=()=>{ue.a.State.Snapshots.Add(this.plugin,{name:this.state.params.name,description:this.state.params.description})},this.updateParams=e=>this.setState({params:e}),this.clear=()=>{ue.a.State.Snapshots.Clear(this.plugin,{})}}shouldComponentUpdate(e,i){return!(0,Zr.f8)(this.props,e)||!(0,Zr.f8)(this.state,i)}render(){return(0,p.jsx)("div",{children:(0,p.jsx)($r,{parent:this})})}}function Qc(r,e,i){return!!e&&r.managers.snapshot.state.entries.some(s=>(!i||s.snapshot.id!==i)&&s.key===e)}function $r({parent:r}){const[e,i]=he.useState({key:"",name:"",description:""}),s=()=>{ue.a.State.Snapshots.Add(r.plugin,{key:e.key,name:e.name,description:e.description}),i({key:"",name:"",description:""})},l=Qc(r.plugin,e.key);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(lt,{state:e,setState:i,apply:s}),(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.K0,{onClick:r.clear,svg:I.mf,title:"Remove All"}),(0,p.jsx)(L.$n,{onClick:s,icon:l?void 0:I.CR,style:{textAlign:"right"},commit:l?"off":"on",disabled:l,children:l?"Key must be unique":"Add"})]})]})}Gn.Params={name:Q.t.Text(),description:Q.t.Text()};class Gc extends Z.dL{constructor(){super(...arguments),this.state={editingId:void 0},this.edit=e=>{const i=e.currentTarget.getAttribute("data-id");i&&this.setState({editingId:i===this.state.editingId?void 0:i})},this.doneEdit=()=>this.setState({editingId:void 0}),this.apply=e=>{const i=e.currentTarget.getAttribute("data-id");i&&ue.a.State.Snapshots.Apply(this.plugin,{id:i})},this.remove=e=>{const i=e.currentTarget.getAttribute("data-id");i&&ue.a.State.Snapshots.Remove(this.plugin,{id:i})},this.moveUp=e=>{const i=e.currentTarget.getAttribute("data-id");i&&ue.a.State.Snapshots.Move(this.plugin,{id:i,dir:-1})},this.moveDown=e=>{const i=e.currentTarget.getAttribute("data-id");i&&ue.a.State.Snapshots.Move(this.plugin,{id:i,dir:1})},this.replace=e=>{const i=e.currentTarget.getAttribute("data-id");i&&ue.a.State.Snapshots.Replace(this.plugin,{id:i})}}componentDidMount(){this.subscribe(this.plugin.managers.snapshot.events.changed,()=>this.forceUpdate())}render(){const e=this.plugin.managers.snapshot.state.current,i=[];return this.plugin.managers.snapshot.state.entries.forEach(s=>{var l;i.push((0,p.jsxs)("li",{className:"msp-flex-row",children:[(0,p.jsxs)(L.$n,{"data-id":s.snapshot.id,onClick:this.apply,className:"msp-no-overflow",children:[(0,p.jsxs)("span",{style:{fontWeight:s.snapshot.id===e?"bold":void 0},children:[!!s.key&&`[${s.key}] `,s.name||new Date(s.timestamp).toLocaleString()]})," ",(0,p.jsx)("small",{children:`${s.snapshot.durationInMs?(0,il.H)(s.snapshot.durationInMs,!1):""}`})]}),(0,p.jsx)(L.K0,{svg:I.Hk,"data-id":s.snapshot.id,title:"Edit",onClick:this.edit,flex:"28px"}),(0,p.jsx)(L.K0,{svg:I.p8,"data-id":s.snapshot.id,title:"Move Up",onClick:this.moveUp,flex:"20px"}),(0,p.jsx)(L.K0,{svg:I.qp,"data-id":s.snapshot.id,title:"Move Down",onClick:this.moveDown,flex:"20px"}),(0,p.jsx)(L.K0,{svg:I.sy,"data-id":s.snapshot.id,title:"Replace",onClick:this.replace,flex:"20px"}),(0,p.jsx)(L.K0,{svg:I.mf,"data-id":s.snapshot.id,title:"Remove",onClick:this.remove,flex:"20px"})]},s.snapshot.id)),this.state.editingId===s.snapshot.id&&i.push((0,p.jsx)(dd,{entry:s,plugin:this.plugin,done:this.doneEdit},`${s.snapshot.id}-edit`));const u=s.image&&(null===(l=this.plugin.managers.asset.get(s.image))||void 0===l?void 0:l.file);u&&i.push((0,p.jsx)("li",{className:"msp-state-image-row",children:(0,p.jsx)(L.$n,{"data-id":s.snapshot.id,onClick:this.apply,children:(0,p.jsx)("img",{draggable:!1,src:URL.createObjectURL(u)})})},`${s.snapshot.id}-image`))}),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("ul",{style:{listStyle:"none",marginTop:"10px"},className:"msp-state-list",children:i})})}}function lt({state:r,setState:e,apply:i}){const s=he.useRef(),l=he.useRef(),[u,c]=he.useState(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.eJ,{label:"Name",control:(0,p.jsx)("input",{type:"text",value:r.name,placeholder:"Name",onChange:h=>e({...r,name:h.target.value}),onKeyUp:h=>{var f;"Enter"===h.key&&(null===(f=s.current)||void 0===f||f.focus())}})}),(0,p.jsx)(L.eJ,{label:(0,p.jsxs)(p.Fragment,{children:["Key",(0,p.jsx)($e.Z4,{show:u,toggle:()=>c(h=>!h)})]}),control:(0,p.jsx)("input",{type:"text",ref:s,value:r.key,placeholder:"Key (optional)",onChange:h=>e({...r,key:h.target.value}),onKeyUp:h=>{var f;"Enter"===h.key&&(null===(f=l.current)||void 0===f||f.focus())}})}),u&&(0,p.jsx)("div",{className:"msp-control-offset",children:(0,p.jsx)($e.jH,{description:"Optional snapshot key used to activate snapshots from descriptions, labels, etc."})}),(0,p.jsx)("div",{className:"msp-flex-row msp-text-area-wrapper",style:{marginBottom:1},children:(0,p.jsx)("textarea",{ref:l,placeholder:"Markdown Description\n\n- Use [title](#key) to link to a snapshot",className:"msp-form-control",value:r.description,onChange:h=>e({...r,description:h.target.value}),onKeyUp:h=>{"Enter"===h.key&&h.ctrlKey&&i(r)}})})]})}function dd({entry:r,plugin:e,done:i}){var s,l,u;const[c,h]=he.useState({key:null!==(s=r.key)&&void 0!==s?s:"",name:null!==(l=r.name)&&void 0!==l?l:"",description:null!==(u=r.description)&&void 0!==u?u:""}),f=()=>{e.managers.snapshot.update(r,c),i()},y=Qc(e,c.key,r.snapshot.id);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(lt,{state:c,setState:h,apply:f}),(0,p.jsx)("div",{className:"msp-flex-row",style:{marginBottom:1},children:(0,p.jsx)(L.$n,{onClick:f,icon:y?void 0:I.Xq,style:{textAlign:"right"},commit:y?"off":"on",disabled:y,children:y?"Key must be unique":"Apply"})})]})}class uu extends Z.dL{constructor(){var e;super(...arguments),e=this,this.Params={name:Q.t.Text(),options:Q.t.Group({description:Q.t.Text(),playOnLoad:Q.t.Boolean(!1),serverUrl:Q.t.Text(this.plugin.config.get(Bt.AB.State.CurrentServer))})},this.state={params:Q.t.getDefaultValues(this.Params),entries:(0,Kr.uY)(),isBusy:!1},this.ListOnlyParams={options:Q.t.Group({serverUrl:Q.t.Text(this.plugin.config.get(Bt.AB.State.CurrentServer))},{isFlat:!0})},this._mounted=!1,this.refresh=(0,R.A)(function*(){try{e.setState({isBusy:!0}),e.plugin.config.set(Bt.AB.State.CurrentServer,e.state.params.options.serverUrl);const i=(yield e.plugin.runTask(e.plugin.fetch({url:e.serverUrl("list"),type:"json"})))||[];i.sort((l,u)=>l.isSticky===u.isSticky?l.timestamp-u.timestamp:l.isSticky?-1:1);const s=(0,Kr.uY)().asMutable();for(const l of i)s.set(l.id,{...l,url:e.serverUrl(`get/${l.id}`),removeUrl:e.serverUrl(`remove/${l.id}`)});e._mounted&&e.setState({entries:s.asImmutable(),isBusy:!1})}catch(i){console.error(i),e.plugin.log.error("Error fetching remote snapshots"),e._mounted&&e.setState({entries:(0,Kr.uY)(),isBusy:!1})}}),this.upload=(0,R.A)(function*(){e.setState({isBusy:!0}),e.plugin.config.set(Bt.AB.State.CurrentServer,e.state.params.options.serverUrl),yield ue.a.State.Snapshots.Upload(e.plugin,{name:e.state.params.name,description:e.state.params.options.description,playOnLoad:e.state.params.options.playOnLoad,serverUrl:e.state.params.options.serverUrl}),e.plugin.log.message("Snapshot uploaded."),e._mounted&&(e.setState({isBusy:!1}),e.refresh())}),this.fetch=function(){var i=(0,R.A)(function*(s){const l=s.currentTarget.getAttribute("data-id");if(!l)return;const u=e.state.entries.get(l);if(u){e.setState({isBusy:!0});try{yield ue.a.State.Snapshots.Fetch(e.plugin,{url:u.url})}finally{e._mounted&&e.setState({isBusy:!1})}}});return function(s){return i.apply(this,arguments)}}(),this.remove=function(){var i=(0,R.A)(function*(s){const l=s.currentTarget.getAttribute("data-id");if(!l)return;const u=e.state.entries.get(l);if(u){e.setState({entries:e.state.entries.remove(l)});try{yield fetch(u.removeUrl)}catch(c){console.error(c)}}});return function(s){return i.apply(this,arguments)}}()}componentDidMount(){this.refresh(),this._mounted=!0}componentWillUnmount(){super.componentWillUnmount(),this._mounted=!1}serverUrl(e){return e?(0,cd.r)(this.state.params.options.serverUrl,e):this.state.params.options.serverUrl}render(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.X3,{title:"Remote States",accent:"blue"}),!this.props.listOnly&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($e.y1,{params:this.Params,values:this.state.params,onEnter:this.upload,onChange:e=>{this.setState({params:{...this.state.params,[e.name]:e.value}})},isDisabled:this.state.isBusy}),(0,p.jsxs)("div",{className:"msp-flex-row",children:[(0,p.jsx)(L.K0,{onClick:this.refresh,disabled:this.state.isBusy,svg:I.ij}),(0,p.jsx)(L.$n,{icon:I.XI,onClick:this.upload,disabled:this.state.isBusy,commit:!0,children:"Upload"})]})]}),(0,p.jsx)(hd,{entries:this.state.entries,isBusy:this.state.isBusy,serverUrl:this.state.params.options.serverUrl,fetch:this.fetch,remove:this.props.listOnly?void 0:this.remove}),this.props.listOnly&&(0,p.jsxs)("div",{style:{marginTop:"10px"},children:[(0,p.jsx)($e.y1,{params:this.ListOnlyParams,values:this.state.params,onEnter:this.upload,onChange:e=>{this.setState({params:{...this.state.params,[e.name]:e.value}})},isDisabled:this.state.isBusy}),(0,p.jsx)("div",{className:"msp-flex-row",children:(0,p.jsx)(L.$n,{onClick:this.refresh,disabled:this.state.isBusy,icon:I.ij,children:"Refresh"})})]})]})}}class hd extends Z.jB{constructor(){var e;super(...arguments),e=this,this.open=function(){var i=(0,R.A)(function*(s){const l=s.currentTarget.getAttribute("data-id");if(!l)return;const u=e.props.entries.get(l);if(!u)return;s.preventDefault();let c=`${window.location}`;const h=c.indexOf("?");h>0&&(c=c.substr(0,h)),window.open(`${c}?snapshot-url=${encodeURIComponent(u.url)}`,"_blank")});return function(s){return i.apply(this,arguments)}}()}render(){return(0,p.jsx)("ul",{style:{listStyle:"none",marginTop:"10px"},className:"msp-state-list",children:this.props.entries.valueSeq().map(e=>(0,p.jsxs)("li",{className:"msp-flex-row",children:[(0,p.jsxs)(L.$n,{"data-id":e.id,onClick:this.props.fetch,disabled:this.props.isBusy,onContextMenu:this.open,title:"Click to download, right-click to open in a new tab.",children:[e.name||new Date(e.timestamp).toLocaleString()," ",(0,p.jsx)("small",{children:e.description})]}),!e.isSticky&&this.props.remove&&(0,p.jsx)(L.K0,{svg:I.mf,"data-id":e.id,title:"Remove",onClick:this.props.remove,disabled:this.props.isBusy,small:!0})]},e.id))})}}var md=F(152),Yc=F(6323);class cu extends Z.dL{constructor(){super(...arguments),this.state={showActions:!0}}componentDidMount(){this.subscribe(this.plugin.state.events.cell.created,e=>{e.cell.transform.parent===tt.Cn.RootRef&&this.forceUpdate()}),this.subscribe(this.plugin.state.events.cell.removed,e=>{e.parent===tt.Cn.RootRef&&this.forceUpdate()})}static getDerivedStateFromProps(e,i){const u=0===e.state.tree.children.get(e.state.tree.root.ref).size;return i.showActions===u?null:{showActions:u}}render(){const e=this.props.state.tree.root.ref;return this.state.showActions?(0,p.jsxs)("div",{style:{margin:"10px",cursor:"default"},children:[(0,p.jsx)("p",{children:"Nothing to see here yet."}),(0,p.jsxs)("p",{children:["Structures and Volumes can be loaded from the ",(0,p.jsx)(I.In,{svg:I.yf})," tab."]})]}):(0,p.jsx)(On,{cell:this.props.state.cells.get(e),depth:0})}}class On extends Z.dL{constructor(){super(...arguments),this.state={isCollapsed:!!this.props.cell.state.isCollapsed,isNull:On.isNull(this.props.cell),showLabel:On.showLabel(this.props.cell)}}is(e){return e.ref===this.ref&&e.state===this.props.cell.parent}get ref(){return this.props.cell.transform.ref}componentDidMount(){this.subscribe(this.plugin.state.events.cell.stateUpdated,e=>{this.props.cell===e.cell&&this.is(e)&&e.state.cells.has(this.ref)&&(this.state.isCollapsed!==!!e.cell.state.isCollapsed||this.state.isNull!==On.isNull(e.cell)||this.state.showLabel!==On.showLabel(e.cell))&&this.forceUpdate()}),this.subscribe(this.plugin.state.events.cell.created,e=>{this.props.cell.parent===e.state&&this.ref===e.cell.transform.parent&&this.forceUpdate()}),this.subscribe(this.plugin.state.events.cell.removed,e=>{this.props.cell.parent===e.state&&this.ref===e.parent&&this.forceUpdate()})}static getDerivedStateFromProps(e,i){const s=On.isNull(e.cell),l=On.showLabel(e.cell);return!!e.cell.state.isCollapsed===i.isCollapsed&&i.isNull===s&&i.showLabel===l?null:{isCollapsed:!!e.cell.state.isCollapsed,isNull:s,showLabel:l}}static hasDecorator(e){var i;const s=e.parent.tree.children.get(e.transform.ref);return 1===s.size&&!(null===(i=e.parent)||void 0===i||!i.tree.transforms.get(s.first()).transformer.definition.isDecorator)}static isNull(e){return!e||!e.parent||e.obj===tt.BM.Null||!e.parent.tree.transforms.has(e.transform.ref)}static showLabel(e){return e.transform.ref!==tt.Cn.RootRef&&("ok"!==e.status||!e.state.isGhost&&!On.hasDecorator(e))}render(){if(this.state.isNull)return null;const e=this.props.cell,i=e.parent.tree.children.get(this.ref);if(!this.state.showLabel)return 0===i.size?null:(0,p.jsx)(p.Fragment,{children:i.map(l=>(0,p.jsx)(On,{cell:e.parent.cells.get(l),depth:this.props.depth},l))});const s=this.props.depth+1;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Cn,{cell:e,depth:this.props.depth}),0===i.size?void 0:(0,p.jsx)("div",{style:{display:this.state.isCollapsed?"none":"block"},children:i.map(l=>(0,p.jsx)(On,{cell:e.parent.cells.get(l),depth:s},l))})]})}}class Cn extends Z.dL{constructor(){super(...arguments),this.state={isCurrent:this.props.cell.parent.current===this.ref,isCollapsed:!!this.props.cell.state.isCollapsed,action:void 0,currentAction:void 0},this.setCurrent=e=>{e?.preventDefault(),e?.currentTarget.blur(),ue.a.State.SetCurrentObject(this.plugin,{state:this.props.cell.parent,ref:this.ref})},this.setCurrentRoot=e=>{e?.preventDefault(),e?.currentTarget.blur(),ue.a.State.SetCurrentObject(this.plugin,{state:this.props.cell.parent,ref:tt.Cn.RootRef})},this.remove=e=>{e?.preventDefault(),ue.a.State.RemoveObject(this.plugin,{state:this.props.cell.parent,ref:this.ref,removeParentGhosts:!0})},this.toggleVisible=e=>{e.preventDefault(),ue.a.State.ToggleVisibility(this.plugin,{state:this.props.cell.parent,ref:this.ref}),e.currentTarget.blur()},this.toggleExpanded=e=>{e.preventDefault(),ue.a.State.ToggleExpanded(this.plugin,{state:this.props.cell.parent,ref:this.ref}),e.currentTarget.blur()},this.highlight=e=>{e.preventDefault(),ue.a.Interactivity.Object.Highlight(this.plugin,{state:this.props.cell.parent,ref:this.ref}),e.currentTarget.blur()},this.clearHighlight=e=>{e.preventDefault(),ue.a.Interactivity.ClearHighlights(this.plugin),e.currentTarget.blur()},this.hideApply=()=>{this.setCurrentRoot()},this.selectAction=e=>{e&&(0,e?.value)()}}is(e){return e.ref===this.ref&&e.state===this.props.cell.parent}get ref(){return this.props.cell.transform.ref}componentDidMount(){this.subscribe(this.plugin.state.events.cell.stateUpdated.pipe((0,mt.p)(e=>this.is(e)),(0,md.B)(33)),e=>{this.forceUpdate()}),this.subscribe(this.props.cell.parent.behaviors.currentObject,e=>{this.is(e)?e.state.transforms.has(this.ref)&&this._setCurrent(this.props.cell.parent.current===this.ref,!!this.props.cell.state.isCollapsed):this.state.isCurrent&&e.state.transforms.has(this.ref)&&this._setCurrent(this.props.cell.parent.current===this.ref,this.state.isCollapsed)})}_setCurrent(e,i){this.setState(e?{isCurrent:e,action:"options",currentAction:void 0,isCollapsed:i}:{isCurrent:e,action:void 0,currentAction:void 0,isCollapsed:i})}static getDerivedStateFromProps(e,i){const s=e.cell.parent.current===e.cell.transform.ref,l=!!e.cell.state.isCollapsed;return i.isCollapsed===l&&i.isCurrent===s?null:{isCurrent:s,isCollapsed:l,action:void 0,currentAction:void 0}}get actions(){const e=this.props.cell,i=[...e.parent.actions.fromCell(e,this.plugin)];if(0!==i.length)return i.sort((s,l)=>s.definition.display.name<l.definition.display.name?-1:s.definition.display.name===l.definition.display.name?0:1),[Ee.W.Header("Apply Action"),...i.map(s=>Ee.W.Item(s.definition.display.name,()=>this.setState({action:"apply",currentAction:s})))]}updates(e){const i=this.props.cell,s=Yc.P.getDecoratorChain(i.parent,i.transform.ref),l=[];for(let u=s.length-1;u>=0;u--){const c=s[u];l.push((0,p.jsx)(pi,{state:i.parent,transform:c.transform,noMargin:!0,wrapInExpander:!0,expanderHeaderLeftMargin:e},`${c.transform.transformer.id}-${u}`))}return(0,p.jsx)("div",{className:"msp-tree-updates-wrapper",children:l})}render(){const e=this.props.cell,i=e.transform;if(!e)return null;const s=this.is(e.parent.behaviors.currentObject.value),l="error"!==e.status&&"ok"!==e.status;let u;if("error"!==e.status&&e.obj){const b=e.obj;u=(0,p.jsxs)(L.$n,{className:`msp-btn-tree-label msp-type-class-${b.type.typeClass}`,noOverflow:!0,disabled:l,title:`${b.label} ${b.description?b.description:""}`,onClick:this.state.isCurrent?this.setCurrentRoot:this.setCurrent,children:[(0,p.jsx)("span",{children:b.label})," ",b.description?(0,p.jsx)("small",{children:b.description}):void 0]})}else{const b="error"===e.status?e.errorText:i.transformer.definition.display.name;u=(0,p.jsxs)(L.$n,{className:"msp-btn-tree-label msp-no-hover-outline",noOverflow:!0,title:b,onClick:this.state.isCurrent?this.setCurrentRoot:this.setCurrent,disabled:l,children:["error"===e.status&&(0,p.jsxs)("b",{children:["[",e.status,"]"]})," ",(0,p.jsx)("span",{children:b})]})}const c=e.parent.tree.children.get(this.ref),h=e.state,f=(0,p.jsx)(L.K0,{svg:h.isCollapsed?I.Cp:I.DM,flex:"20px",disabled:l,onClick:this.toggleExpanded,transparent:!0,className:"msp-no-hover-outline",style:{visibility:c.size>0?"visible":"hidden"}}),y=e.state.isLocked?void 0:(0,p.jsx)(L.K0,{svg:I.mf,onClick:this.remove,disabled:l,small:!0,toggleState:!1}),g=(0,p.jsx)(L.K0,{svg:h.isHidden?I.qF:I.zs,toggleState:!1,disabled:l,small:!0,onClick:this.toggleVisible}),w=(0,p.jsxs)("div",{className:"msp-flex-row msp-tree-row"+(s?" msp-tree-row-current":""),onMouseEnter:this.highlight,onMouseLeave:this.clearHighlight,style:{marginLeft:8*this.props.depth+"px"},children:[f,u,y,g]});if(!s)return w;if("apply"===this.state.action&&this.state.currentAction)return(0,p.jsxs)("div",{style:{marginBottom:"1px"},children:[w,(0,p.jsx)(L.tW,{header:`Apply ${this.state.currentAction.definition.display.name}`,initialExpanded:!0,hideExpander:!0,hideOffset:!1,onHeaderClick:this.hideApply,topRightIcon:I.X6,headerLeftMargin:8*this.props.depth+21+"px",children:(0,p.jsx)(Go,{onApply:this.hideApply,state:this.props.cell.parent,action:this.state.currentAction,nodeRef:this.props.cell.transform.ref,hideHeader:!0,noMargin:!0})})]});if("options"===this.state.action){const b=this.actions,C=this.updates(8*this.props.depth+21+"px");return(0,p.jsxs)("div",{style:{marginBottom:"1px"},children:[w,C,b&&(0,p.jsx)("div",{style:{marginLeft:8*this.props.depth+21+"px",marginTop:"-1px"},children:(0,p.jsx)(Ee.W,{items:b,onSelect:this.selectAction})})]})}return w}}class pu extends Z.dL{componentDidMount(){this.subscribe(this.plugin.state.behaviors.events.changed,()=>this.forceUpdate())}render(){const e=[];return this.plugin.customImportControls.forEach((i,s)=>{e.push((0,p.jsx)(i,{initiallyCollapsed:this.props.initiallyCollapsed},s))}),e.length>0?(0,p.jsx)(p.Fragment,{children:e}):null}}class fd extends Z.dL{constructor(){var e;super(...arguments),this.state={tab:this.plugin.behaviors.layout.leftPanelTabName.value},this.set=i=>{if(this.state.tab===i)return this.setState({tab:"none"},()=>this.plugin.behaviors.layout.leftPanelTabName.next("none")),void ue.a.Layout.Update(this.plugin,{state:{regionState:{...this.plugin.layout.state.regionState,left:"collapsed"}}});this.setState({tab:i},()=>this.plugin.behaviors.layout.leftPanelTabName.next(i)),"full"!==this.plugin.layout.state.regionState.left&&ue.a.Layout.Update(this.plugin,{state:{regionState:{...this.plugin.layout.state.regionState,left:"full"}}})},this.tabs={none:(0,p.jsx)(p.Fragment,{}),root:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.X3,{icon:I.yf,title:"Home"}),(0,p.jsx)($c,{state:this.plugin.state.data,nodeRef:tt.Cn.RootRef,hideHeader:!0,initiallyCollapsed:!0,alwaysExpandFirst:!0}),(0,p.jsx)(pu,{}),"none"!==(null===(e=this.plugin.spec.components)||void 0===e?void 0:e.remoteState)&&(0,p.jsx)(uu,{listOnly:!0})]}),data:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.X3,{icon:I.ID,title:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(rr,{})," State Tree"]})}),(0,p.jsx)(cu,{state:this.plugin.state.data})]}),states:(0,p.jsx)(pd,{}),settings:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.X3,{icon:I.Hk,title:"Plugin Settings"}),(0,p.jsx)(rl,{})]}),help:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.X3,{icon:I.ml,title:"Help"}),(0,p.jsx)(Wa,{})]})}}componentDidMount(){this.subscribe(this.plugin.behaviors.layout.leftPanelTabName,e=>{this.state.tab!==e&&this.setState({tab:e}),"none"===e&&"collapsed"!==this.plugin.layout.state.regionState.left&&ue.a.Layout.Update(this.plugin,{state:{regionState:{...this.plugin.layout.state.regionState,left:"collapsed"}}})}),this.subscribe(this.plugin.state.data.events.changed,({state:e})=>{"data"===this.state.tab&&1===e.cells.size&&this.set("root")})}render(){const e=this.state.tab;return(0,p.jsxs)("div",{className:"msp-left-panel-controls",children:[(0,p.jsxs)("div",{className:"msp-left-panel-controls-buttons",children:[(0,p.jsx)(L.K0,{svg:I.yf,toggleState:"root"===e,transparent:!0,onClick:()=>this.set("root"),title:"Home"}),(0,p.jsx)(zi,{set:this.set}),(0,p.jsx)(L.K0,{svg:I.e,toggleState:"states"===e,transparent:!0,onClick:()=>this.set("states"),title:"Plugin State"}),(0,p.jsx)(L.K0,{svg:I.ml,toggleState:"help"===e,transparent:!0,onClick:()=>this.set("help"),title:"Help"}),(0,p.jsx)("div",{className:"msp-left-panel-controls-buttons-bottom",children:(0,p.jsx)(L.K0,{svg:I.Hk,toggleState:"settings"===e,transparent:!0,onClick:()=>this.set("settings"),title:"Settings"})})]}),(0,p.jsx)("div",{className:"msp-scrollable-container",children:this.tabs[e]})]})}}class zi extends Z.dL{constructor(){super(...arguments),this.state={changed:!1}}get tab(){return this.plugin.behaviors.layout.leftPanelTabName.value}componentDidMount(){this.subscribe(this.plugin.behaviors.layout.leftPanelTabName,e=>{"data"===this.tab?this.setState({changed:!1}):this.forceUpdate()}),this.subscribe(this.plugin.state.data.events.changed,e=>{"data"!==this.tab&&this.setState({changed:!0})})}render(){return(0,p.jsx)(L.K0,{svg:I.ID,toggleState:"data"===this.tab,transparent:!0,onClick:()=>this.props.set("data"),title:"State Tree",style:{position:"relative"},extraContent:this.state.changed?(0,p.jsx)("div",{className:"msp-left-panel-controls-button-data-dirty"}):void 0})}}class rl extends Z.dL{constructor(){super(...arguments),this.setSettings=e=>{ue.a.Canvas3D.SetSettings(this.plugin,{settings:{[e.name]:e.value}})},this.setCanvas3DContextProps=e=>{var i;null===(i=this.plugin.canvas3dContext)||void 0===i||i.setProps({[e.name]:e.value}),this.plugin.events.canvas3d.settingsUpdated.next(void 0)}}componentDidMount(){this.subscribe(this.plugin.events.canvas3d.settingsUpdated,()=>this.forceUpdate()),this.subscribe(this.plugin.layout.events.updated,()=>this.forceUpdate()),this.plugin.canvas3d&&this.subscribe(this.plugin.canvas3d.camera.stateChanged.pipe((0,Wr.c)(500,void 0,{leading:!0,trailing:!0})),e=>{(void 0!==e.radiusMax||void 0!==e.radius)&&this.forceUpdate()})}render(){return(0,p.jsxs)(p.Fragment,{children:[this.plugin.canvas3d&&this.plugin.canvas3dContext&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.X3,{title:"Viewport"}),(0,p.jsx)($e.y1,{params:ut._i,values:this.plugin.canvas3d.props,onChange:this.setSettings}),(0,p.jsx)($e.y1,{params:ut.H7.Params,values:this.plugin.canvas3dContext.props,onChange:this.setCanvas3DContextProps})]}),(0,p.jsx)(L.X3,{title:"Behavior"}),(0,p.jsx)(cu,{state:this.plugin.state.behaviors})]})}}class rr extends Z.dL{constructor(){super(...arguments),this.remove=e=>{e.preventDefault(),ue.a.State.RemoveObject(this.plugin,{state:this.plugin.state.data,ref:tt.Cn.RootRef})}}componentDidMount(){this.subscribe(this.plugin.state.events.cell.created,e=>{e.cell.transform.parent===tt.Cn.RootRef&&this.forceUpdate()}),this.subscribe(this.plugin.state.events.cell.removed,e=>{e.parent===tt.Cn.RootRef&&this.forceUpdate()})}render(){return 0===this.plugin.state.data.tree.children.get(tt.Cn.RootRef).size?null:(0,p.jsx)(L.K0,{svg:I.mf,onClick:this.remove,title:"Remove All",style:{display:"inline-block"},small:!0,className:"msp-no-hover-outline",transparent:!0})}}var sl=F(1413),ol=F(2443),Vt=F(4080);class du extends Z.dL{constructor(){super(...arguments),this.parentDiv=he.createRef(),this.lastMouseOverSeqIdx=-1,this.highlightQueue=new sl.B,this.lociHighlightProvider=(e,i)=>{this.props.sequenceWrapper.markResidue(e.loci,i)&&this.updateMarker()},this.lociSelectionProvider=(e,i)=>{this.props.sequenceWrapper.markResidue(e.loci,i)&&this.updateMarker()},this.contextMenu=e=>{e.preventDefault()},this.mouseDownLoci=void 0,this.mouseDown=e=>{e.stopPropagation();const i=this.getSeqIdx(e),s=this.getLoci(i),l=(0,Vt.Y7)(e.nativeEvent),u=(0,Vt.vq)(e.nativeEvent),c=(0,Vt.RN)(e.nativeEvent);this.click(s,l,u,c),this.mouseDownLoci=s},this.mouseUp=e=>{if(e.stopPropagation(),void 0===this.mouseDownLoci)return;const i=this.getSeqIdx(e),s=this.getLoci(i);if(s&&!z.iZ.Loci.areEqual(this.mouseDownLoci,s)){const l=(0,Vt.Y7)(e.nativeEvent),u=(0,Vt.vq)(e.nativeEvent),c=(0,Vt.RN)(e.nativeEvent),h=this.mouseDownLoci.elements[0],f=s.elements[0],y=Math.min(Ce.CD.min(h.indices),Ce.CD.min(f.indices)),g=Math.max(Ce.CD.max(h.indices),Ce.CD.max(f.indices)),x=z.iZ.Loci(s.structure,[{unit:h.unit,indices:Ce.CD.ofRange(y,g)}]);this.click(z.iZ.Loci.subtract(x,this.mouseDownLoci),l,u,c)}this.mouseDownLoci=void 0},this.location=z.iZ.Location.create(void 0),this.mouseMove=e=>{e.stopPropagation();const i=(0,Vt.Y7)(e.nativeEvent),s=(0,Vt.vq)(e.nativeEvent),l=(0,Vt.RN)(e.nativeEvent),u=e.target;if(!u||!u.getAttribute){if(-1===this.lastMouseOverSeqIdx)return;return this.lastMouseOverSeqIdx=-1,void this.highlightQueue.next({seqIdx:-1,buttons:i,button:s,modifiers:l})}const c=u.hasAttribute("data-seqid")?+u.getAttribute("data-seqid"):-1;if(this.lastMouseOverSeqIdx!==c)if(this.lastMouseOverSeqIdx=c,void 0!==this.mouseDownLoci){const h=this.getLoci(c);this.hover(h,Vt.qt.Flag.None,Vt.qt.Flag.None,{...l,shift:!0})}else this.highlightQueue.next({seqIdx:c,buttons:i,button:s,modifiers:l})},this.mouseLeave=e=>{if(e.stopPropagation(),this.mouseDownLoci=void 0,-1===this.lastMouseOverSeqIdx)return;this.lastMouseOverSeqIdx=-1;const i=(0,Vt.Y7)(e.nativeEvent),s=(0,Vt.vq)(e.nativeEvent),l=(0,Vt.RN)(e.nativeEvent);this.highlightQueue.next({seqIdx:-1,buttons:i,button:s,modifiers:l})}}get sequenceNumberPeriod(){return void 0!==this.props.sequenceNumberPeriod?this.props.sequenceNumberPeriod:this.props.sequenceWrapper.length>10?10:this.getSequenceNumber(this.props.sequenceWrapper.length-1).length>1?5:1}componentDidMount(){this.plugin.managers.interactivity.lociHighlights.addProvider(this.lociHighlightProvider),this.plugin.managers.interactivity.lociSelects.addProvider(this.lociSelectionProvider),this.subscribe(this.highlightQueue.pipe((0,Wr.c)(3*16.666,void 0,{leading:!0,trailing:!0})),e=>{const i=this.getLoci(e.seqIdx<0?void 0:e.seqIdx);this.hover(i,e.buttons,e.button,e.modifiers)})}componentWillUnmount(){super.componentWillUnmount(),this.plugin.managers.interactivity.lociHighlights.removeProvider(this.lociHighlightProvider),this.plugin.managers.interactivity.lociSelects.removeProvider(this.lociSelectionProvider)}getLoci(e){if(void 0!==e){const i=this.props.sequenceWrapper.getLoci(e);if(!z.iZ.Loci.isEmpty(i))return i}}getSeqIdx(e){let i;const s=e.target;return s&&s.getAttribute&&(i=s.hasAttribute("data-seqid")?+s.getAttribute("data-seqid"):void 0),i}hover(e,i,s,l){const u={current:ol.YL.Loci.Empty,buttons:i,button:s,modifiers:l};void 0!==e&&!z.iZ.Loci.isEmpty(e)&&(u.current={loci:e}),this.plugin.behaviors.interaction.hover.next(u)}click(e,i,s,l){const u={current:ol.YL.Loci.Empty,buttons:i,button:s,modifiers:l};void 0!==e&&!z.iZ.Loci.isEmpty(e)&&(u.current={loci:e}),this.plugin.behaviors.interaction.click.next(u)}getBackgroundColor(e){return typeof e>"u"&&console.error("unexpected marker value"),0===e?"":e%2==0?"rgb(51, 255, 25)":"rgb(255, 102, 153)"}getResidueClass(e,i){return i.length>1?this.props.sequenceWrapper.residueClass(e)+(0===e?" msp-sequence-residue-long-begin":" msp-sequence-residue-long"):this.props.sequenceWrapper.residueClass(e)}residue(e,i,s){return(0,p.jsx)("span",{"data-seqid":e,style:{backgroundColor:this.getBackgroundColor(s)},className:this.getResidueClass(e,i),children:`\u200b${i}\u200b`},e)}getSequenceNumberClass(e,i,s){const l=["msp-sequence-number"];return i.startsWith("-")?l.push(s.length>1&&e>0?"msp-sequence-number-long-negative":"msp-sequence-number-negative"):s.length>1&&e>0&&l.push("msp-sequence-number-long"),l.join(" ")}getSequenceNumber(e){let i="";const s=this.props.sequenceWrapper.getLoci(e),l=z.iZ.Loci.getFirstLocation(s,this.location);return l&&(z.Nf.isAtomic(l.unit)?i=`${z.StructureProperties.residue.auth_seq_id(l)}${z.StructureProperties.residue.pdbx_PDB_ins_code(l)||""}`:z.Nf.isCoarse(l.unit)&&(i=`${e+1}`)),i}padSeqNum(e){return e.length<5?e+new Array(5-e.length+1).join("\xa0"):e}getSequenceNumberSpan(e,i){const s=this.getSequenceNumber(e);return(0,p.jsx)("span",{className:this.getSequenceNumberClass(e,s,i),children:this.padSeqNum(s)},`marker-${e}`)}updateMarker(){if(!this.parentDiv.current)return;const e=this.parentDiv.current.children,{markerArray:i}=this.props.sequenceWrapper,s=!this.props.hideSequenceNumbers,l=this.sequenceNumberPeriod;let u=0;for(let c=0,h=i.length;c<h;c++){s&&c%l==0&&c<h&&u++;const f=e[u];if(!f)return;u++;const y=this.getBackgroundColor(i[c]);f.style.backgroundColor!==y&&(f.style.backgroundColor=y)}}render(){const e=this.props.sequenceWrapper,i=[],s=!this.props.hideSequenceNumbers,l=this.sequenceNumberPeriod;for(let u=0,c=e.length;u<c;++u){const h=e.residueLabel(u);s&&u%l==0&&u<c&&(i[i.length]=this.getSequenceNumberSpan(u,h)),i[i.length]=this.residue(u,h,e.markerArray[u])}return this.updateMarker(),(0,p.jsx)("div",{className:"msp-sequence-wrapper",onContextMenu:this.contextMenu,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp,onMouseMove:this.mouseMove,onMouseLeave:this.mouseLeave,ref:this.parentDiv,children:i})}}var Rn=F(6825);class Vs{markResidue(e,i){return(0,qo.xc)(e)?(0,Rn.BH)(this.markerArray,Ce.IX.ofLength(this.length),i):this.mark(e,i)}constructor(e,i,s){this.data=e,this.markerArray=i,this.length=s}}var Qr=F(2745);class ll extends Vs{seqId(e){return this.sequence.seqId.value(e)}residueLabel(e){return this.sequence.label.value(e)||this.sequence.code.value(e)}residueColor(e){return this.missing.has(this.modelNum,this.asymId,this.seqId(e))?Qr.s.grey:Qr.s.black}residueClass(e){return this.missing.has(this.modelNum,this.asymId,this.seqId(e))?"msp-sequence-missing":"msp-sequence-present"}mark(e,i){let s=!1;const{structure:l}=this.data,u=c=>this.sequence.index(c);if(z.iZ.Loci.is(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;e=z.iZ.Loci.remap(e,l);for(const c of e.elements)this.unitMap.has(c.unit.id)&&(s=z.Nf.isAtomic(c.unit)?Xc(c,i,this.markerArray,u)||s:hu(c,i,this.markerArray,u)||s)}else if(z.oE.isLoci(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;(0,Rn.BH)(this.markerArray,this.observed,i)&&(s=!0)}return s}getLoci(e){const i=function al(r,e,i){return z.RT.generators.atoms({unitTest:s=>z.StructureProperties.unit.chainGroupId(s.element)===r&&z.StructureProperties.unit.operator_name(s.element)===e,residueTest:s=>0===s.element.unit.kind?z.StructureProperties.residue.label_seq_id(s.element)===i:z.StructureProperties.coarse.seq_id_begin(s.element)<=i&&z.StructureProperties.coarse.seq_id_end(s.element)>=i})}(this.data.units[0].chainGroupId,this.data.units[0].conformation.operator.name,this.seqId(e));return z.cv.toLociWithSourceUnits(z.Oz.run(i,this.data.structure))}constructor(e){const i=z.iZ.Location.create(e.structure,e.units[0],e.units[0].elements[0]),s=e.units[0].model.sequence.byEntityKey[z.StructureProperties.entity.key(i)],l=s.sequence.length;super(e,new Uint8Array(l),l),this.unitMap=new Map;for(const h of e.units)this.unitMap.set(h.id,h);this.sequence=s.sequence,this.missing=e.units[0].model.properties.missingResidues,this.modelNum=e.units[0].model.modelNum,this.asymId=z.Nf.isAtomic(e.units[0])?z.StructureProperties.chain.label_asym_id(i):z.StructureProperties.coarse.asym_id(i);const c=[];for(let h=0;h<l;++h)this.missing.has(this.modelNum,this.asymId,this.seqId(h))&&c.push(h);this.observed=Ce.CD.subtract(Ce.IX.ofBounds(0,l),Ce.SortedArray.ofSortedArray(c))}}function Xc(r,e,i,s){const{model:l,elements:u}=r.unit,{index:c}=l.atomicHierarchy.residueAtomSegments,{label_seq_id:h}=l.atomicHierarchy.residues;return Ce.CD.forEachSegment(r.indices,f=>c[u[f]],f=>{const y=h.value(f);(0,Rn.ly)(i,s(y),e)}),!0}function hu(r,e,i,s){const{model:l,elements:u}=r.unit,c=z.Nf.isSpheres(r.unit)?l.coarseHierarchy.spheres.seq_id_begin:l.coarseHierarchy.gaussians.seq_id_begin,h=z.Nf.isSpheres(r.unit)?l.coarseHierarchy.spheres.seq_id_end:l.coarseHierarchy.gaussians.seq_id_end;return Ce.CD.forEach(r.indices,f=>{const y=u[f];for(let g=s(c.value(y)),x=s(h.value(y));g<=x;g++)(0,Rn.ly)(i,g,e)}),!0}class gd extends Vs{residueLabel(e){return this.sequence[e]}residueColor(e){return Qr.s.black}residueClass(e){return"msp-sequence-present"}mark(e,i){let s=!1;const{structure:l}=this.data;if(z.iZ.Loci.is(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;e=z.iZ.Loci.remap(e,l);for(const u of e.elements){const c=this.unitMap.get(u.unit.id);if(c){const{index:h}=u.unit.model.atomicHierarchy.residueAtomSegments;Ce.CD.forEach(u.indices,f=>{const y=this.sequenceIndices.get(h[c.elements[f]]);void 0!==y&&(0,Rn.BH)(this.markerArray,Ce.IX.ofSingleton(y),i)&&(s=!0)})}}}else if(z.oE.isLoci(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;(0,Rn.BH)(this.markerArray,Ce.IX.ofBounds(0,this.length),i)&&(s=!0)}return s}getLoci(e){const i=[],s=this.residueIndices.get(e);if(void 0!==s){const l=this.seqToUnit.get(e),{offsets:u}=l.model.atomicHierarchy.residueAtomSegments,c=Ce.SortedArray.findPredecessorIndex(l.elements,u[s]),h=Ce.SortedArray.findPredecessorIndex(l.elements,u[s+1]);i.push({unit:l,indices:Ce.IX.ofBounds(c,h)})}return z.iZ.Loci(this.data.structure,i)}constructor(e){const i=[],s=new Map,l=new Map,u=new Map;for(let f=0,y=e.units.length;f<y;++f){const g=e.units[f],{residueAtomSegments:x,atoms:w}=g.model.atomicHierarchy,b=Ce.hT.transientSegments(x,g.elements);for(;b.hasNext;){const{index:C}=b.move();s.set(C,i.length),l.set(i.length,C),u.set(i.length,g),i.push(w.label_comp_id.value(x.offsets[C]))}}const c=i.length;super(e,new Uint8Array(c),c),this.unitMap=new Map;for(const f of e.units)this.unitMap.set(f.id,f);this.sequence=i,this.sequenceIndices=s,this.residueIndices=l,this.seqToUnit=u}}class ul extends Vs{residueLabel(e){return this.label}residueColor(e){return Qr.s.black}residueClass(e){return"msp-sequence-present"}mark(e,i){let s=!1;const{structure:l}=this.data;if(z.iZ.Loci.is(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;e=z.iZ.Loci.remap(e,l);for(const u of e.elements){const c=this.unitIndices.get(u.unit.id);c&&Ce.CD.isSubset(c,u.indices)&&(0,Rn.BH)(this.markerArray,Ce.IX.ofSingleton(0),i)&&(s=!0)}}else if(z.oE.isLoci(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;(0,Rn.BH)(this.markerArray,Ce.IX.ofSingleton(0),i)&&(s=!0)}return s}getLoci(e){return this.loci}constructor(e){let i=0,s=0;const l=[],u=z.iZ.Location.create(e.structure),c=new Map,h=[];for(let g=0,x=e.units.length;g<x;++g){const w=e.units[g];z.iZ.Location.set(u,e.structure,w,w.elements[0]);const b=w.model.sequence.byEntityKey[z.StructureProperties.entity.key(u)];b&&(i+=b.sequence.length),s+=w.elements.length;const C=Ce.IX.ofBounds(0,w.elements.length);c.set(w.id,C),h.push({unit:w,indices:C})}i>0&&l.push(`${i} residues`),l.push(`${s} elements`),super(e,new Uint8Array(1),1),this.label=`Whole Chain (${l.join(", ")})`,this.unitIndices=c,this.loci=z.iZ.Loci(this.data.structure,h)}}class mu extends Vs{residueLabel(e){return"X"}residueColor(e){return Qr.s.black}residueClass(e){return"msp-sequence-present"}mark(e,i){let s=!1;const{structure:l,units:u}=this.data;if(z.iZ.Loci.is(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;e=z.iZ.Loci.remap(e,l);for(const c of e.elements){const h=this.unitIndices.get(c.unit.id);h&&Ce.CD.isSubset(h,c.indices)&&(0,Rn.BH)(this.markerArray,c.indices,i)&&(s=!0)}}else if(z.oE.isLoci(e)){if(!z.oE.areRootsEquivalent(e.structure,l))return!1;for(let c=0,h=u.length;c<h;++c){const f=this.unitIndices.get(u[c].id);(0,Rn.BH)(this.markerArray,f,i)&&(s=!0)}}return s}getLoci(e){const{units:i}=this.data,s=[];let l=0;for(let u=0,c=i.length;u<c;++u){const h=i[u];if(e<l+h.elements.length){s.push({unit:h,indices:Ce.IX.ofSingleton(e-l)});break}l+=h.elements.length}return z.iZ.Loci(this.data.structure,s)}constructor(e){let i=0;const s=new Map,l=[];for(let c=0,h=e.units.length;c<h;++c){const f=e.units[c];i+=f.elements.length;const y=Ce.IX.ofBounds(0,f.elements.length);s.set(f.id,y),l.push({unit:f,indices:y})}super(e,new Uint8Array(i),i),this.unitIndices=s}}var cl=F(6115);function ep(r){const e=z.StructureProperties.unit.pdbx_struct_oper_list_ids(r),i=z.StructureProperties.unit.struct_ncs_oper_id(r),s=z.StructureProperties.unit.hkl(r),l=z.StructureProperties.unit.spgrOp(r);return`${e.sort().join(",")}|${i}|${s}|${l}`}function Yr(r){const[e,i]=r.split("|");return[parseInt(e),i]}function tp(r,e){const{structure:i,modelEntityId:s,chainGroupId:l,operatorKey:u}=r,c=z.iZ.Location.create(i),[h,f]=Yr(s),y=[];for(const g of i.units)z.iZ.Location.set(c,i,g,g.elements[0]),i.getModelIndex(g.model)===h&&z.StructureProperties.entity.id(c)===f&&g.chainGroupId===l&&ep(c)===u&&y.push(g);if(y.length>0){const g={structure:i,units:y},x=y[0];let w;if(x.polymerElements.length){const b=z.iZ.Location.create(i,x,x.elements[0]),C=x.model.sequence.byEntityKey[z.StructureProperties.entity.key(b)];if(C&&C.sequence.length<=5e3)w=new ll(g);else{const N=y.reduce((V,D)=>V+D.polymerElements.length,0);w=z.Nf.isAtomic(x)||N>5e3?new ul(g):new mu(g)}}else z.Nf.isAtomic(x)?w=y.reduce((C,N)=>C+N.residueCount,0)>5e3?new ul(g):new gd(g):(console.warn("should not happen, expecting coarse units to be polymeric"),w=new ul(g));return w.markResidue(e.getLoci(i),Rn.xi.Select),w}return"No sequence available"}function Oi(r,e=!1){const i=[],s=z.iZ.Location.create(r),l=new Set;for(const u of r.units){z.iZ.Location.set(s,r,u,u.elements[0]);const c=z.StructureProperties.entity.id(s),h=r.getModelIndex(u.model),f=`${h}|${c}`;if(l.has(f)||e&&"polymer"!==z.StructureProperties.entity.type(s))continue;let y=z.StructureProperties.entity.pdbx_description(s).join(", ");if(r.models.length&&(r.representativeModel?y+=` (Model ${r.models[h].modelNum})`:y.startsWith("Polymer ")&&(y+=` (${r.models[h].entry})`)),i.push([f,`${c}: ${y}`]),l.add(f),i.length>1e3)return[["","Too many entities"]]}return 0===i.length&&i.push(["","No entities"]),i}function _s(r,e){const i=[],s=z.iZ.Location.create(r),l=new Set,[u,c]=Yr(e);for(const h of r.units){if(z.iZ.Location.set(s,r,h,h.elements[0]),r.getModelIndex(h.model)!==u||z.StructureProperties.entity.id(s)!==c)continue;const f=h.chainGroupId;if(l.has(f))continue;const y=(0,Nn.BB)(s,{granularity:"chain",hidePrefix:!0,htmlStyling:!1});if(i.push([f,y]),l.add(f),i.length>1e3)return[[-1,"Too many chains"]]}return 0===i.length&&i.push([-1,"No chains"]),i}function mi(r,e,i){const s=[],l=z.iZ.Location.create(r),u=new Set,[c,h]=Yr(e);for(const f of r.units){if(z.iZ.Location.set(l,r,f,f.elements[0]),r.getModelIndex(f.model)!==c||z.StructureProperties.entity.id(l)!==h||f.chainGroupId!==i)continue;const y=ep(l);if(!u.has(y)&&(s.push([y,f.conformation.operator.name]),u.add(y),s.length>1e3))return[["","Too many operators"]]}return 0===s.length&&s.push(["","No operators"]),s}function t(r){var e;const i=[],s=[],l=r.select(tt.QX.Generators.rootsOfType(we.O.Molecule.Structure));for(const u of l)null!==(e=u.obj)&&void 0!==e&&e.data&&(s.push(u.obj.data),i.push([u.transform.ref,u.obj.data.label]));return 0===i.length&&i.push(["","No structure"]),{options:i,all:s}}const n=Q.t.Select("single",[["single","Chain"],["polymers","Polymers"],["all","Everything"]]);class o extends Z.dL{constructor(){super(...arguments),this.state={structureOptions:{options:[],all:[]},structure:z.oE.Empty,structureRef:"",modelEntityId:"",chainGroupId:-1,operatorKey:"",mode:"single"},this.setParamProps=e=>{const i={...this.state};switch(e.name){case"mode":if(i.mode=e.value,this.state.mode===i.mode)return;if("all"===i.mode||"polymers"===i.mode)break;case"structure":"structure"===e.name&&(i.structureRef=e.value),i.structure=this.getStructure(i.structureRef),i.modelEntityId=Oi(i.structure)[0][0],i.chainGroupId=_s(i.structure,i.modelEntityId)[0][0],i.operatorKey=mi(i.structure,i.modelEntityId,i.chainGroupId)[0][0];break;case"entity":i.modelEntityId=e.value,i.chainGroupId=_s(i.structure,i.modelEntityId)[0][0],i.operatorKey=mi(i.structure,i.modelEntityId,i.chainGroupId)[0][0];break;case"chain":i.chainGroupId=e.value,i.operatorKey=mi(i.structure,i.modelEntityId,i.chainGroupId)[0][0];break;case"operator":i.operatorKey=e.value}this.setState(i)}}componentDidMount(){this.plugin.state.data.select(tt.QX.Generators.rootsOfType(we.O.Molecule.Structure)).length>0&&this.setState(this.getInitialState()),this.subscribe(this.plugin.state.events.object.updated,({ref:e,obj:i})=>{e===this.state.structureRef&&i&&i.type===we.O.Molecule.Structure.type&&i.data!==this.state.structure&&this.sync()}),this.subscribe(this.plugin.state.events.object.created,({obj:e})=>{e&&e.type===we.O.Molecule.Structure.type&&this.sync()}),this.subscribe(this.plugin.state.events.object.removed,({obj:e})=>{e&&e.type===we.O.Molecule.Structure.type&&e.data===this.state.structure&&this.sync()})}sync(){const e=t(this.plugin.state.data);(0,cl.af)(e.all,this.state.structureOptions.all)||this.setState(this.getInitialState())}getStructure(e){const s=this.plugin.state.data.select(e)[0];return e&&s&&s.obj?s.obj.data:z.oE.Empty}getSequenceWrapper(e){return{wrapper:tp(this.state,this.plugin.managers.structure.selection),label:`${Q.t.optionLabel(e.chain,this.state.chainGroupId)} | ${Q.t.optionLabel(e.entity,this.state.modelEntityId)}`}}getSequenceWrappers(e){if("single"===this.state.mode)return[this.getSequenceWrapper(e)];const i=this.getStructure(this.state.structureRef),s=[];for(const[l,u]of Oi(i,"polymers"===this.state.mode))for(const[c,h]of _s(i,l))for(const[f]of mi(i,l,c))if(s.push({wrapper:tp({structure:i,modelEntityId:l,chainGroupId:c,operatorKey:f},this.plugin.managers.structure.selection),label:`${h} | ${u}`}),s.length>30)return[];return s}getInitialState(){var e;const i=t(this.plugin.state.data),s=i.options[0][0],l=this.getStructure(s);let u=Oi(l)[0][0],c=_s(l,u)[0][0],h=mi(l,u,c)[0][0];return this.state.structure&&this.state.structure===l&&(u=this.state.modelEntityId,c=this.state.chainGroupId,h=this.state.operatorKey),{structureOptions:i,structure:l,structureRef:s,modelEntityId:u,chainGroupId:c,operatorKey:h,mode:null!==(e=this.props.defaultMode)&&void 0!==e?e:"single"}}get params(){const{structureOptions:e,structure:i,modelEntityId:s,chainGroupId:l}=this.state,u=Oi(i),c=_s(i,s),h=mi(i,s,l);return{structure:Q.t.Select(e.options[0][0],e.options,{shortLabel:!0}),entity:Q.t.Select(u[0][0],u,{shortLabel:!0}),chain:Q.t.Select(c[0][0],c,{shortLabel:!0,twoColumns:!0,label:"Chain"}),operator:Q.t.Select(h[0][0],h,{shortLabel:!0,twoColumns:!0}),mode:n}}get values(){return{structure:this.state.structureRef,entity:this.state.modelEntityId,chain:this.state.chainGroupId,operator:this.state.operatorKey,mode:this.state.mode}}render(){if(this.getStructure(this.state.structureRef)===z.oE.Empty)return(0,p.jsx)("div",{className:"msp-sequence",children:(0,p.jsxs)("div",{className:"msp-sequence-select",children:[(0,p.jsx)(I.In,{svg:I.ml,style:{cursor:"help",position:"absolute",right:0,top:0},title:"Shows a sequence of one or more chains. Use the controls to alter selection."}),(0,p.jsx)("span",{children:"Sequence"}),(0,p.jsx)("span",{style:{fontWeight:"normal"},children:"No structure available"})]})});const e=this.params,i=this.values,s=this.getSequenceWrappers(e);return(0,p.jsxs)("div",{className:"msp-sequence",children:[(0,p.jsxs)("div",{className:"msp-sequence-select",children:[(0,p.jsx)(I.In,{svg:I.ml,style:{cursor:"help",position:"absolute",right:0,top:0},title:"This shows a single sequence. Use the controls to show a different sequence."}),(0,p.jsx)("span",{children:"Sequence of"}),(0,p.jsx)($e.UT,{title:`[Structure] ${Q.t.optionLabel(e.structure,i.structure)}`,param:e.structure,name:"structure",value:i.structure,onChange:this.setParamProps}),(0,p.jsx)($e.UT,{title:"[Mode]",param:n,name:"mode",value:i.mode,onChange:this.setParamProps}),"single"===i.mode&&(0,p.jsx)($e.UT,{title:`[Entity] ${Q.t.optionLabel(e.entity,i.entity)}`,param:e.entity,name:"entity",value:i.entity,onChange:this.setParamProps}),"single"===i.mode&&(0,p.jsx)($e.UT,{title:`[Chain] ${Q.t.optionLabel(e.chain,i.chain)}`,param:e.chain,name:"chain",value:i.chain,onChange:this.setParamProps}),e.operator.options.length>1&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)($e.UT,{title:`[Instance] ${Q.t.optionLabel(e.operator,i.operator)}`,param:e.operator,name:"operator",value:i.operator,onChange:this.setParamProps})})]}),(0,p.jsx)(a,{children:s.map((l,u)=>{const c="string"==typeof l.wrapper?(0,p.jsx)("div",{className:"msp-sequence-wrapper",children:l.wrapper},u):(0,p.jsx)(du,{sequenceWrapper:l.wrapper},u);return"single"===i.mode?c:(0,p.jsxs)(he.Fragment,{children:[(0,p.jsx)("div",{className:"msp-sequence-chain-label",children:l.label}),c]},u)})})]})}}function a({children:r}){return(0,p.jsx)("div",{className:"msp-sequence-wrapper-non-empty",children:r})}const v=he.useSyncExternalStore?function m(r){return he.useSyncExternalStore(he.useCallback(e=>{const i=r?.pipe(Ra(1)).subscribe(e);return()=>i?.unsubscribe()},[r]),he.useCallback(()=>r?.value,[r]))}:function d(r){const[,e]=he.useState({}),i=he.useRef();return i.current=r?.value,he.useEffect(()=>{if(!r)return;const s=r.subscribe(l=>{i.current!==l&&e({})});return()=>s.unsubscribe()},[r]),r?.value};function S(r){return v(r)}function k(){const r=(0,he.useContext)(Z.aU),[e,i]=(0,he.useState)((0,Kr.uY)());return(0,he.useEffect)(()=>{const s=r.events.task.progress.subscribe(u=>{var c;const h=!(null===(c=r.spec.components)||void 0===c||!c.hideTaskOverlay);"background"===u.level&&(h||!u.useOverlay)&&i(f=>f.set(u.id,u))}),l=r.events.task.finished.subscribe(({id:u})=>{i(c=>c.delete(u))});return()=>{s.unsubscribe(),l.unsubscribe()}},[r]),(0,p.jsxs)("div",{className:"msp-background-tasks",children:[e.valueSeq().map(s=>(0,p.jsx)(_,{event:s},s.id)),(0,p.jsx)(M,{})]})}function M(){var r;const i=S(null===(r=(0,he.useContext)(Z.aU).canvas3d)||void 0===r?void 0:r.commitQueueSize);return i?(0,p.jsx)("div",{className:"msp-task-state",children:(0,p.jsx)("div",{children:(0,p.jsxs)("div",{children:["Commiting renderables... ",i," remaining"]})})}):null}class _ extends Z.dL{constructor(){super(...arguments),this.abort=()=>{this.plugin.managers.task.requestAbort(this.props.event.progress.root.progress.taskId,"User Request")}}render(){const e=this.props.event.progress.root,i=K(this.props.event.progress.root)-1,s=e.progress.isIndeterminate?void 0:(0,p.jsxs)(p.Fragment,{children:["[",e.progress.current,"/",e.progress.max,"]"]}),l=i>0?(0,p.jsxs)(p.Fragment,{children:["[",i," subtask(s)]"]}):void 0;return(0,p.jsx)("div",{className:"msp-task-state",children:(0,p.jsxs)("div",{children:[e.progress.canAbort&&(0,p.jsx)(L.K0,{svg:I.VH,onClick:this.abort,title:"Abort"}),(0,p.jsxs)("div",{children:[e.progress.message," ",s," ",l]})]})})}}function K(r){if(0===r.children.length)return 1;let e=0;for(const i of r.children)e+=K(i);return e}function q(){const r=(0,he.useContext)(Z.aU),[e,i]=(0,he.useState)((0,Kr.uY)());return(0,he.useEffect)(()=>{const s=r.events.task.progress.subscribe(u=>{u.useOverlay&&i(c=>c.set(u.id,u))}),l=r.events.task.finished.subscribe(({id:u})=>{i(c=>c.delete(u))});return()=>{s.unsubscribe(),l.unsubscribe()}},[r]),0===e.size?null:(0,p.jsx)("div",{className:"msp-overlay-tasks",children:e.valueSeq().map(s=>(0,p.jsx)(_,{event:s},s.id))})}class J extends Z.dL{constructor(){super(...arguments),this.hide=()=>{(this.props.entry.hide||function(){}).call(null)}}render(){const e=this.props.entry,i=(0,p.jsx)("div","string"==typeof e.message?{dangerouslySetInnerHTML:{__html:e.message}}:{children:(0,p.jsx)(e.message,{})});return(0,p.jsxs)("div",{className:"msp-toast-entry",children:[(0,p.jsx)("div",{className:"msp-toast-title",onClick:()=>this.hide(),children:e.title}),(0,p.jsx)("div",{className:"msp-toast-message",children:i}),(0,p.jsx)("div",{className:"msp-toast-clear"}),(0,p.jsx)("div",{className:"msp-toast-hide",children:(0,p.jsx)(L.K0,{svg:I.VH,onClick:this.hide,title:"Hide",className:"msp-no-hover-outline"})})]})}}class ie extends Z.dL{componentDidMount(){this.subscribe(this.plugin.managers.toast.events.changed,()=>this.forceUpdate())}render(){const e=this.plugin.managers.toast.state;if(!e.entries.count())return null;const i=[];return e.entries.forEach((s,l)=>i.push(s)),i.sort(function(s,l){return s.serialNumber-l.serialNumber}),(0,p.jsx)("div",{className:"msp-toast-container",children:i.map(s=>(0,p.jsx)(J,{entry:s},s.serialNumber))})}}class re extends Z.dL{constructor(){super(...arguments),this.container=he.createRef(),this.state={noWebGl:!1,showLogo:!0},this.handleLogo=()=>{var e;this.setState({showLogo:!(null!==(e=this.plugin.canvas3d)&&void 0!==e&&e.reprCount.value)})}}componentDidMount(){this.container.current&&this.plugin.mount(this.container.current,{checkeredCanvasBackground:!0})?(this.handleLogo(),this.subscribe(this.plugin.canvas3d.reprCount,this.handleLogo)):this.setState({noWebGl:!0})}componentWillUnmount(){super.componentWillUnmount(),this.plugin.unmount()}renderMissing(){return this.props.noWebGl?(0,p.jsx)(this.props.noWebGl,{}):(0,p.jsx)("div",{className:"msp-no-webgl",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:(0,p.jsx)("b",{children:"WebGL does not seem to be available."})}),(0,p.jsx)("p",{children:"This can be caused by an outdated browser, graphics card driver issue, or bad weather. Sometimes, just restarting the browser helps. Also, make sure hardware acceleration is enabled in your browser."}),(0,p.jsxs)("p",{children:["For a list of supported browsers, refer to ",(0,p.jsx)("a",{href:"http://caniuse.com/#feat=webgl",target:"_blank",children:"http://caniuse.com/#feat=webgl"}),"."]})]})})}render(){if(this.state.noWebGl)return this.renderMissing();const e=this.props.logo;return(0,p.jsx)("div",{className:this.props.parentClassName||"msp-viewport",style:this.props.parentStyle,ref:this.container,children:this.state.showLogo&&e&&(0,p.jsx)(e,{})})}}var ct=F(9359);const A=he.memo(r=>{const{plugin:e,cropFrameColor:i}=r,s=e.helpers.viewportScreenshot,[l,u]=(0,he.useState)(null),c=(0,he.useRef)(null),h=(0,he.useRef)(r);return(0,he.useEffect)(()=>{h.current=r},Object.values(r)),(0,he.useEffect)(()=>{l!==c.current&&u(c.current)}),(0,he.useEffect)(()=>{var f;let y=!1;const g=[];function x(V,D){V&&g.push(V.subscribe(D))}function w(){const V=h.current;!V.suspend&&c.current&&P(s,c.current,V.customBackground,V.borderColor,V.borderWidth),c.current||(y=!0)}const b=setInterval(()=>{y&&(y=!1,w())},125);let C;x(e.events.canvas3d.settingsUpdated,()=>y=!0),x(null===(f=e.canvas3d)||void 0===f?void 0:f.didDraw,()=>y=!0),x(e.state.data.behaviors.isUpdating,V=>{V||(y=!0)}),x(s?.behaviors.values,()=>y=!0),x(s?.behaviors.cropParams,()=>y=!0),typeof ResizeObserver<"u"&&(C=new ResizeObserver(()=>y=!0));const N=c.current;return C?.observe(N),w(),()=>{clearInterval(b),g.forEach(V=>V.unsubscribe()),C?.unobserve(N)}},[s]),(0,he.useLayoutEffect)(()=>{c.current&&P(s,c.current,r.customBackground,r.borderColor,r.borderWidth)},[...Object.values(r)]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,p.jsx)("canvas",{ref:c,onContextMenu:f=>{f.preventDefault(),f.stopPropagation()},style:{display:"block",width:"100%",height:"100%"}}),(0,p.jsx)(G,{plugin:e,canvas:l,color:i})]})})},(r,e)=>(0,ct.bN)(r,e));function P(r,e,i,s,l){if(!r)return;const{canvas:u,width:c,height:h}=r.getPreview(),f=e.getContext("2d");if(!f)return;const y=e.clientWidth,g=e.clientHeight;e.width=y,e.height=g,f.clearRect(0,0,y,g);const x=ce(c,h,y,g);if(i)f.fillStyle=i,f.fillRect(x.x,x.y,x.width,x.height);else if(r.values.transparent)for(let b=0;b<x.width;b+=13)for(let C=0;C<x.height;C+=13)f.fillStyle=(b+C)%2?"#ffffff":"#bfbfbf",f.fillRect(x.x+b,x.y+C,b+13>x.width?x.width-b:13,C+13>x.height?x.height-C:13);if(f.drawImage(u,x.x,x.y,x.width,x.height),s&&l){const w=l;f.rect(x.x,x.y,x.width,x.height),f.rect(x.x+w,x.y+w,x.width-2*w,x.height-2*w),f.fillStyle=s,f.fill("evenodd")}}function G({plugin:r,canvas:e,color:i="rgba(255, 87, 45, 0.75)"}){var s;const l=r.helpers.viewportScreenshot,u=S(l?.behaviors.values),c=S(l?.behaviors.cropParams),h=S(l?.behaviors.relativeCrop),f=(0,he.useRef)({x:0,y:0,width:0,height:0});S("viewport"===u?.resolution.name?null===(s=r.canvas3d)||void 0===s?void 0:s.resized:void 0);const[y,g]=he.useState(""),[x,w]=(0,he.useState)([0,0]),[b,C]=(0,he.useState)([0,0]);if(!l||!e||!h)return null;const{width:N,height:V}=l.getSizeAndViewport(),D=ce(N,V,e.clientWidth,e.clientHeight),O={x:D.x+Math.floor(D.width*h.x),y:D.y+Math.floor(D.height*h.y),width:Math.ceil(D.width*h.width),height:Math.ceil(D.height*h.height)},B=se(O),X=se(D);if("move"===y?(B.l+=b[0]-x[0],B.r+=b[0]-x[0],B.t+=b[1]-x[1],B.b+=b[1]-x[1]):y&&(y.indexOf("left")>=0?B.l+=b[0]-x[0]:y.indexOf("right")>=0&&(B.r+=b[0]-x[0]),y.indexOf("top")>=0?B.t+=b[1]-x[1]:y.indexOf("bottom")>=0&&(B.b+=b[1]-x[1])),B.l>B.r){const ye=B.l;B.l=B.r,B.r=ye}if(B.t>B.b){const ye=B.t;B.t=B.b,B.b=ye}B.l=Math.min(X.r-40,Math.max(X.l,B.l)),B.r=Math.max(X.l+40,Math.min(X.r,B.r)),B.t=Math.min(X.b-40,Math.max(X.t,B.t)),B.b=Math.max(X.t+40,Math.min(X.b,B.b)),O.x=B.l,O.y=B.t,O.width=B.r-B.l+1,O.height=B.b-B.t+1,f.current=O;const H=ye=>{ye.preventDefault(),C([ye.pageX,ye.pageY])},ve=ye=>{ye.preventDefault();const ht=ye.touches[0];C([ht.pageX,ht.pageY])},Fe=ye=>{ye.preventDefault(),g(ye.currentTarget.getAttribute("data-drag"));const ht=ye.touches[0],Fn=[ht.pageX,ht.pageY];w(Fn),C(Fn),window.addEventListener("touchend",mn),window.addEventListener("touchmove",ve)},Ae=ye=>{ye.preventDefault(),g(ye.currentTarget.getAttribute("data-drag"));const ht=[ye.pageX,ye.pageY];w(ht),C(ht),window.addEventListener("mouseup",Ze),window.addEventListener("mousemove",H)},Ze=()=>{window.removeEventListener("mouseup",Ze),window.removeEventListener("mousemove",H),_e()},mn=()=>{window.removeEventListener("touchend",mn),window.removeEventListener("touchmove",ve),_e()};function _e(){const ye=f.current;c?.auto&&l?.behaviors.cropParams.next({...c,auto:!1}),l?.behaviors.relativeCrop.next({x:(ye.x-D.x)/D.width,y:(ye.y-D.y)/D.height,width:ye.width/D.width,height:ye.height/D.height}),g("");const ht=[0,0];w(ht),C(ht)}const oe=ye=>{ye.preventDefault(),ye.stopPropagation()},qe="transparent";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{"data-drag":"move",style:{position:"absolute",left:O.x,top:O.y,width:O.width,height:O.height,border:`3px solid ${i}`,cursor:"move"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"left",style:{position:"absolute",left:O.x-4,top:O.y+4,width:16,height:O.height-4,background:qe,cursor:"w-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"right",style:{position:"absolute",left:B.r-8,top:O.y,width:16,height:O.height-4,background:qe,cursor:"w-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"top",style:{position:"absolute",left:O.x-4,top:O.y-4,width:O.width+8,height:16,background:qe,cursor:"n-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"bottom",style:{position:"absolute",left:O.x-4,top:B.b-8,width:O.width+8,height:16,background:qe,cursor:"n-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"top, left",style:{position:"absolute",left:B.l-4,top:B.t-4,width:16,height:16,background:qe,cursor:"nw-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"bottom, right",style:{position:"absolute",left:B.r-8,top:B.b-8,width:16,height:16,background:qe,cursor:"nw-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"top, right",style:{position:"absolute",left:B.r-8,top:B.t-4,width:16,height:16,background:qe,cursor:"ne-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe}),(0,p.jsx)("div",{"data-drag":"bottom, left",style:{position:"absolute",left:B.l-4,top:B.b-8,width:16,height:16,background:qe,cursor:"ne-resize"},onMouseDown:Ae,onTouchStart:Fe,draggable:!1,onContextMenu:oe})]})}function se(r){return{l:r.x,t:r.y,r:r.x+r.width-1,b:r.y+r.height-1}}function ce(r,e,i,s){const l=r/e;if(l<=i/s){const c=s*l;return{x:Math.round((i-c)/2),y:0,width:Math.round(c),height:s}}{const c=i/l;return{x:0,y:Math.round((s-c)/2),width:i,height:Math.round(c)}}}class pe extends Z.dL{constructor(){var e;super(...arguments),e=this,this.state={showPreview:!0,isDisabled:!1},this.download=()=>{var i;null===(i=this.plugin.helpers.viewportScreenshot)||void 0===i||i.download(),this.props.close()},this.copy=(0,R.A)(function*(){var i;try{yield null===(i=e.plugin.helpers.viewportScreenshot)||void 0===i?void 0:i.copyToClipboard(),ue.a.Toast.Show(e.plugin,{message:"Copied to clipboard.",title:"Screenshot",timeoutMs:1500})}catch{return e.copyImg()}}),this.copyImg=(0,R.A)(function*(){var i;const s=yield null===(i=e.plugin.helpers.viewportScreenshot)||void 0===i?void 0:i.getImageDataUri();e.setState({imageData:s})}),this.open=i=>{!i.target.files||!i.target.files[0]||ue.a.State.Snapshots.OpenFile(this.plugin,{file:i.target.files[0]})}}componentDidMount(){this.subscribe(this.plugin.state.data.behaviors.isUpdating,e=>{this.setState({isDisabled:e})})}componentWillUnmount(){super.componentWillUnmount(),this.setState({imageData:void 0})}render(){var e;const i=!(null===(e=navigator.clipboard)||void 0===e||!e.write);return(0,p.jsxs)("div",{children:[this.state.showPreview&&(0,p.jsxs)("div",{className:"msp-image-preview",children:[(0,p.jsx)(A,{plugin:this.plugin}),(0,p.jsx)(Pt,{plugin:this.plugin})]}),(0,p.jsxs)("div",{className:"msp-flex-row",children:[!this.state.imageData&&(0,p.jsx)(L.$n,{icon:I.y5,onClick:i?this.copy:this.copyImg,disabled:this.state.isDisabled,children:"Copy"}),this.state.imageData&&(0,p.jsx)(L.$n,{onClick:()=>this.setState({imageData:void 0}),disabled:this.state.isDisabled,children:"Clear"}),(0,p.jsx)(L.$n,{icon:I.U3,onClick:this.download,disabled:this.state.isDisabled,children:"Download"})]}),this.state.imageData&&(0,p.jsxs)("div",{className:"msp-row msp-copy-image-wrapper",children:[(0,p.jsx)("div",{children:"Right click below + Copy Image"}),(0,p.jsx)("img",{src:this.state.imageData,style:{width:"100%",height:32,display:"block"}})]}),(0,p.jsx)(me,{plugin:this.plugin,isDisabled:this.state.isDisabled}),(0,p.jsxs)(L.Yj,{header:"State",children:[(0,p.jsx)(lu,{onAction:this.props.close}),(0,p.jsx)(L.Yj,{header:"Save Options",initiallyExpanded:!1,noOffset:!0,children:(0,p.jsx)(au,{})})]})]})}}function me({plugin:r,isDisabled:e}){const i=r.helpers.viewportScreenshot,s=S(i?.behaviors.values);return i?(0,p.jsx)($e.y1,{params:i.params,values:s,onChangeValues:l=>i.behaviors.values.next(l),isDisabled:e}):null}function Pt({plugin:r}){const e=r.helpers.viewportScreenshot,i=S(e?.behaviors.cropParams);return S(e?.behaviors.relativeCrop),e&&i?(0,p.jsxs)("div",{style:{width:"100%",height:"24px",marginTop:"8px"},children:[(0,p.jsx)(L.ff,{icon:I.l8,title:"Auto-crop",inline:!0,isSelected:i.auto,style:{background:"transparent",float:"left",width:"auto",height:"24px",lineHeight:"24px"},toggle:()=>e.toggleAutocrop(),label:"Auto-crop "+(i.auto?"On":"Off")}),!i.auto&&(0,p.jsx)(L.$n,{icon:I.FJ,title:"Crop",style:{background:"transparent",float:"right",height:"24px",lineHeight:"24px",width:"24px",padding:"0"},onClick:()=>e.autocrop()}),!i.auto&&!e.isFullFrame&&(0,p.jsx)(L.$n,{icon:I.fL,title:"Reset Crop",style:{background:"transparent",float:"right",height:"24px",lineHeight:"24px",width:"24px",padding:"0"},onClick:()=>e.resetCrop()})]}):null}var Re=F(1025);class yd extends Z.dL{componentDidMount(){this.plugin.canvas3d&&(this.subscribe(this.plugin.events.canvas3d.settingsUpdated,()=>this.forceUpdate()),this.subscribe(this.plugin.canvas3d.camera.stateChanged.pipe((0,Wr.c)(500,void 0,{leading:!0,trailing:!0})),e=>{(void 0!==e.radiusMax||void 0!==e.radius)&&this.forceUpdate()}))}render(){return this.plugin.canvas3d?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($e.dr,{mapping:Md}),(0,p.jsx)(Wo,{})]}):null}}const fu={sequence:"Sequence",log:"Log",left:"Left Panel",right:"Right Panel"},Nd={animate:ut._i.trackball.params.animate,camera:ut._i.camera,background:Q.t.Group({color:Q.t.Color((0,wt.Q1)(16579577),{label:"Background",description:"Custom background color"}),transparent:Q.t.Boolean(!1),style:ut._i.postprocessing.params.background},{pivot:"color"}),lighting:Q.t.Group({occlusion:ut._i.postprocessing.params.occlusion,shadow:ut._i.postprocessing.params.shadow,outline:ut._i.postprocessing.params.outline,dof:ut._i.postprocessing.params.dof,fog:ut._i.cameraFog},{isFlat:!0}),clipping:Q.t.Group({...ut._i.cameraClipping.params},{pivot:"radius"}),layout:Q.t.MultiSelect([],Q.t.objectToOptions(fu)),advanced:Q.t.Group({multiSample:ut._i.multiSample,hiZ:ut._i.hiZ,sharpening:ut._i.postprocessing.params.sharpening,pixelScale:ut.H7.Params.pixelScale,transparency:ut.H7.Params.transparency})},Md=function Ri(r){return({values:e,update:i,apply:s})=>({params:"function"==typeof r.params?r.params:l=>r.params,getTarget:r.target,getValues:e,update(l,u){const c=r.target(u);return(0,Re.jM)(c,h=>i(l,h,u))},apply:s||(()=>{})})}({params:r=>{var e;const i=Q.t.clone(Nd),s=null===(e=r.spec.components)||void 0===e?void 0:e.controls;if(s){const u=[];"none"!==s.top&&u.push(["sequence",fu.sequence]),"none"!==s.bottom&&u.push(["log",fu.log]),"none"!==s.left&&u.push(["left",fu.left]),"none"!==s.right&&u.push(["right",fu.right]),i.layout.options=u}const l=r.config.get(Bt.AB.Background.Styles)||[];return l.length>0&&Object.assign(i.background.params.style,{presets:(0,ct.Go)(l),isFlat:!1}),i},target(r){var e,i,s;const l=null===(e=r.spec.components)||void 0===e?void 0:e.controls,u=r.layout.state.regionState,c=[];"hidden"!==u.top&&(!l||"none"!==l.top)&&c.push("sequence"),"hidden"!==u.bottom&&(!l||"none"!==l.bottom)&&c.push("log"),"hidden"!==u.left&&(!l||"none"!==l.left)&&c.push("left"),"hidden"!==u.right&&(!l||"none"!==l.right)&&c.push("right");const{pixelScale:h,transparency:f}=null===(i=r.canvas3dContext)||void 0===i?void 0:i.props;return{canvas:null===(s=r.canvas3d)||void 0===s?void 0:s.props,layout:c,pixelScale:h,transparency:f}}})({values(r,e){const{canvas:i}=r;return{layout:r.layout,animate:i.trackball.animate,camera:i.camera,background:{color:i.renderer.backgroundColor,transparent:i.transparentBackground,style:i.postprocessing.background},lighting:{occlusion:i.postprocessing.occlusion,shadow:i.postprocessing.shadow,outline:i.postprocessing.outline,dof:i.postprocessing.dof,fog:i.cameraFog},clipping:{...i.cameraClipping},advanced:{multiSample:i.multiSample,hiZ:i.hiZ,sharpening:i.postprocessing.sharpening,pixelScale:r.pixelScale,transparency:r.transparency}}},update(r,e){const i=e.canvas;i.trackball.animate=r.animate,i.camera=r.camera,i.transparentBackground=r.background.transparent,i.renderer.backgroundColor=r.background.color,i.postprocessing.occlusion=r.lighting.occlusion,i.postprocessing.shadow=r.lighting.shadow,i.postprocessing.outline=r.lighting.outline,i.postprocessing.background=r.background.style,i.cameraFog=r.lighting.fog,i.cameraClipping={radius:r.clipping.radius,far:r.clipping.far,minNear:r.clipping.minNear},i.multiSample=r.advanced.multiSample,i.hiZ=r.advanced.hiZ,i.postprocessing.sharpening=r.advanced.sharpening,i.postprocessing.dof=r.lighting.dof,e.layout=r.layout,e.pixelScale=r.advanced.pixelScale,e.transparency=r.advanced.transparency},apply:(r,e)=>(0,R.A)(function*(){var i;yield ue.a.Canvas3D.SetSettings(e,{settings:r.canvas});const s=r.layout.indexOf("left")<0,l=(0,Re.jM)(e.layout.state,u=>{u.regionState.top=r.layout.indexOf("sequence")>=0?"full":"hidden",u.regionState.bottom=r.layout.indexOf("log")>=0?"full":"hidden",u.regionState.left=s?"hidden":"none"===e.behaviors.layout.leftPanelTabName.value?"collapsed":"full",u.regionState.right=r.layout.indexOf("right")>=0?"full":"hidden"});yield ue.a.Layout.Update(e,{state:l}),s&&ue.a.State.SetCurrentObject(e,{state:e.state.data,ref:tt.Cn.RootRef}),null===(i=e.canvas3dContext)||void 0===i||i.setProps({pixelScale:r.pixelScale,transparency:r.transparency})})()});class Dd extends Z.dL{constructor(){super(...arguments),this.allCollapsedState={isSettingsExpanded:!1,isScreenshotExpanded:!1},this.state={...this.allCollapsedState,isCameraResetEnabled:!0},this.resetCamera=()=>{ue.a.Camera.Reset(this.plugin,{})},this.toggleSettingsExpanded=this.toggle("isSettingsExpanded"),this.toggleScreenshotExpanded=this.toggle("isScreenshotExpanded"),this.toggleControls=()=>{ue.a.Layout.Update(this.plugin,{state:{showControls:!this.plugin.layout.state.showControls}})},this.toggleExpanded=()=>{ue.a.Layout.Update(this.plugin,{state:{isExpanded:!this.plugin.layout.state.isExpanded}})},this.setSettings=e=>{ue.a.Canvas3D.SetSettings(this.plugin,{settings:{[e.name]:e.value}})},this.setLayout=e=>{ue.a.Layout.Update(this.plugin,{state:{[e.name]:e.value}})},this.screenshot=()=>{var e;null===(e=this.plugin.helpers.viewportScreenshot)||void 0===e||e.download()},this.enableCameraReset=e=>{this.setState(i=>({...i,isCameraResetEnabled:e}))}}toggle(e){return i=>{this.setState(s=>({...s,...this.allCollapsedState,[e]:!this.state[e]})),i?.currentTarget.blur()}}componentDidMount(){this.subscribe(this.plugin.events.canvas3d.settingsUpdated,()=>this.forceUpdate()),this.subscribe(this.plugin.layout.events.updated,()=>this.forceUpdate()),this.plugin.canvas3d&&this.subscribe(this.plugin.canvas3d.camera.stateChanged.pipe((0,Wr.c)(500,void 0,{leading:!0,trailing:!0})),e=>this.enableCameraReset(0!==e.radius&&0!==e.radiusMax))}icon(e,i,s,l=!0){return(0,p.jsx)(L.K0,{svg:e,toggleState:l,onClick:i,title:s,style:{background:"transparent"}})}render(){return(0,p.jsxs)("div",{className:"msp-viewport-controls",children:[(0,p.jsxs)("div",{className:"msp-viewport-controls-buttons",children:[(0,p.jsxs)("div",{className:"msp-hover-box-wrapper",children:[(0,p.jsx)("div",{className:"msp-semi-transparent-background"}),this.icon(I.FP,this.resetCamera,"Reset Zoom"),(0,p.jsx)("div",{className:"msp-hover-box-body",children:(0,p.jsxs)("div",{className:"msp-flex-column",children:[(0,p.jsx)("div",{className:"msp-flex-row",children:(0,p.jsx)(L.$n,{onClick:()=>this.resetCamera(),disabled:!this.state.isCameraResetEnabled,title:"Set camera zoom to fit the visible scene into view",children:"Reset Zoom"})}),(0,p.jsx)("div",{className:"msp-flex-row",children:(0,p.jsx)(L.$n,{onClick:()=>ue.a.Camera.OrientAxes(this.plugin),disabled:!this.state.isCameraResetEnabled,title:"Align principal component axes of the loaded structures to the screen axes (\u201clay flat\u201d)",children:"Orient Axes"})}),(0,p.jsx)("div",{className:"msp-flex-row",children:(0,p.jsx)(L.$n,{onClick:()=>ue.a.Camera.ResetAxes(this.plugin),disabled:!this.state.isCameraResetEnabled,title:"Align Cartesian axes to the screen axes",children:"Reset Axes"})})]})}),(0,p.jsx)("div",{className:"msp-hover-box-spacer"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"msp-semi-transparent-background"}),this.icon(I.C$,this.toggleScreenshotExpanded,"Screenshot / State Snapshot",this.state.isScreenshotExpanded)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"msp-semi-transparent-background"}),this.plugin.config.get(Bt.AB.Viewport.ShowControls)&&this.icon(I.fl,this.toggleControls,"Toggle Controls Panel",this.plugin.layout.state.showControls),this.plugin.config.get(Bt.AB.Viewport.ShowExpand)&&this.icon(I.E2,this.toggleExpanded,"Toggle Expanded Viewport",this.plugin.layout.state.isExpanded),this.plugin.config.get(Bt.AB.Viewport.ShowSettings)&&this.icon(I.Hk,this.toggleSettingsExpanded,"Settings / Controls Info",this.state.isSettingsExpanded)]}),this.plugin.config.get(Bt.AB.Viewport.ShowSelectionMode)&&(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"msp-semi-transparent-background"}),(0,p.jsx)(Vr,{})]})]}),this.state.isScreenshotExpanded&&(0,p.jsx)("div",{className:"msp-viewport-controls-panel",children:(0,p.jsx)(L.tW,{header:"Screenshot / State",title:"Click to close.",initialExpanded:!0,hideExpander:!0,hideOffset:!0,onHeaderClick:this.toggleScreenshotExpanded,topRightIcon:I.X6,noTopMargin:!0,childrenClassName:"msp-viewport-controls-panel-controls",children:(0,p.jsx)(pe,{close:this.toggleScreenshotExpanded})})}),this.state.isSettingsExpanded&&(0,p.jsx)("div",{className:"msp-viewport-controls-panel",children:(0,p.jsx)(L.tW,{header:"Settings / Controls Info",title:"Click to close.",initialExpanded:!0,hideExpander:!0,hideOffset:!0,onHeaderClick:this.toggleSettingsExpanded,topRightIcon:I.X6,noTopMargin:!0,childrenClassName:"msp-viewport-controls-panel-controls",children:(0,p.jsx)(yd,{})})})]})}}const zd=()=>(0,p.jsx)("a",{className:"msp-logo",href:"https://molstar.org",target:"_blank"}),Od=()=>(0,p.jsx)(re,{logo:zd});var Rd=F(6511),Fd=F(1861);function Bd({plugin:r}){return r.isInitialized?(0,p.jsx)(Z.aU.Provider,{value:r,children:(0,p.jsx)(Cd,{})}):(0,p.jsx)(Hd,{plugin:r})}function Hd({plugin:r}){const[e,i]=he.useState({kind:"pending"});return he.useEffect(()=>{i({kind:"pending"});let s=!0;return r.initialized.then(()=>{s&&i({kind:"initialized"})}).catch(l=>{s&&i({kind:"error",message:`${l}`})}),()=>{s=!1}},[r]),"pending"===e.kind?null:"error"===e.kind?(0,p.jsx)("div",{className:"msp-plugin",children:(0,p.jsxs)("div",{className:"msp-plugin-init-error",children:["Initialization error: ",e.message]})}):(0,p.jsx)(Z.aU.Provider,{value:r,children:(0,p.jsx)(Cd,{})})}class Cd extends Z.dL{constructor(){super(...arguments),this.onDrop=e=>{e.preventDefault();const i=[];if(e.dataTransfer.items)for(let l=0;l<e.dataTransfer.items.length;l++){if("file"!==e.dataTransfer.items[l].kind)continue;const u=e.dataTransfer.items[l].getAsFile();u&&i.push(u)}else for(let l=0;l<e.dataTransfer.files.length;l++){const u=e.dataTransfer.files[l];u&&i.push(u)}const s=i.filter(l=>{const u=l.name.toLowerCase();return u.endsWith(".molx")||u.endsWith(".molj")});s.length>0?ue.a.State.Snapshots.OpenFile(this.plugin,{file:s[0]}):this.plugin.runTask(this.plugin.state.data.applyAction(Rd.OpenFiles,{files:i.map(l=>Fd.V.File(l)),format:{name:"auto",params:{}},visuals:!0}))},this.onDragOver=e=>{e.preventDefault()},this.showDragOverlay=new Oa.t(!1),this.onDragEnter=e=>{let i=!1;if(e.dataTransfer.items&&e.dataTransfer.items.length>0){for(let s=0;s<e.dataTransfer.items.length;s++)if("file"===e.dataTransfer.items[s].kind){i=!0;break}}else for(let s=0;s<e.dataTransfer.types.length;s++)if("Files"===e.dataTransfer.types[s]){i=!0;break}i&&this.showDragOverlay.next(!0)}}componentDidMount(){this.subscribe(this.plugin.layout.events.updated,()=>this.forceUpdate())}region(e,i){return(0,p.jsx)("div",{className:`msp-layout-region msp-layout-${e}`,children:(0,p.jsx)("div",{className:"msp-layout-static",children:i?(0,p.jsx)(i,{}):null})})}get layoutVisibilityClassName(){var e,i;const s=this.plugin.layout.state,l=null!==(i=null===(e=this.plugin.spec.components)||void 0===e?void 0:e.controls)&&void 0!==i?i:{},u=[];return("none"===l.top||!s.showControls||"hidden"===s.regionState.top)&&u.push("msp-layout-hide-top"),"none"!==l.left&&s.showControls&&"hidden"!==s.regionState.left?"collapsed"===s.regionState.left&&u.push("msp-layout-collapse-left"):u.push("msp-layout-hide-left"),("none"===l.right||!s.showControls||"hidden"===s.regionState.right)&&u.push("msp-layout-hide-right"),("none"===l.bottom||!s.showControls||"hidden"===s.regionState.bottom)&&u.push("msp-layout-hide-bottom"),u.join(" ")}get layoutClassName(){const e=this.plugin.layout.state,i=["msp-plugin-content"];return e.isExpanded?i.push("msp-layout-expanded"):i.push("msp-layout-standard",`msp-layout-standard-${e.controlsDisplay}`),i.join(" ")}render(){var e,i,s,l,u,c,h;const f=this.plugin.layout.state,y=(null===(e=this.plugin.spec.components)||void 0===e?void 0:e.controls)||{},g=(null===(s=null===(i=this.plugin.spec.components)||void 0===i?void 0:i.viewport)||void 0===s?void 0:s.view)||_d,x=(null===(u=null===(l=this.plugin.spec.components)||void 0===l?void 0:l.sequenceViewer)||void 0===u?void 0:u.view)||o;return(0,p.jsx)("div",{className:"msp-plugin",children:(0,p.jsxs)("div",{className:this.layoutClassName,onDragEnter:this.onDragEnter,children:[(0,p.jsxs)("div",{className:this.layoutVisibilityClassName,children:[this.region("main",g),f.showControls&&"none"!==y.top&&this.region("top",y.top||x),f.showControls&&"none"!==y.left&&this.region("left",y.left||fd),f.showControls&&"none"!==y.right&&this.region("right",y.right||qd),f.showControls&&"none"!==y.bottom&&this.region("bottom",y.bottom||Wd)]}),!(null!==(c=this.plugin.spec.components)&&void 0!==c&&c.hideTaskOverlay)&&(0,p.jsx)(q,{}),!(null!==(h=this.plugin.spec.components)&&void 0!==h&&h.disableDragOverlay)&&(0,p.jsx)(Vd,{plugin:this.plugin,showDragOverlay:this.showDragOverlay})]})})}}function Vd({plugin:r,showDragOverlay:e}){const i=S(e),s=l=>{l.dataTransfer.dropEffect="copy",l.preventDefault(),l.stopPropagation()};return(0,p.jsx)("div",{className:"msp-drag-drop-overlay",style:{display:i?"flex":"none"},onDragEnter:s,onDragOver:s,onDragLeave:()=>e.next(!1),onDrop:l=>function Ud(r,e,i){r.preventDefault(),r.stopPropagation(),i.next(!1);const s=[];if(r.dataTransfer.items)for(let l=0;l<r.dataTransfer.items.length;l++){if("file"!==r.dataTransfer.items[l].kind)continue;const u=r.dataTransfer.items[l].getAsFile();u&&s.push(u)}else for(let l=0;l<r.dataTransfer.files.length;l++){const u=r.dataTransfer.files[l];u&&s.push(u)}e.managers.dragAndDrop.handle(s)}(l,r,e),children:"Load File(s)"})}class qd extends Z.dL{render(){var e;const i=(null===(e=this.plugin.spec.components)||void 0===e?void 0:e.structureTools)||ir;return(0,p.jsx)("div",{className:"msp-scrollable-container",children:(0,p.jsx)(i,{})})}}class _d extends Z.dL{render(){var e,i;const s=(null===(i=null===(e=this.plugin.spec.components)||void 0===e?void 0:e.viewport)||void 0===i?void 0:i.controls)||Dd;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Od,{}),(0,p.jsxs)("div",{className:"msp-viewport-top-left-controls",children:[(0,p.jsx)(ud,{}),(0,p.jsx)(sn,{}),(0,p.jsx)(Wc,{}),(0,p.jsx)(iu,{})]}),(0,p.jsx)(Di,{}),(0,p.jsx)(s,{}),(0,p.jsx)(k,{}),(0,p.jsxs)("div",{className:"msp-highlight-toast-wrapper",children:[(0,p.jsx)(Kc,{}),(0,p.jsx)(ie,{})]})]})}}class Wd extends Z.dL{constructor(){super(...arguments),this.wrapper=he.createRef(),this.state={entries:this.plugin.log.entries}}componentDidMount(){this.subscribe(this.plugin.events.log,()=>this.setState({entries:this.plugin.log.entries}))}componentDidUpdate(){this.scrollToBottom()}scrollToBottom(){const e=this.wrapper.current;e&&(e.scrollTop=e.scrollHeight-e.clientHeight-1)}render(){const i=this.state.entries,s=i.size,l=[];for(let u=Math.max(0,s-10),c=0;u<s;u++){const h=i.get(u);l.push((0,p.jsxs)("li",{children:[(0,p.jsx)("div",{className:"msp-log-entry-badge msp-log-entry-"+h.type}),(0,p.jsx)("div",{className:"msp-log-timestamp",children:(0,Zr.fU)(h.timestamp)}),(0,p.jsx)("div",{className:"msp-log-entry",children:h.message})]},c++))}return(0,p.jsx)("div",{ref:this.wrapper,className:"msp-log",style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",overflowY:"auto"},children:(0,p.jsx)("ul",{className:"msp-list-unstyled",children:l})})}}var Kd=F(6046);let vd=(()=>{class r{set container(i){this.initialize$.next(i)}constructor(i,s){this.settingsService=i,this.pluginService=s,this.initialize$=new Nt.m(1);const l=this.pluginService.plugin$,u=this.settingsService.settings$;this.initialized$=this.initialize$.pipe((0,je.T)(c=>{const h=c.nativeElement;return{div:h,canvas:h.firstElementChild}}),(0,Pe.v)(l),(0,je.T)(([{div:c},h])=>((0,Kd.render)((0,he.createElement)(Bd,{plugin:h}),c),h)),(0,Dt.t)(1),(0,Pe.v)(u),(0,je.T)(([c,h])=>{if(c.canvas3d){const[f,y]=on(h["background-color"]);c.canvas3d.setProps({renderer:{backgroundColor:f,pickingAlphaThreshold:y}})}return c}))}static#e=this.\u0275fac=function(s){return new(s||r)(W.KVO(gn),W.KVO(_t.z))};static#t=this.\u0275prov=W.jDH({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function xd(r,e){return function $d(r,e){const i=fn.e.getStructureSelection(r,e);return z.cv.toLociWithSourceUnits(i)}(De.J.struct.generator.atomGroups({"residue-test":De.J.core.set.has([De.J.set(...r),De.J.core.str.concat([De.J.ammp("auth_asym_id"),De.J.ammp("auth_seq_id"),De.J.ammp("pdbx_PDB_ins_code")])])}),e)}let jd=(()=>{class r{set loci(i){this.loci$.next(i)}set interactions(i){this.interactions$.next(i)}constructor(i,s,l,u){var c=this;this.structureService=i,this.settingsService=s,this.pluginService=l,this.canvasService=u,this.loci$=new Nt.m(1),this.interactions$=new Nt.m(1);const h=this.structureService.source$.pipe((0,mt.p)(g=>null!=g));this.structure$=this.structureService.structure$.pipe(function Mt(...r){const e=(0,qt.ms)(r);return(0,Ue.N)((i,s)=>{const l=r.length,u=new Array(l);let c=r.map(()=>!1),h=!1;for(let f=0;f<l;f++)(0,Te.Tg)(r[f]).subscribe((0,fe._)(s,y=>{u[f]=y,!h&&!c[f]&&(c[f]=!0,(h=c.every(Ne.D))&&(c=null))},Me.l));i.subscribe((0,fe._)(s,f=>{if(h){const y=[f,...u];s.next(e?e(...y):y)}}))})}(h),(0,xe.n)(([g,x])=>(0,xt.H)((0,R.A)(function*(){const w=c.pluginService.plugin,b=yield w.builders.structure.tryCreateComponentStatic(g,"polymer",{label:x.label}),[C]=on(c.settingsService.settings["backbone-color"]);return yield w.builders.structure.representation.addRepresentation(b,{type:"cartoon",color:"uniform",colorParams:{value:C}}),g.cell.obj.data})())),(0,Dt.t)(1));const f=this.getLociRepresentation(),y=this.getInteractionsRepresentation();this.representation$=this.structure$.pipe((0,Pe.v)(this.canvasService.initialized$),(0,Pe.v)(f),(0,Pe.v)(y),(0,je.T)(()=>{}),(0,Dt.t)(1)),this._representation=this.representation$.subscribe()}ngOnDestroy(){this._representation.unsubscribe()}getLociRepresentation(){return this.structure$.pipe((0,Pe.v)(this.loci$),(0,je.T)(([i,s])=>({structure:i,loci:s})),(0,je.T)(({structure:i,loci:s})=>{const l=[...this.structureService.i2r.values()];return{structure:i,loci:s.map(c=>{if(c.start){c={...c,end:c.end||c.start};const h=this.structureService.r2i.get(c.chain+c.start),f=this.structureService.r2i.get(c.chain+c.end);return{...c,ids:l.slice(h,f+1)}}return{...c,ids:l.filter(h=>h.startsWith(c.chain))}})}}),(0,xe.n)(({structure:i,loci:s})=>{const l=[];for(const{ids:f,color:y}of s){const g=xd(f,i),x=z.iZ.Bundle.fromLoci(g),[w]=on(y||this.settingsService.settings["backbone-color"]);l.push({bundle:x,color:w,clear:!1})}const u=this.pluginService.plugin,c=u.state.data.build(),h=function Qd(r,e){const i=ft.l.ofBundle(r,e.root),s=ft.l.merge(i);return ft.l.filter(s,e)}(l,i);for(const f of u.managers.structure.hierarchy.current.structures)for(const y of f.components)for(const g of y.representations){c.to(g.cell.transform.ref).apply(jt.f.Representation.OverpaintStructureRepresentation3DFromBundle,ft.l.toBundle(h));const x=xd([...this.structureService.i2r.values()],i),w=z.iZ.Bundle.fromLoci(x),[b,C]=on(this.settingsService.settings["backbone-color"]);c.to(g.cell.transform.ref).apply(jt.f.Representation.TransparencyStructureRepresentation3DFromBundle,{layers:[{bundle:w,value:C}]})}return(0,xt.H)(c.commit({doNotUpdateCurrent:!0}))}))}getInteractionsRepresentation(){let i;return this.structure$.pipe((0,Pe.v)(this.interactions$),(0,je.T)(([s,l])=>({structure:s,interactions:l})),(0,je.T)(({structure:s,interactions:l})=>{const u=l.reduce((c,{from:h,to:f})=>[...c,h,f],[]);return z.oE.eachAtomicHierarchyElement(s,{atom:c=>{const h=bt.eB.create(z.StructureProperties.atom.x(c),z.StructureProperties.atom.y(c),z.StructureProperties.atom.z(c));for(const f of u)f.coordinates||(f["atom.id"]===z.StructureProperties.atom.id(c)||f["chain.id"]===z.StructureProperties.chain.auth_asym_id(c)&&f["residue.id"]===z.StructureProperties.residue.auth_seq_id(c)+z.StructureProperties.residue.pdbx_PDB_ins_code(c)&&f["atom.name"]===z.StructureProperties.atom.auth_atom_id(c))&&(f.coordinates=h)}}),{structure:s,interactions:l=l.filter(({from:c,to:h})=>c.coordinates&&h.coordinates)}}),(0,xe.n)(({interactions:s})=>{const u=this.pluginService.plugin.state.data.build(),c=s.map(({from:f,to:y,color:g,label:x,size:w})=>({from:f.coordinates,to:y.coordinates,color:on(g||this.settingsService.settings["interaction-color"]).at(0),size:w||this.settingsService.settings["interaction-size"],label:x}));return i&&u.delete(i),i=u.toRoot().apply(Je,{data:c}).apply(jt.f.Representation.ShapeRepresentation3D).ref,(0,xt.H)(u.commit({doNotUpdateCurrent:!0}))}),(0,Dt.t)(1))}static#e=this.\u0275fac=function(s){return new(s||r)(W.KVO(Zt.Z),W.KVO(gn),W.KVO(_t.z),W.KVO(vd))};static#t=this.\u0275prov=W.jDH({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();var Gd=F(2326),Yd=F(6365);let Ed=(()=>{class r{set highlights(i){this.input$.next(i)}constructor(i,s){this.structureService=i,this.pluginService=s,this.input$=new Nt.m(1);const l=this.pluginService.plugin,u=l.behaviors.interaction.hover,c=this.structureService.structure$.pipe((0,Pe.v)(this.input$),(0,je.T)(([f,y])=>({structure:f,highlights:y})),(0,je.T)(({structure:f,highlights:y})=>{if(y){const g=[...this.structureService.i2r.values()],x=this.structureService.r2i.get(y.chain+y.start),w=this.structureService.r2i.get(y.chain+y.end);return{structure:f,highlights:{...y,ids:g.slice(x,w+1)}}}return{structure:f,highlights:{start:"",end:"",chain:"",ids:[]}}}),(0,je.T)(({structure:f,highlights:y})=>{if(y.ids.length>0){const g=xd(y.ids,f);l.managers.interactivity.lociHighlights.highlightOnly({loci:g})}}));this.output$=u.pipe((0,je.T)(f=>{if(f&&"element-loci"===f.current.loci.kind&&z.iZ.Loci.is(f.current.loci)){const y=z.iZ.Loci.getFirstLocation(f.current.loci);if(y){const g=z.StructureProperties.chain.auth_asym_id(y),b=z.StructureProperties.residue.auth_seq_id(y)+z.StructureProperties.residue.pdbx_PDB_ins_code(y);return{start:b,end:b+"",chain:g}}}}),(0,Dt.t)(1));const h=c.pipe(function Xd(...r){return function Zd(...r){const e=(0,qt.lI)(r),i=(0,qt.R0)(r,1/0);return r=(0,Gd.K)(r),(0,Ue.N)((s,l)=>{(0,Yd.U)(i)((0,xt.H)([s,...r],e)).subscribe(l)})}(...r)}(this.output$),(0,je.T)(()=>{}));this._highlights=h.subscribe()}ngOnDestroy(){this._highlights.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||r)(W.KVO(Zt.Z),W.KVO(_t.z))};static#t=this.\u0275prov=W.jDH({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Jd=["container"];let eh=(()=>{class r{set container(i){this.canvasService.container=i}set source(i){this.structureService.source=i}set loci(i){this.representationService.loci=i}set interactions(i){this.representationService.interactions=i}set settings(i){this.settingsService.settings=i}set highlights(i){this.highlightService.highlights=i}constructor(i,s,l,u,c,h){this.representationService=i,this.highlightService=s,this.structureService=l,this.settingsService=u,this.pluginService=c,this.canvasService=h,this.highlights$=this.highlightService.output$}static#e=this.\u0275fac=function(s){return new(s||r)(W.rXU(jd),W.rXU(Ed),W.rXU(Zt.Z),W.rXU(gn),W.rXU(_t.z),W.rXU(vd))};static#t=this.\u0275cmp=W.VBU({type:r,selectors:[["ngx-structure-viewer"]],viewQuery:function(s,l){if(1&s&&W.GBs(Jd,5),2&s){let u;W.mGM(u=W.lsd())&&(l.container=u.first)}},inputs:{source:"source",loci:"loci",interactions:"interactions",settings:"settings",highlights:"highlights"},outputs:{highlights$:"highlights"},standalone:!0,features:[W.Jv_([jd,Ed,Zt.Z,gn,_t.z,vd]),W.aNF],decls:4,vars:0,consts:[["container",""],["canvas",""],[1,"ngx-structure-viewer-container"],[1,"ngx-structure-viewer-canvas"]],template:function(s,l){1&s&&(W.j41(0,"div",2,0),W.nrm(2,"canvas",3,1),W.k0s())},dependencies:[He.MD],styles:[".msp-plugin{font-family:Helvetica Neue,Segoe UI,Helvetica,Source Sans Pro,Arial,sans-serif;font-size:14px;line-height:1.42857143;position:absolute;inset:0;background:#111318}.msp-plugin *{box-sizing:border-box}.msp-plugin [hidden],.msp-plugin template{display:none}.msp-plugin a{background-color:transparent}.msp-plugin a:active,.msp-plugin a:hover{outline:0}.msp-plugin abbr[title]{border-bottom:1px dotted}.msp-plugin b,.msp-plugin strong{font-weight:700}.msp-plugin small{font-size:80%}.msp-plugin img{border:0}.msp-plugin svg:not(:root){overflow:hidden}.msp-plugin button,.msp-plugin input,.msp-plugin optgroup,.msp-plugin select,.msp-plugin textarea{color:inherit;font:inherit;margin:0}.msp-plugin button{overflow:visible}.msp-plugin button,.msp-plugin select{text-transform:none}.msp-plugin button,.msp-plugin html input[type=button],.msp-plugin input[type=reset],.msp-plugin input[type=submit]{-webkit-appearance:button;cursor:pointer}.msp-plugin button[disabled],.msp-plugin html input[disabled]{cursor:default}.msp-plugin button::-moz-focus-inner,.msp-plugin input::-moz-focus-inner{border:0;padding:0}.msp-plugin input{line-height:normal}.msp-plugin input[type=checkbox],.msp-plugin input[type=radio]{box-sizing:border-box;padding:0}.msp-plugin input[type=number]::-webkit-inner-spin-button,.msp-plugin input[type=number]::-webkit-outer-spin-button{height:auto}.msp-plugin textarea{overflow:auto}.msp-plugin .msp-layout-expanded,.msp-plugin .msp-layout-standard{inset:0}.msp-plugin .msp-layout-standard{border:1px solid #313645}.msp-plugin .msp-layout-region{overflow:hidden}.msp-plugin .msp-layout-static,.msp-plugin .msp-layout-scrollable{position:absolute}.msp-plugin .msp-scrollable{overflow-y:auto}.msp-plugin .msp-scrollable-container{position:absolute;inset:0;overflow-y:auto}.msp-plugin .msp-layout-static{overflow:hidden}.msp-plugin .msp-layout-top .msp-layout-static,.msp-plugin .msp-layout-main .msp-layout-static,.msp-plugin .msp-layout-bottom .msp-layout-static,.msp-plugin .msp-layout-right .msp-layout-static{inset:0}.msp-plugin .msp-layout-right .msp-layout-scrollable{inset:43px 0 0}.msp-plugin .msp-layout-left .msp-layout-static{inset:0}.msp-plugin .msp-layout-standard-outside{position:absolute}.msp-plugin .msp-layout-standard-outside .msp-layout-main{position:absolute;inset:0}.msp-plugin .msp-layout-standard-outside .msp-layout-top{position:absolute;right:0;height:97px;top:-97px;width:50%;border-left:1px solid #313645;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-outside .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;top:-97px;width:50%;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-outside .msp-layout-right{position:absolute;width:50%;right:0;bottom:-295px;height:295px;border-left:1px solid #313645;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-outside .msp-layout-left{position:absolute;width:50%;left:0;bottom:-295px;height:295px;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-outside .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-outside .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-landscape{position:absolute}.msp-plugin .msp-layout-standard-landscape .msp-layout-main{position:absolute;inset:100px 300px 70px 330px}.msp-plugin .msp-layout-standard-landscape .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-landscape .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-landscape .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #313645}.msp-plugin .msp-layout-standard-landscape .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #313645}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-landscape .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-landscape .msp-layout-hide-top .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-portrait{position:absolute}.msp-plugin .msp-layout-standard-portrait .msp-layout-main{position:absolute;inset:97px 0 361px}.msp-plugin .msp-layout-standard-portrait .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #313645;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-portrait .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-portrait .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #313645;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-portrait .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-portrait .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-portrait .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}.msp-plugin .msp-layout-standard-reactive{position:absolute}@media (orientation: landscape),(min-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;inset:100px 300px 70px 330px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-main{top:0}}@media (orientation: portrait) and (max-width: 1000px){.msp-plugin .msp-layout-standard-reactive .msp-layout-main{position:absolute;inset:97px 0 361px}.msp-plugin .msp-layout-standard-reactive .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #313645;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #313645;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #313645}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-standard-reactive .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-standard-reactive .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin .msp-layout-expanded{position:fixed}@media (orientation: landscape){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;inset:100px 300px 70px 330px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;left:330px;right:300px;height:100px;top:0;border-bottom:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:330px;right:300px;height:70px;bottom:0;border-top:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:300px;right:0;bottom:0;top:0;border-left:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:330px;left:0;bottom:0;top:0;border-right:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-bottom{right:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-bottom{left:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-main,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-top,.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-bottom{left:32px}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-main{top:0}}@media (orientation: portrait){.msp-plugin .msp-layout-expanded .msp-layout-main{position:absolute;inset:97px 0 361px}.msp-plugin .msp-layout-expanded .msp-layout-top{position:absolute;right:0;height:97px;top:0;width:50%;border-left:1px solid #313645;border-bottom:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-bottom{position:absolute;left:0;right:0;height:97px;width:50%;border-bottom:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-right{position:absolute;width:50%;right:0;bottom:0;height:361px;border-left:1px solid #313645;border-top:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-left{position:absolute;width:50%;left:0;bottom:0;height:361px;border-top:1px solid #313645}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-right{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right .msp-layout-left{width:100%}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-left{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-left .msp-layout-right{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-right.msp-layout-hide-left .msp-layout-main{bottom:0}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-left{width:32px}.msp-plugin .msp-layout-expanded .msp-layout-collapse-left .msp-layout-right{left:32px;width:auto}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-top{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top .msp-layout-bottom{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-bottom{display:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-bottom .msp-layout-top{width:100%;border-left:none}.msp-plugin .msp-layout-expanded .msp-layout-hide-top.msp-layout-hide-bottom .msp-layout-main{top:0}}.msp-plugin ::-webkit-scrollbar{width:10px;height:10px}.msp-plugin ::-webkit-scrollbar-track{border-radius:0;background-color:#16191f}.msp-plugin ::-webkit-scrollbar-thumb{border-radius:0;background-color:#0e0f14}.msp-plugin .msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin .msp-control-row button,.msp-plugin .msp-control-row input[type=text],.msp-plugin .msp-btn{display:block;width:100%;background:#0c0d11;border:none;padding:0 10px;line-height:30px;height:32px;appearance:none;box-shadow:none;background-image:none}.msp-plugin .msp-form-control::-moz-placeholder,.msp-plugin .msp-control-row select::-moz-placeholder,.msp-plugin .msp-control-row button::-moz-placeholder,.msp-plugin .msp-control-row input[type=text]::-moz-placeholder,.msp-plugin .msp-btn::-moz-placeholder{color:#637ca0;opacity:1}.msp-plugin .msp-form-control:-ms-input-placeholder,.msp-plugin .msp-control-row select:-ms-input-placeholder,.msp-plugin .msp-control-row button:-ms-input-placeholder,.msp-plugin .msp-control-row input[type=text]:-ms-input-placeholder,.msp-plugin .msp-btn:-ms-input-placeholder{color:#637ca0}.msp-plugin .msp-form-control::-webkit-input-placeholder,.msp-plugin .msp-control-row select::-webkit-input-placeholder,.msp-plugin .msp-control-row button::-webkit-input-placeholder,.msp-plugin .msp-control-row input[type=text]::-webkit-input-placeholder,.msp-plugin .msp-btn::-webkit-input-placeholder{color:#637ca0}.msp-plugin .msp-form-control:hover,.msp-plugin .msp-control-row select:hover,.msp-plugin .msp-control-row button:hover,.msp-plugin .msp-control-row input[type=text]:hover,.msp-plugin .msp-btn:hover{color:#51a2fb;background-color:#16191f;border:none;outline-offset:-1px!important;outline:1px solid #363c4c!important}.msp-plugin .msp-form-control:active,.msp-plugin .msp-control-row select:active,.msp-plugin .msp-control-row button:active,.msp-plugin .msp-control-row input[type=text]:active,.msp-plugin .msp-btn:active,.msp-plugin .msp-form-control:focus,.msp-plugin .msp-control-row select:focus,.msp-plugin .msp-control-row button:focus,.msp-plugin .msp-control-row input[type=text]:focus,.msp-plugin .msp-btn:focus{color:#ccd4e0;background-color:#0c0d11;border:none;outline-offset:0;outline:none}.msp-plugin .msp-form-control[disabled],.msp-plugin .msp-control-row select[disabled],.msp-plugin .msp-control-row button[disabled],.msp-plugin .msp-control-row input[disabled][type=text],.msp-plugin [disabled].msp-btn,.msp-plugin .msp-form-control[readonly],.msp-plugin .msp-control-row select[readonly],.msp-plugin .msp-control-row button[readonly],.msp-plugin .msp-control-row input[readonly][type=text],.msp-plugin [readonly].msp-btn,fieldset[disabled] .msp-plugin .msp-form-control,fieldset[disabled] .msp-plugin .msp-control-row select,fieldset[disabled] .msp-plugin .msp-control-row button,fieldset[disabled] .msp-plugin .msp-control-row input[type=text],fieldset[disabled] .msp-plugin .msp-btn{background:#111318;opacity:.35}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button{display:inline-block;margin-bottom:0;text-align:center;touch-action:manipulation;cursor:pointer;background-image:none;white-space:nowrap;-webkit-user-select:none;user-select:none;padding:0 10px;line-height:32px;border:none;box-sizing:border-box}.msp-plugin .msp-btn[disabled],.msp-plugin .msp-control-row button[disabled]{background:#111318;opacity:.35}.msp-plugin .msp-btn-block,.msp-plugin .msp-control-row button{display:block;width:100%}.msp-plugin .msp-btn,.msp-plugin .msp-control-row button,.msp-plugin .msp-btn:active,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn:hover{outline:none}.msp-plugin .msp-material-icon svg{display:inline-flex;vertical-align:middle;font-size:1.2em;margin-bottom:3px;fill:currentColor;width:1em;height:1em;flex-shrink:0;-webkit-user-select:none;user-select:none}.msp-plugin .msp-btn-block>.msp-material-icon,.msp-plugin .msp-control-row button>.msp-material-icon{margin-left:0;margin-right:.4em}.msp-plugin .msp-btn-childless>.msp-material-icon{margin-left:0;margin-right:0}.msp-plugin .msp-btn-icon{border:none;height:32px;width:32px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon:hover{color:#51a2fb;background-color:#16191f;border:none;outline-offset:-1px!important;outline:1px solid #363c4c!important}.msp-plugin .msp-btn-icon[disabled],.msp-plugin .msp-btn-icon[disabled]:hover,.msp-plugin .msp-btn-icon[disabled]:active{color:#637ca0}.msp-plugin .msp-btn-icon-small{border:none;height:32px;width:20px;line-height:32px;padding:0;text-align:center}.msp-plugin .msp-btn-icon-small:hover{color:#51a2fb;background-color:#16191f;border:none;outline-offset:-1px!important;outline:1px solid #363c4c!important}.msp-plugin .msp-btn-icon-small[disabled],.msp-plugin .msp-btn-icon-small[disabled]:hover,.msp-plugin .msp-btn-icon-small[disabled]:active{color:#637ca0}.msp-plugin .msp-btn-link{font-weight:400;border-radius:0}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link.active,.msp-plugin .msp-btn-link[disabled],fieldset[disabled] .msp-plugin .msp-btn-link{background-color:transparent;box-shadow:none}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus,.msp-plugin .msp-btn-link:active{border-color:transparent}.msp-plugin .msp-btn-link:hover,.msp-plugin .msp-btn-link:focus{text-decoration:none;background-color:transparent}.msp-plugin .msp-btn-link[disabled]:hover,.msp-plugin .msp-btn-link[disabled]:focus,fieldset[disabled] .msp-plugin .msp-btn-link:hover,fieldset[disabled] .msp-plugin .msp-btn-link:focus{text-decoration:none}.msp-plugin .msp-btn-link .msp-icon{font-size:100%}.msp-plugin .msp-btn-link,.msp-plugin .msp-btn-link:active,.msp-plugin .msp-btn-link:focus{color:#ccd4e0;text-decoration:none}.msp-plugin .msp-btn-link:hover{color:#51a2fb;text-decoration:none}.msp-plugin .msp-btn-link-toggle-on{color:#ccd4e0}.msp-plugin .msp-btn-link-toggle-off,.msp-plugin .msp-btn-link-toggle-off:active,.msp-plugin .msp-btn-link-toggle-off:focus{color:#637ca0!important}.msp-plugin .msp-btn-link-toggle-off:hover,.msp-plugin .msp-btn-link-toggle-on:hover{color:#51a2fb!important}.msp-plugin .msp-btn-action,.msp-plugin .msp-btn-action:active,.msp-plugin .msp-btn-action:focus{color:#ccd4e0;background:#0c0d11}.msp-plugin .msp-btn-action:hover{color:#51a2fb;background:#060709}.msp-plugin .msp-btn-action[disabled],.msp-plugin .msp-btn-action[disabled]:hover,.msp-plugin .msp-btn-action[disabled]:active,.msp-plugin .msp-btn-action[disabled]:focus{color:#c9d1de}.msp-plugin .msp-btn-commit-on,.msp-plugin .msp-btn-commit-on:active,.msp-plugin .msp-btn-commit-on:focus{color:#68befd;background:#0d0e12}.msp-plugin .msp-btn-commit-on:hover{color:#51a2fb;background:#07080b}.msp-plugin .msp-btn-commit-on[disabled],.msp-plugin .msp-btn-commit-on[disabled]:hover,.msp-plugin .msp-btn-commit-on[disabled]:active,.msp-plugin .msp-btn-commit-on[disabled]:focus{color:#63bcfd}.msp-plugin .msp-btn-commit-off,.msp-plugin .msp-btn-commit-off:active,.msp-plugin .msp-btn-commit-off:focus{color:#ccd4e0;background:#090a0c}.msp-plugin .msp-btn-commit-off:hover{color:#51a2fb;background:#030405}.msp-plugin .msp-btn-commit-off[disabled],.msp-plugin .msp-btn-commit-off[disabled]:hover,.msp-plugin .msp-btn-commit-off[disabled]:active,.msp-plugin .msp-btn-commit-off[disabled]:focus{color:#c9d1de}.msp-plugin .msp-btn-remove:hover{color:#f2f4f7}.msp-plugin .msp-btn-commit-on:hover{color:#0393fc}.msp-plugin .msp-btn-action{height:32px;line-height:32px}.msp-plugin input[type=file]{display:block}.msp-plugin input[type=range]{display:block;width:100%}.msp-plugin select[multiple],.msp-plugin select[size],.msp-plugin textarea.msp-form-control,.msp-plugin textarea.msp-btn{height:auto}.msp-plugin .msp-control-top-offset{margin-top:1px}.msp-plugin .msp-btn-commit{text-align:right;padding:0 10px 0 0;line-height:32px;border:none;overflow:hidden;font-weight:700}.msp-plugin .msp-btn-commit .msp-icon{display:block-inline;line-height:32px;width:32px;text-align:center}.msp-plugin select.msp-form-control,.msp-plugin .msp-control-row select,.msp-plugin select.msp-btn{background:none;background-color:#0c0d11;background-size:8px 12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAMAAACzvE1FAAAADFBMVEUzMzMzMzMzMzMzMzMKAG/3AAAAA3RSTlMAf4C/aSLHAAAAPElEQVR42q3NMQ4AIAgEQTn//2cLdRKppSGzBYwzVXvznNWs8C58CiussPJj8h6NwgorrKRdTvuV9v16Afn0AYFOB7aYAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:right 10px center;padding-right:24px}.msp-plugin select.msp-form-control:-moz-focusring,.msp-plugin .msp-control-row select:-moz-focusring,.msp-plugin select.msp-btn:-moz-focusring{color:transparent;text-shadow:0 0 0 #ccd4e0}.msp-plugin .msp-default-bg{background:#111318}.msp-plugin .msp-transparent-bg{background:transparent}.msp-plugin .msp-no-hover-outline:hover{color:#51a2fb;background-color:inherit;border:none;outline-offset:0!important;outline:none!important}.msp-plugin .msp-icon-inline{margin-right:8px}.msp-plugin .msp-control-row{position:relative;height:32px;background:#111318;margin-top:1px}.msp-plugin .msp-control-row>span.msp-control-row-label,.msp-plugin .msp-control-row>button.msp-control-button-label{line-height:32px;display:block;width:120px;text-align:right;padding:0 10px;color:#9cacc3;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;-webkit-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-control-row>button.msp-control-button-label{background:#111318;cursor:pointer}.msp-plugin .msp-control-row .msp-control-current{background:#111318}.msp-plugin .msp-control-row>div.msp-control-row-ctrl{position:absolute;inset:0 0 0 120px}.msp-plugin .msp-control-row>div{background:#0c0d11}.msp-plugin .msp-control-row>.msp-flex-row,.msp-plugin .msp-control-row>.msp-state-image-row{background:#111318}.msp-plugin .msp-control-label-short>span{width:80px!important}.msp-plugin .msp-control-label-short>div:nth-child(2){left:80px!important}.msp-plugin .msp-control-col-2{float:left;width:50%}.msp-plugin .msp-control-twoline{height:64px!important}.msp-plugin .msp-control-group{position:relative}.msp-plugin .msp-toggle-button .msp-icon{display:inline-block;margin-right:6px}.msp-plugin .msp-toggle-button>div>button:hover{border-color:#16191f!important;border:none;outline-offset:-1px!important;outline:1px solid #363c4c!important}.msp-plugin .msp-slider>div:first-child{position:absolute;inset:0 62px 0 18px;display:flex}.msp-plugin .msp-slider>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:50px;top:0;bottom:0}.msp-plugin .msp-slider input[type=text]{padding-right:6px;padding-left:4px;font-size:80%;text-align:right}.msp-plugin .msp-slider2>div:first-child{position:absolute;height:32px;line-height:32px;text-align:center;left:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2>div:nth-child(2){position:absolute;inset:0 37px 0 35px;display:flex}.msp-plugin .msp-slider2>div:last-child{position:absolute;height:32px;line-height:32px;text-align:center;right:0;width:25px;top:0;bottom:0;font-size:80%}.msp-plugin .msp-slider2 input[type=text]{padding-right:4px;padding-left:4px;font-size:80%;text-align:center}.msp-plugin .msp-toggle-color-picker button{border:10px solid #0c0d11!important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-toggle-color-picker button:hover{border-color:#16191f!important;border:none;outline-offset:-1px!important;outline:1px solid #363c4c!important}.msp-plugin .msp-toggle-color-picker .msp-color-picker{position:absolute;z-index:100000;background:#111318;border-top:1px solid #111318;padding-bottom:5px;width:100%}.msp-plugin .msp-toggle-color-picker-above .msp-color-picker{top:-85px;height:85px}.msp-plugin .msp-toggle-color-picker-below .msp-color-picker{top:32px;height:80px}.msp-plugin .msp-control-offset{padding-left:10px}.msp-plugin .msp-accent-offset{padding-left:1px;margin-left:8px;border-left:2px solid #d67118}.msp-plugin .msp-control-group-wrapper{margin-bottom:0;margin-top:1px}.msp-plugin .msp-control-group-header{background:#111318}.msp-plugin .msp-control-group-header>button,.msp-plugin .msp-control-group-header div{padding-left:4px;text-align:left;height:24px!important;line-height:24px!important;font-size:85%!important;background:#111318!important;color:#9cacc3}.msp-plugin .msp-control-group-header .msp-icon{height:24px!important;line-height:24px!important}.msp-plugin .msp-control-group-header>span{padding-left:5px;line-height:21.3333333333px;font-size:70%;background:#111318;color:#9cacc3}.msp-plugin .msp-control-current{background:#111318}.msp-plugin .msp-control-group-footer{background:#1c1f27;height:5px;font-size:1px;margin-top:1px}.msp-plugin .msp-control-group-expander{display:block;position:absolute;line-height:32px;padding:0;left:0;top:0;width:120px;text-align:left;background:transparent}.msp-plugin .msp-control-group-expander .msp-icon{line-height:29px;width:31px;text-align:center;font-size:100%}.msp-plugin .msp-plugin-layout_controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-plugin-layout_controls>button:first-child{margin-right:6px}.msp-plugin .msp-empty-control{display:none}.msp-plugin .msp-control .msp-btn-block,.msp-plugin .msp-control .msp-control-row button,.msp-plugin .msp-control-row .msp-control button{margin-bottom:0;margin-top:0}.msp-plugin .msp-row-text{height:32px;position:relative;background:#111318;margin-top:1px}.msp-plugin .msp-row-text>div{line-height:32px;text-align:center;color:#9cacc3}.msp-plugin .msp-help span{display:none}.msp-plugin .msp-help:hover span{display:inline-block;background:linear-gradient(#111318,#111318cc)}.msp-plugin .msp-help-text{position:relative;background:#111318;margin-top:1px}.msp-plugin .msp-help-text>div{padding:5px 10px;text-align:left;color:#9cacc3}.msp-plugin .msp-help-description{font-style:italic}.msp-plugin .msp-help-legend{padding-top:10px}.msp-plugin .msp-scale-legend>div{width:100%;height:30px}.msp-plugin .msp-scale-legend>div>span{padding:5px;color:#fff;font-weight:700;background-color:#0003}.msp-plugin .msp-table-legend>div{margin-right:5px;display:inline-flex}.msp-plugin .msp-table-legend>div .msp-table-legend-color{width:30px;height:20px}.msp-plugin .msp-table-legend>div .msp-table-legend-text{margin:0 5px}.msp-plugin .msp-image-preview{position:relative;background:#111318;margin-top:1px;padding:10px}.msp-plugin .msp-image-preview canvas{-webkit-user-select:none;user-select:none}.msp-plugin .msp-image-preview>span{margin-top:6px;display:block;text-align:center;font-size:80%;line-height:15px}.msp-plugin .msp-copy-image-wrapper{position:relative}.msp-plugin .msp-copy-image-wrapper div{font-weight:700;padding:3px;margin:1px 0;width:100%;background:#0c0d11;text-align:center}.msp-plugin .msp-copy-image-wrapper img{margin-top:1px}.msp-plugin .msp-control-text-area-wrapper,.msp-plugin .msp-text-area-wrapper{position:relative}.msp-plugin .msp-control-text-area-wrapper textarea,.msp-plugin .msp-text-area-wrapper textarea{border:none;width:100%;height:100%;background:#0c0d11;padding:5px 10px;resize:none;font-size:12px;line-height:16px}.msp-plugin .msp-control-text-area-wrapper{height:64px!important}.msp-plugin .msp-text-area-wrapper{height:96px!important}.msp-plugin .msp-slider-base{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;align-self:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.msp-plugin .msp-slider-base-rail{position:absolute;width:100%;background-color:#1f222b;height:4px;border-radius:2px}.msp-plugin .msp-slider-base-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:tint(#ccd4e0,60%)}.msp-plugin .msp-slider-base-handle{position:absolute;margin-left:-11px;margin-top:-9px;width:22px;height:22px;cursor:pointer;border-radius:50%;background-color:#ccd4e0;border:4px solid #1f222b}.msp-plugin .msp-slider-base-handle:hover{background-color:#51a2fb}.msp-plugin .msp-slider-base-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.msp-plugin .msp-slider-base-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.msp-plugin .msp-slider-base-mark-text-active{color:#666}.msp-plugin .msp-slider-base-step{position:absolute;width:100%;height:4px;background:transparent}.msp-plugin .msp-slider-base-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.msp-plugin .msp-slider-base-dot:first-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot:last-child{margin-left:-4px}.msp-plugin .msp-slider-base-dot-active{border-color:tint(#ccd4e0,50%)}.msp-plugin .msp-slider-base-disabled{background:#111318;opacity:.35}.msp-plugin .msp-slider-base-disabled .msp-slider-base-handle,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed}.msp-plugin .msp-slider-base-disabled .msp-slider-base-mark-text,.msp-plugin .msp-slider-base-disabled .msp-slider-base-dot{cursor:not-allowed!important}.msp-plugin .msp-description{padding:10px;font-size:85%;background:#111318;text-align:center;-webkit-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:default}.msp-plugin .msp-description:not(:first-child){border-top:1px solid #1f222b}.msp-plugin .msp-color-picker input{color:#000!important}.msp-plugin .msp-no-webgl{position:absolute;width:100%;height:100%;left:0;top:0;display:table;text-align:center;background:#111318}.msp-plugin .msp-no-webgl>div{display:table-cell;vertical-align:middle;text-align:center;width:100%;height:100%}.msp-plugin .msp-no-webgl>div b{font-size:120%}.msp-plugin .msp-loader-msp-btn-file{position:relative;overflow:hidden}.msp-plugin .msp-loader-msp-btn-file input[type=file]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}.msp-plugin .msp-controls-section{margin-bottom:10px}.msp-plugin .msp-combined-color-button{border:4px solid #0c0d11!important;margin:0;text-align:center;padding-right:10px;padding-left:10px}.msp-plugin .msp-combined-color-button:hover{border-color:#16191f!important;border:none;outline-offset:-1px!important;outline:1px solid #363c4c!important}.msp-plugin .msp-combined-color-swatch{width:100%;display:grid;grid-gap:1px;grid-template-columns:repeat(6,auto)}.msp-plugin .msp-combined-color-swatch .msp-btn:hover,.msp-plugin .msp-combined-color-swatch .msp-control-row button:hover,.msp-plugin .msp-control-row .msp-combined-color-swatch button:hover{outline-offset:-1px!important;outline:1px solid #363c4c!important}.msp-plugin .msp-action-select{position:relative}.msp-plugin .msp-action-select select{padding-left:42px}.msp-plugin .msp-action-select option:first-child{color:#9cacc3}.msp-plugin .msp-action-select>.msp-icon{display:block;top:0;left:10px;position:absolute;line-height:32px}.msp-plugin .msp-simple-help-section{height:28px;line-height:28px;margin-top:5px;margin-bottom:5px;padding:0 10px;font-weight:500;background:#111318;color:#ccd4e0}.msp-plugin .msp-left-panel-controls-buttons{position:absolute;width:32px;top:0;bottom:0;padding-top:10px;background:#111318}.msp-plugin .msp-left-panel-controls-buttons-bottom{position:absolute;bottom:0}.msp-plugin .msp-left-panel-controls-button-data-dirty{position:absolute;width:6px;height:6px;background:#d67118;border-radius:3px;right:6px;bottom:6px}.msp-plugin .msp-left-panel-controls .msp-scrollable-container{left:33px}.msp-plugin .msp-mapped-parameter-group{position:relative}.msp-plugin .msp-mapped-parameter-group>.msp-control-row:first-child>div:nth-child(2){right:33px}.msp-plugin .msp-mapped-parameter-group>button:first-child{right:33px}.msp-plugin .msp-mapped-parameter-group>.msp-btn-icon{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-shape-filled{fill:#ccd4e0;stroke:#ccd4e0}.msp-plugin .msp-shape-empty{fill:none;stroke:#ccd4e0}.msp-plugin .msp-no-overflow{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.msp-plugin .msp-25-lower-contrast-text{color:#7d91b0}.msp-plugin .msp-expandable-group-color-stripe{position:absolute;left:0;top:30px;width:120px;height:2px}.msp-plugin .msp-section-header{height:32px;line-height:32px;margin-top:10px;margin-bottom:10px;text-align:right;padding:0 10px;font-weight:700;background:#111318;overflow:hidden;cursor:default}.msp-plugin .msp-section-header>.msp-icon{display:block;float:left}.msp-plugin .msp-section-header>small{font-weight:400}.msp-plugin .msp-current-header{height:32px;line-height:32px;margin-bottom:10px;text-align:center;font-weight:700;background:#111318}.msp-plugin .msp-flex-row,.msp-plugin .msp-state-image-row{margin-top:1px;background:#111318;display:flex;flex-direction:row;width:inherit;height:32px}.msp-plugin .msp-flex-row>.msp-flex-item,.msp-plugin .msp-state-image-row>.msp-flex-item{margin:0 1px 0 0;flex:1 1 auto;overflow:hidden}.msp-plugin .msp-flex-row>.msp-flex-item:last-child,.msp-plugin .msp-state-image-row>.msp-flex-item:last-child{margin-right:0}.msp-plugin .msp-flex-row>select,.msp-plugin .msp-state-image-row>select,.msp-plugin .msp-flex-row>button,.msp-plugin .msp-state-image-row>button{margin:0 1px 0 0;flex:1 1 auto;height:32px;overflow:hidden}.msp-plugin .msp-flex-row .msp-btn-icon,.msp-plugin .msp-state-image-row .msp-btn-icon,.msp-plugin .msp-flex-row .msp-btn-icon-small,.msp-plugin .msp-state-image-row .msp-btn-icon-small{flex:0 0 32px;max-width:32px}.msp-plugin .msp-flex-row>select,.msp-plugin .msp-state-image-row>select{background:none}.msp-plugin .msp-flex-row>select>option[value=_],.msp-plugin .msp-state-image-row>select>option[value=_]{display:none}.msp-plugin .msp-flex-row>select:last-child,.msp-plugin .msp-state-image-row>select:last-child,.msp-plugin .msp-flex-row>button:last-child,.msp-plugin .msp-state-image-row>button:last-child{margin-right:0}.msp-plugin .msp-flex-row>button.msp-control-button-label,.msp-plugin .msp-state-image-row>button.msp-control-button-label{background:#111318}.msp-plugin .msp-state-list{list-style:none}.msp-plugin .msp-state-list>li{position:relative;overflow:hidden}.msp-plugin .msp-state-list>li>button:first-child{text-align:left;border-left:10px solid #2a2f3c!important}.msp-plugin .msp-state-list>li>div{position:absolute;right:0;top:0}.msp-plugin .msp-state-image-row{height:96px;margin-top:0}.msp-plugin .msp-state-image-row>button{height:96px;padding:0}.msp-plugin .msp-state-image-row>button>img{min-height:96px;width:inherit;transform:translateY(-50%);top:50%;position:relative}.msp-plugin .msp-tree-row{position:relative;margin-top:0;margin-bottom:1px;background:transparent}.msp-plugin .msp-tree-row-current .msp-btn-tree-label{border-radius:0!important}.msp-plugin .msp-tree-row-current .msp-btn-tree-label>span{font-weight:700}.msp-plugin .msp-tree-row .msp-btn-tree-label{text-align:left;border-radius:0 0 0 8px;border-left-width:4px;border-left-style:solid}.msp-plugin .msp-tree-row .msp-btn-tree-label>small{color:#8d9fb9}.msp-plugin .msp-tree-updates-wrapper .msp-control-group-header:last-child{margin-bottom:1px}.msp-plugin .msp-viewport-top-left-controls{position:absolute;left:10px;top:10px}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls{line-height:32px;float:left;margin-right:10px;background-color:#0c0d11}.msp-plugin .msp-viewport-top-left-controls .msp-traj-controls>span{color:#ccd4e0;margin-left:10px;margin-right:10px;font-size:85%;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls{line-height:32px;float:left;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>button{background-color:#0c0d11}.msp-plugin .msp-viewport-top-left-controls .msp-state-snapshot-viewport-controls>select{display:inline-block;width:200px;margin-right:10px}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls{line-height:32px;float:left;margin-right:10px;position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child{position:relative;display:inline-block}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls>div:first-child>button{position:relative}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select{width:290px;position:absolute;left:0;margin-top:10px;background:#1f222b}.msp-plugin .msp-viewport-top-left-controls .msp-animation-viewport-controls .msp-animation-viewport-controls-select .msp-control-row:first-child{margin-top:0}.msp-plugin .msp-selection-viewport-controls{position:relative;margin:10px auto 0;width:430px}.msp-plugin .msp-selection-viewport-controls-actions{position:absolute;width:100%;top:32px;background:#1f222b}.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-btn,.msp-plugin .msp-selection-viewport-controls>.msp-state-image-row .msp-btn,.msp-plugin .msp-selection-viewport-controls>.msp-flex-row .msp-control-row button,.msp-plugin .msp-control-row .msp-selection-viewport-controls>.msp-flex-row button,.msp-plugin .msp-selection-viewport-controls>.msp-state-image-row .msp-control-row button,.msp-plugin .msp-control-row .msp-selection-viewport-controls>.msp-state-image-row button{padding:0 5px}.msp-plugin .msp-selection-viewport-controls select.msp-form-control,.msp-plugin .msp-selection-viewport-controls select.msp-btn,.msp-plugin .msp-selection-viewport-controls .msp-control-row select,.msp-plugin .msp-control-row .msp-selection-viewport-controls select{padding:0 5px;text-align:center;background:#0c0d11;flex:0 0 80px;text-overflow:ellipsis}.msp-plugin .msp-param-object-list-item{margin-top:1px;position:relative}.msp-plugin .msp-param-object-list-item>button{text-align:left}.msp-plugin .msp-param-object-list-item>button>span{font-weight:700}.msp-plugin .msp-param-object-list-item>div{position:absolute;right:0;top:0}.msp-plugin .msp-state-actions .msp-transform-wrapper:last-child{margin-bottom:10px}.msp-plugin .msp-button-row{display:flex;flex-direction:row;height:32px;width:inherit}.msp-plugin .msp-button-row>button{margin:0 1px 0 0;flex:1 1 auto;height:32px;text-align-last:center;background:none;padding:0 10px;overflow:hidden}.msp-plugin .msp-action-menu-options-no-header,.msp-plugin .msp-action-menu-options .msp-control-group-children{max-height:300px;overflow:hidden;overflow-y:auto}.msp-plugin .msp-action-menu-options .msp-control-row,.msp-plugin .msp-action-menu-options button,.msp-plugin .msp-action-menu-options .msp-icon,.msp-plugin .msp-action-menu-options .msp-flex-row,.msp-plugin .msp-action-menu-options .msp-state-image-row{height:24px;line-height:24px}.msp-plugin .msp-action-menu-options button{text-align:left}.msp-plugin .msp-action-menu-options .msp-action-menu-button{margin-top:1px;display:flex}.msp-plugin .msp-action-menu-options .msp-action-menu-button .msp-icon{margin-right:6px}.msp-plugin .msp-representation-entry{position:relative}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn,.msp-plugin .msp-control-row .msp-representation-entry>.msp-control-group-header>button{font-weight:700}.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-icon,.msp-plugin .msp-representation-entry>.msp-control-group-header>.msp-btn-link{line-height:24px;height:24px}.msp-plugin .msp-control-group-presets-wrapper{position:absolute;right:0;top:0}.msp-plugin .msp-control-group-presets-wrapper .msp-control-group-header{background:transparent}.msp-plugin .msp-control-group-presets-wrapper button{background:transparent!important}.msp-plugin .msp-parameter-matrix input{flex:1 1 auto;min-width:0}.msp-plugin .msp-btn-apply-simple{text-align:left}.msp-plugin .msp-btn-apply-simple .msp-icon{margin-right:10px}.msp-plugin .msp-type-class-Root{border-left-color:#111318}.msp-plugin .msp-type-class-Group{border-left-color:#d67118}.msp-plugin .msp-type-class-Data{border-left-color:#6d8082}.msp-plugin .msp-type-class-Object{border-left-color:#25a25a}.msp-plugin .msp-type-class-Representation3D{border-left-color:#258cd1}.msp-plugin .msp-type-class-Behavior{border-left-color:#804399}.msp-plugin .msp-accent-color-cyan{color:#6d8082}.msp-plugin .msp-accent-bg-cyan{background:#6d8082}.msp-plugin .msp-transform-header-brand-cyan{border-bottom:1px solid #6d8082}.msp-plugin .msp-transform-header-brand-cyan:active,.msp-plugin .msp-transform-header-brand-cyan:focus{border-bottom:1px solid #6d8082}.msp-plugin .msp-accent-color-red{color:#bf2718}.msp-plugin .msp-accent-bg-red{background:#bf2718}.msp-plugin .msp-transform-header-brand-red{border-bottom:1px solid #bf2718}.msp-plugin .msp-transform-header-brand-red:active,.msp-plugin .msp-transform-header-brand-red:focus{border-bottom:1px solid #bf2718}.msp-plugin .msp-accent-color-gray{color:#22303d}.msp-plugin .msp-accent-bg-gray{background:#22303d}.msp-plugin .msp-transform-header-brand-gray{border-bottom:1px solid #22303d}.msp-plugin .msp-transform-header-brand-gray:active,.msp-plugin .msp-transform-header-brand-gray:focus{border-bottom:1px solid #22303d}.msp-plugin .msp-accent-color-green{color:#25a25a}.msp-plugin .msp-accent-bg-green{background:#25a25a}.msp-plugin .msp-transform-header-brand-green{border-bottom:1px solid #25a25a}.msp-plugin .msp-transform-header-brand-green:active,.msp-plugin .msp-transform-header-brand-green:focus{border-bottom:1px solid #25a25a}.msp-plugin .msp-accent-color-purple{color:#804399}.msp-plugin .msp-accent-bg-purple{background:#804399}.msp-plugin .msp-transform-header-brand-purple{border-bottom:1px solid #804399}.msp-plugin .msp-transform-header-brand-purple:active,.msp-plugin .msp-transform-header-brand-purple:focus{border-bottom:1px solid #804399}.msp-plugin .msp-accent-color-blue{color:#258cd1}.msp-plugin .msp-accent-bg-blue{background:#258cd1}.msp-plugin .msp-transform-header-brand-blue{border-bottom:1px solid #258cd1}.msp-plugin .msp-transform-header-brand-blue:active,.msp-plugin .msp-transform-header-brand-blue:focus{border-bottom:1px solid #258cd1}.msp-plugin .msp-accent-color-orange{color:#d67118}.msp-plugin .msp-accent-bg-orange{background:#d67118}.msp-plugin .msp-transform-header-brand-orange{border-bottom:1px solid #d67118}.msp-plugin .msp-transform-header-brand-orange:active,.msp-plugin .msp-transform-header-brand-orange:focus{border-bottom:1px solid #d67118}.msp-plugin .msp-volume-channel-inline-controls>:first-child{position:absolute;left:0;top:0;height:32px;right:32px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:first-child{right:42px}.msp-plugin .msp-volume-channel-inline-controls .msp-slider>div:last-child{width:30px}.msp-plugin .msp-volume-channel-inline-controls>button{position:absolute;right:0;width:32px;top:0;padding:0}.msp-plugin .msp-volume-channel-inline-controls>button .msp-material-icon{margin-right:0}.msp-plugin .msp-list-unstyled{padding-left:0;list-style:none}.msp-plugin .msp-drag-drop-overlay{border:12px dashed #ccd4e0;background:#0000005c;display:flex;align-items:center;justify-content:center;position:absolute;inset:0;font-size:48px;font-weight:700}.msp-plugin .msp-task-state{line-height:32px}.msp-plugin .msp-task-state>span{-webkit-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-overlay-tasks{position:absolute;display:flex;inset:0;height:100%;width:100%;z-index:1000;justify-content:center;align-items:center;background:#00000040}.msp-plugin .msp-overlay-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#111318}.msp-plugin .msp-overlay-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#111318;position:absolute}.msp-plugin .msp-overlay-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-background-tasks{position:absolute;left:0;bottom:0;z-index:1000}.msp-plugin .msp-background-tasks .msp-task-state>div{height:32px;margin-top:1px;position:relative;width:100%;background:#111318}.msp-plugin .msp-background-tasks .msp-task-state>div>div{height:32px;line-height:32px;display:inline-block;padding:0 10px;-webkit-user-select:none;-o-user-select:none;user-select:none;cursor:default;white-space:nowrap;background:#111318;position:absolute}.msp-plugin .msp-background-tasks .msp-task-state>div>button{display:inline-block;margin-top:-3px}.msp-plugin .msp-viewport{position:absolute;inset:0;background:#111318}.msp-plugin .msp-viewport .msp-btn-link{background:#0003}.msp-plugin .msp-viewport-expanded{position:fixed;z-index:1000}.msp-plugin .msp-viewport-host3d{position:absolute;inset:0;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;touch-action:manipulation}.msp-plugin .msp-viewport-host3d>canvas{background-color:#111318;background-image:linear-gradient(45deg,lightgrey 25%,transparent 25%,transparent 75%,lightgrey 75%,lightgrey),linear-gradient(45deg,lightgrey 25%,transparent 25%,transparent 75%,lightgrey 75%,lightgrey);background-size:60px 60px;background-position:0 0,30px 30px}.msp-plugin .msp-viewport-controls{position:absolute;right:10px;top:10px;width:32px}.msp-plugin .msp-viewport-controls-buttons{text-align:right;position:relative}.msp-plugin .msp-viewport-controls-buttons>div{position:relative;margin-bottom:4px}.msp-plugin .msp-viewport-controls-buttons button{padding:0;text-align:center;width:32px;position:relative}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link-toggle-off{color:#637ca0}.msp-plugin .msp-viewport-controls-buttons .msp-btn-link:hover{color:#51a2fb}.msp-plugin .msp-semi-transparent-background{background:#111318;opacity:.5;position:absolute;top:0;left:0;width:100%;height:100%}.msp-plugin .msp-hover-box-wrapper{position:relative}.msp-plugin .msp-hover-box-wrapper .msp-hover-box-body{visibility:hidden;position:absolute;right:36px;top:0;width:100px;background-color:#111318}.msp-plugin .msp-hover-box-wrapper .msp-hover-box-spacer{visibility:hidden;position:absolute;right:32px;top:0;width:4px;height:32px}.msp-plugin .msp-hover-box-wrapper:hover .msp-hover-box-body,.msp-plugin .msp-hover-box-wrapper:hover .msp-hover-box-spacer{visibility:visible}.msp-plugin .msp-viewport-controls-panel{width:290px;top:0;right:36px;position:absolute;background:#1f222b}.msp-plugin .msp-viewport-controls-panel .msp-control-group-wrapper:first-child{padding-top:0}.msp-plugin .msp-viewport-controls-panel .msp-viewport-controls-panel-controls{overflow-y:auto;max-height:400px}.msp-plugin .msp-highlight-toast-wrapper{position:absolute;right:10px;bottom:10px;max-width:95%;z-index:10000}.msp-plugin .msp-highlight-info{color:#51a2fb;padding:3px 10px;background:#111318;opacity:90%;max-width:400px;-webkit-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-highlight-markdown-row{padding-left:10px}.msp-plugin .msp-highlight-simple-row{text-align:right}.msp-plugin .msp-highlight-info-hr{margin-inline:0px;margin-block:3px;border:none;height:1px;background-color:#51a2fb}.msp-plugin .msp-highlight-info-additional{font-size:85%;display:inline-block;color:#056ee1}.msp-plugin .msp-snapshot-description-wrapper{background:#11131880;position:absolute;left:0;top:42px;padding:6.6px 10px;max-height:224px;overflow:hidden;overflow-y:auto;max-width:400px}.msp-plugin .msp-snapshot-description-wrapper a{text-decoration:underline;cursor:pointer;color:#ccd4e0}.msp-plugin .msp-snapshot-description-wrapper ul,.msp-plugin .msp-snapshot-description-wrapper ol{padding-left:14px}.msp-plugin .msp-log-wrap{position:absolute;inset:0;overflow:hidden}.msp-plugin .msp-log{position:absolute;inset:0 -20px 0 0;overflow-y:scroll;overflow-x:hidden;font-size:90%;background:#1f222b}.msp-plugin .msp-log{font-size:90%;color:#bcc7d6}.msp-plugin .msp-log ul{padding:0;margin:0}.msp-plugin .msp-log li{clear:both;margin:0;background:#111318;position:relative}.msp-plugin .msp-log li:not(:last-child){border-bottom:1px solid #313645}.msp-plugin .msp-log .msp-log-entry{margin-left:110px;background:#14171c;padding:3px 25px 3px 10px}.msp-plugin .msp-log .msp-log-timestamp{padding:3px 10px;float:left;text-align:right;width:110px;color:#8d9fb9;font-size:100%}.msp-plugin .msp-log .msp-log-timestamp small{font-size:100%}.msp-plugin .msp-log .label{margin-top:-3px;font-size:7pt}.msp-plugin .msp-log-entry-badge{position:absolute;left:0;top:0;bottom:0;width:6px}.msp-plugin .msp-log-entry-message{background:#0cca5d}.msp-plugin .msp-log-entry-info{background:#5e3673}.msp-plugin .msp-log-entry-error{background:#fd354b}.msp-plugin .msp-log-entry-warning{background:#fcc937}.msp-plugin .msp-sequence{position:absolute;inset:0;background:#111318}.msp-plugin .msp-sequence-select{position:relative;height:24px;width:100%;margin-bottom:1px;background:#1f222b;text-align:left}.msp-plugin .msp-sequence-select>span{display:inline-block;line-height:24px;padding:0 10px;font-size:85%;font-weight:700;cursor:default}.msp-plugin .msp-sequence-select>select{display:inline-block;max-width:120px;width:auto;text-overflow:ellipsis;font-size:85%;height:24px;line-height:24px;background-size:6px 8px;background-color:#1f222b}.msp-plugin .msp-sequence-wrapper{word-break:break-word;padding:10px 10px 3px;-webkit-user-select:none;user-select:none}.msp-plugin .msp-sequence-wrapper-non-empty{font-size:85%;line-height:180%;font-family:Courier New,monospace;background:#0c0d11;width:100%;overflow-y:auto;overflow-x:hidden;position:absolute;inset:25px 0 0}.msp-plugin .msp-sequence-chain-label{margin-left:10px;margin-top:10px;-webkit-user-select:none;user-select:none;color:#51a2fb;font-size:90%;line-height:90%;padding-left:.2em}.msp-plugin .msp-sequence-wrapper span{cursor:pointer}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long{margin:0 .2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-residue-long-begin{margin:0 .2em 0 0}.msp-plugin .msp-sequence-wrapper .msp-sequence-label{color:#51a2fb;font-size:90%;line-height:90%;padding-bottom:1em;padding-left:.2em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number{color:#51a2fb;word-break:keep-all;cursor:default;position:relative;top:-1.1em;left:3.1em;padding:0;margin-left:-3em;font-size:80%}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long{left:3.3em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-long-negative{left:2.7em}.msp-plugin .msp-sequence-wrapper .msp-sequence-number-negative{left:2.5em}.msp-plugin .msp-sequence-wrapper .msp-sequence-present{color:#ccd4e0}.msp-plugin .msp-sequence-wrapper .msp-sequence-missing{color:#637ca0}.msp-plugin .msp-transformer .msp-entity-badge{position:absolute;top:0;right:0;height:32px;line-height:32px;width:32px}.msp-plugin .msp-layout-right,.msp-plugin .msp-layout-left{background:#1f222b}.msp-plugin .msp-transformer-wrapper{position:relative}.msp-plugin .msp-transformer-wrapper .msp-entity-badge{left:0;top:0}.msp-plugin .msp-transformer-wrapper:first-child .msp-panel-description-content{top:33px}.msp-plugin .msp-transformer-wrapper:not(:first-child) .msp-panel-description-content{bottom:33px}.msp-plugin .msp-transform-wrapper{margin-bottom:10px}.msp-plugin .msp-transform-wrapper-collapsed,.msp-plugin .msp-transform-update-wrapper,.msp-plugin .msp-transform-update-wrapper-collapsed{margin-bottom:1px}.msp-plugin .msp-transform-update-wrapper>.msp-transform-header>button,.msp-plugin .msp-transform-update-wrapper-collapsed>.msp-transform-header>button{text-align:left;padding-left:32px;line-height:24px;background:#16191f}.msp-plugin .msp-transform-wrapper>.msp-transform-header>button{text-align:left;background:#111318;font-weight:700;padding-right:5px}.msp-plugin .msp-transform-header{position:relative}.msp-plugin .msp-transform-header>button>small{font-weight:400;float:right}.msp-plugin .msp-transform-header>button>span:first-child{margin-right:10px}.msp-plugin .msp-transform-header>button:hover{color:#9cacc3}.msp-plugin .msp-transform-header-brand{margin-bottom:-1px}.msp-plugin .msp-transform-header-brand svg{fill:#ccd4e0;stroke:#ccd4e0}.msp-plugin .msp-transform-default-params{background:#111318;position:absolute;left:0;top:0;width:32px;padding:0}.msp-plugin .msp-transform-default-params:hover{background:#000}.msp-plugin .msp-transform-apply-wrap{position:relative;margin-top:1px;width:100%;height:32px}.msp-plugin .msp-transform-refresh{width:87px;margin-left:33px;background:#111318;text-align:right}.msp-plugin .msp-transform-apply{display:block;position:absolute;left:120px;right:0;top:0}.msp-plugin .msp-transform-apply-wider{margin-left:33px}.msp-plugin .msp-data-beh{margin:10px 0!important}.msp-plugin .msp-toast-container{position:relative;z-index:1001}.msp-plugin .msp-toast-container .msp-toast-entry{color:#ccd4e0;background:#1f222b;position:relative;float:right;min-height:32px;margin-top:10px;border:1px solid #313645;display:table}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-title{height:100%;line-height:32px;padding:0 10px;background:#111318;font-weight:700;display:table-cell;-webkit-user-select:none;-o-user-select:none;user-select:none;font-weight:light;cursor:pointer}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message{padding:3px 42px 3px 10px;display:table-cell}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a{text-decoration:none;color:#68befd;font-weight:700}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:hover{text-decoration:underline;color:#0393fc}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:active,.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-message a:focus{color:#68befd;outline-offset:0;outline:none}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide{position:absolute;width:42px;right:0;top:0;bottom:0}.msp-plugin .msp-toast-container .msp-toast-entry .msp-toast-hide .msp-btn-icon{background:transparent;position:absolute;inset:1px 0 0;width:100%;text-align:right;padding-right:5px}.msp-plugin .msp-help-row{position:relative;height:32px;background:#111318;margin-top:1px;display:table;width:100%}.msp-plugin .msp-help-row>span{width:120px;text-align:right;padding:3px 10px;color:#9cacc3;display:table-cell;font-weight:700;-webkit-user-select:none;-o-user-select:none;user-select:none;cursor:default}.msp-plugin .msp-help-row>div{background:#0c0d11;position:relative;padding:3px 10px;display:table-cell}.msp-plugin .msp-canvas{width:100%;height:100%;background-color:#f3f2ee}.msp-plugin .msp-canvas text{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.msp-plugin .msp-canvas circle{stroke:#000;stroke-width:10;stroke-opacity:.3}.msp-plugin .msp-canvas circle:hover{fill:#ae5d04;stroke:#000;stroke-width:10px}.msp-plugin .msp-canvas .info{fill:#fff;stroke:#000;stroke-width:3}.msp-plugin .msp-canvas .show{visibility:visible}.msp-plugin .msp-canvas .hide{visibility:hidden}.msp-plugin .msp-canvas .delete-button rect{fill:#ed4337;stroke:#000}.msp-plugin .msp-canvas .delete-button text{stroke:#fff;fill:#fff}.msp-plugin .msp-canvas .delete-button:hover{stroke:#000;stroke-width:3;fill:#ff6961}.msp-plugin .msp-canvas .infoCircle:hover{fill:#4c66b2}.msp-plugin .msp-canvas:focus{outline:none}.msp-plugin .msp-logo{display:block;position:absolute;bottom:10px;right:10px;height:32px;width:100px;background-repeat:no-repeat;background-position:bottom right;background-size:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAgCAYAAABn7+QVAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAACHDwAAjA8AAP1SAACBQAAAfXkAAOmLAAA85QAAGcxzPIV3AAAKL2lDQ1BJQ0MgUHJvZmlsZQAASMedlndUVNcWh8+9d3qhzTACUobeu8AA0nuTXkVhmBlgKAMOMzSxIaICEUVEmiJIUMSA0VAkVkSxEBRUsAckCCgxGEVULG9G1ouurLz38vL746xv7bP3ufvsvc9aFwCSpy+XlwZLAZDKE/CDPJzpEZFRdOwAgAEeYIApAExWRrpfsHsIEMnLzYWeIXICXwQB8HpYvAJw09AzgE4H/5+kWel8geiYABGbszkZLBEXiDglS5Auts+KmBqXLGYYJWa+KEERy4k5YZENPvsssqOY2ak8tojFOaezU9li7hXxtkwhR8SIr4gLM7mcLBHfErFGijCVK+I34thUDjMDABRJbBdwWIkiNhExiR8S5CLi5QDgSAlfcdxXLOBkC8SXcklLz+FzExIFdB2WLt3U2ppB9+RkpXAEAsMAJiuZyWfTXdJS05m8HAAW7/xZMuLa0kVFtjS1trQ0NDMy/apQ/3Xzb0rc20V6Gfi5ZxCt/4vtr/zSGgBgzIlqs/OLLa4KgM4tAMjd+2LTOACApKhvHde/ug9NPC+JAkG6jbFxVlaWEZfDMhIX9A/9T4e/oa++ZyQ+7o/y0F058UxhioAurhsrLSVNyKdnpDNZHLrhn4f4Hwf+dR4GQZx4Dp/DE0WEiaaMy0sQtZvH5gq4aTw6l/efmvgPw/6kxbkWidL4EVBjjIDUdSpAfu0HKAoRINH7xV3/o2+++DAgfnnhKpOLc//vN/1nwaXiJYOb8DnOJSiEzhLyMxf3xM8SoAEBSAIqkAfKQB3oAENgBqyALXAEbsAb+IMQEAlWAxZIBKmAD7JAHtgECkEx2An2gGpQBxpBM2gFx0EnOAXOg0vgGrgBboP7YBRMgGdgFrwGCxAEYSEyRIHkIRVIE9KHzCAGZA+5Qb5QEBQJxUIJEA8SQnnQZqgYKoOqoXqoGfoeOgmdh65Ag9BdaAyahn6H3sEITIKpsBKsBRvDDNgJ9oFD4FVwArwGzoUL4B1wJdwAH4U74PPwNfg2PAo/g+cQgBARGqKKGCIMxAXxR6KQeISPrEeKkAqkAWlFupE+5CYyiswgb1EYFAVFRxmibFGeqFAUC7UGtR5VgqpGHUZ1oHpRN1FjqFnURzQZrYjWR9ugvdAR6AR0FroQXYFuQrejL6JvoyfQrzEYDA2jjbHCeGIiMUmYtZgSzD5MG+YcZhAzjpnDYrHyWH2sHdYfy8QKsIXYKuxR7FnsEHYC+wZHxKngzHDuuCgcD5ePq8AdwZ3BDeEmcQt4Kbwm3gbvj2fjc/Cl+EZ8N/46fgK/QJAmaBPsCCGEJMImQiWhlXCR8IDwkkgkqhGtiYFELnEjsZJ4jHiZOEZ8S5Ih6ZFcSNEkIWkH6RDpHOku6SWZTNYiO5KjyALyDnIz+QL5EfmNBEXCSMJLgi2xQaJGokNiSOK5JF5SU9JJcrVkrmSF5AnJ65IzUngpLSkXKabUeqkaqZNSI1Jz0hRpU2l/6VTpEukj0lekp2SwMloybjJsmQKZgzIXZMYpCEWd4kJhUTZTGikXKRNUDFWb6kVNohZTv6MOUGdlZWSXyYbJZsvWyJ6WHaUhNC2aFy2FVko7ThumvVuitMRpCWfJ9iWtS4aWzMstlXOU48gVybXJ3ZZ7J0+Xd5NPlt8l3yn/UAGloKcQqJClsF/hosLMUupS26WspUVLjy+9pwgr6ikGKa5VPKjYrzinpKzkoZSuVKV0QWlGmabsqJykXK58RnlahaJir8JVKVc5q/KULkt3oqfQK+m99FlVRVVPVaFqveqA6oKatlqoWr5am9pDdYI6Qz1evVy9R31WQ0XDTyNPo0XjniZek6GZqLlXs09zXktbK1xrq1an1pS2nLaXdq52i/YDHbKOg84anQadW7oYXYZusu4+3Rt6sJ6FXqJejd51fVjfUp+rv09/0ABtYG3AM2gwGDEkGToZZhq2GI4Z0Yx8jfKNOo2eG2sYRxnvMu4z/mhiYZJi0mhy31TG1Ns037Tb9HczPTOWWY3ZLXOyubv5BvMu8xfL9Jdxlu1fdseCYuFnsdWix+KDpZUl37LVctpKwyrWqtZqhEFlBDBKGJet0dbO1husT1m/tbG0Edgct/nN1tA22faI7dRy7eWc5Y3Lx+3U7Jh29Xaj9nT7WPsD9qMOqg5MhwaHx47qjmzHJsdJJ12nJKejTs+dTZz5zu3O8y42Lutczrkirh6uRa4DbjJuoW7Vbo/c1dwT3FvcZz0sPNZ6nPNEe/p47vIc8VLyYnk1e816W3mv8+71IfkE+1T7PPbV8+X7dvvBft5+u/0erNBcwVvR6Q/8vfx3+z8M0A5YE/BjICYwILAm8EmQaVBeUF8wJTgm+Ejw6xDnkNKQ+6E6ocLQnjDJsOiw5rD5cNfwsvDRCOOIdRHXIhUiuZFdUdiosKimqLmVbiv3rJyItogujB5epb0qe9WV1QqrU1afjpGMYcaciEXHhsceiX3P9Gc2MOfivOJq42ZZLqy9rGdsR3Y5e5pjxynjTMbbxZfFTyXYJexOmE50SKxInOG6cKu5L5I8k+qS5pP9kw8lf0oJT2lLxaXGpp7kyfCSeb1pymnZaYPp+umF6aNrbNbsWTPL9+E3ZUAZqzK6BFTRz1S/UEe4RTiWaZ9Zk/kmKyzrRLZ0Ni+7P0cvZ3vOZK577rdrUWtZa3vyVPM25Y2tc1pXvx5aH7e+Z4P6hoINExs9Nh7eRNiUvOmnfJP8svxXm8M3dxcoFWwsGN/isaWlUKKQXziy1XZr3TbUNu62ge3m26u2fyxiF10tNimuKH5fwiq5+o3pN5XffNoRv2Og1LJ0/07MTt7O4V0Ouw6XSZfllo3v9tvdUU4vLyp/tSdmz5WKZRV1ewl7hXtHK30ru6o0qnZWva9OrL5d41zTVqtYu712fh9739B+x/2tdUp1xXXvDnAP3Kn3qO9o0GqoOIg5mHnwSWNYY9+3jG+bmxSaips+HOIdGj0cdLi32aq5+YjikdIWuEXYMn00+uiN71y/62o1bK1vo7UVHwPHhMeefh/7/fBxn+M9JxgnWn/Q/KG2ndJe1AF15HTMdiZ2jnZFdg2e9D7Z023b3f6j0Y+HTqmeqjkte7r0DOFMwZlPZ3PPzp1LPzdzPuH8eE9Mz/0LERdu9Qb2Dlz0uXj5kvulC31OfWcv210+dcXmysmrjKud1yyvdfRb9Lf/ZPFT+4DlQMd1q+tdN6xvdA8uHzwz5DB0/qbrzUu3vG5du73i9uBw6PCdkeiR0TvsO1N3U+6+uJd5b+H+xgfoB0UPpR5WPFJ81PCz7s9to5ajp8dcx/ofBz++P84af/ZLxi/vJwqekJ9UTKpMNk+ZTZ2adp++8XTl04ln6c8WZgp/lf619rnO8x9+c/ytfzZiduIF/8Wn30teyr889GrZq565gLlHr1NfL8wXvZF/c/gt423fu/B3kwtZ77HvKz/ofuj+6PPxwafUT5/+BQOY8/xvJtwPAAAACXBIWXMAAC4iAAAuIgGq4t2SAAANMElEQVRoQ92aB1xURx7H/69sY5eOFBELCipESsSC0RCMJRZMrICHGiMmGjWaqDk7YEsuGok5TS6xi56KGtsFG6jBiAYLKhqVc8GGBZG+fd97N+/twNJWFksS7/v5DG/nN/OG/fze/838Z4CA/wMCE9d9W8oQ3mUMBSojBTqWAuBQAweHIC56lanXHw8xJixM6qhQNcX1KuQykluyKzMPVxvF5XUh3hIpgFSiQz8AJBItSKU6sCsX55P9byLxxRKwYl3W5O6dg5o62IMRmcpyBBz87wNYcyH3R4iL+gh3+8MhHaTqYJKUKO2dPYTigIqza1MlLZLnzh3arQ/uZzVn14YOIGRyJWXrqgR5U6VI1kRJS92VBEEry+wrAnC3F04XL3cY4OMF7/p6weC2zSDQzQG3/IlM7dspdPmU0VxtLqYf5haM6HYOBYLVUwcXByQy92JxXioexUzFhT5cySn3TrjrC4WP3EsPHuPfZGJVZg4HCdt/wF0aT8LWUHT/jTpl4fZU3KNBSHytQ0D33uDR0qfjoqg3hmOpQU65d4u2cW4X6NCyJ1ZeIeKSFRC3p1q4kzYdmzr6Zk98p6rsj+rhi0KoFe5gIm53M/ypDhbNJQgC3kbTFUGSi+LiwmgsWyQ5zk9McESCZ8gEVHvF1kneWJI5CJT2SHWDbUQ0vNbEvqr4OClwCyZ+RzSQ+psomqOwUgOL5vL4BIdCi/aBvtJb3AdYsoirs0usnWfH1vbNOmPlFWHmWlve2DFB3t0nhvh0qm2wRRZuG+ksFyUlDe4qcbYRJ0H8v6NxSxVPNZcnPPJDIAlY8PWnXWVYqsPhZb3lDAfzW3T50xbmZ+MfyFhbRcr7yNj1EZ1gdb+O8DFvMKk7it4+ywYjY11k0s1po8KpmA4tITUmnHaWS5HBKJKr0aC5zXw6QJvgNzyhXDIZS3UgCN3UJq3fdLd188PKs3H8+Bjpvn2x/jv2TwnbsOezt3/YPavTss3TXXHzi4U3Vic/+H5gq+7rkLEkmgb5yWwVb3CnNiFAcD+aOtaGaMobmzrqLaoyIwlC11RkNB/JvPGCiGjQXJ43h8QCSRGzEqeG1Xmah77u48QCPdM7NBYrjSPveJg069i7H2UcjUpndWSZrZ3bFRfHlic8nL1TnezcM2Vyh0dLtsbnzdu8JHHW5qVt8G3Pj9qOT4RYluOE/UYllQZPCvFxMik1cbGRSKsbWwlKUPhxhDGxZJ25Ls28oX2X3k60HmZiqQqDTj+rqX8fB7lTC6xYT2569zA9Jb5m7xz8r3aB03uE9fpOFP7WYujZ/TPo22MSDOs1FT4ePBfG9ZvQsod/12kUJf190prli4YnJ6Mt2HOSMKICGLL/5su3Tn6wPxMYZE4lvMH/RAZP6NjaJGBsJSJIi3mrTg6d9bAYem05YSxS6WJgQdR2LFtnLk9oxFigRaKpq2aEuWMJDizu6UlQosltuo3FivU8zgyOkEhkRzz941u2CogDxyYhgMzDrWb4rMXN0Q36vN4TZr43XuTt0WyeoiR/MwqV509JqgzOSx+77zcw8nGM4UMx2r+5qYJpqpByHVztcc3E+QdFXJWx8dE78MgCDaZYldi5eIB/jwj577/+NB9VJ/GajmHj2nYZKpPZNW5aVJ9v2ULDwlaXdsvFYlvzpo1l9PD4yXUoKStAY3MgFjuAexNvcFA4C+32NgqY3HcofHFg18ioH1adRSHyjdBgCQJaQ/y2SFyzAIMKuSkp+1YAepIOGwZ1Bgo9UGu4gCK2z9ZfoEit3yMI1X8XxZwh+B2al2/7jOnfbsKqGaNeB7RYgmsAmvJi2LHkbwaC0baXyElKKpVe7f/JVlpsY4978Abp0PxsvqcSVVZfMGoud3Z44+HZ8vOeG2m3GWOkntNwK8CTgky4eiWJK9fqflUZJRe0jFirZmgvDSPu29or2PmdzhEgpkVC3/ziIpiRvL1ETUua74+NLed3aEnRg4IC3F2Edp6DNx/AmqxcXLMeFK0w3M8L1yxToTfCtCNZUKTRY8VMZv4TyC/VxFiM3OM7N0BudiaMW/g9VgBkto7QIWyYKDstaSEYGdo3dEQNY/n5/EbKJHBq2QPcOozBWk24K00UGgM3QuI2GisA5cVXIOdyYqHeKBo0cEDSaSwLLNu8TJ5968o6LQORI3oMETRPRycI9GrhkHH7Di/UjQpEvzYeQnlZKMQ0rB1Y/25+xO4M2Fl61/KcazTo4W5ONuRcOIUVEx3CI0Fqax8lljsO9w2tuTMuyksHVcHvwKHX2xIcU9aFsgmQEbR5MX50aztQYJzWu19NY3lmjp6pekIrxmbfvv6woLQQqwCBzZujn0SYqfbX5KkLGprVL51IXgMcW5VdgFgqh4DwkaR/WAxBi837Co5j4Hbmj3wucglL9cJy4ENKzRkVf5+q9Bqnpol9WKpDYuR0DfoKabcL8rGCotfBEQ0GLy41ewk81VyWIfYV3lNmXj2NNizVaNvtPfBBc2B1Hl07BKqi2xkkyf0HSxYg0D7eFn9G5rJ69EAYfXj4zgos1QtaYoq16G2qRCYWA0dw5oFqcb9cAyfvPG50ufq4FI/wdPg5t777+VKoNh1ZPzVbIAiWIwl69qm9G9Lad+kJFF5QKFosXCthjXrI/W0jsCw5G62+Tz0D5p8mU3sxrp7FWwClZKYcHWMawvKqvuf6PZh86HwBusW6VY0g/FzlEru0mHAsPB05mnN3X7sHKzNz+K91Df2o+VQIorDBVGz2lpPHvhobdvRy+v7ewT2HYrUmdy/tBU3po5Ren55MP7e+a6MP2F8aHLHXqr9ExO8Y46oQr08bFS6cflkD/1gT+wYLH1aeydGCSD8Q5ox5Ymo1YdUmgqTI2ZkpWziDToMVM0adCpRntrAERc/B0qvFImSsrWAsWdvYx/j1rkRtYNBGo+bbk9gnGKZ19Q0GgzgVlm4yJeQYq8ydsfb4eW158a6LaTuxYkaZuQN0mrLtb39y/KkL2V+Shdved7URrz9Wj7Fn7xfBuAOZuGbiTqkKRu09Y8HgtkFg5A3+qcpgq8zloUT0vItpyUZthXlq0amKQfnbTgNw5AIsvTos3o2SYGL10vAA0r8eY/mdV4nWgBUz26/eqWMwz7JeQeDrbIcM1idgyXpzp6xOyzHoVBuyUrdiBeD6ySQw6DVr+n9+XImlBmE5ggHOiGs8wleg0G7e8urEQwBNEuavywjpYY2BGse8oQ9QHjgM7bK0/ApfiWDslhOGEq1+NZZqwnH526/cOVbdYP7K13OelKcBY/O5ICKsNpeHFJMJ1zL2aVQlBaAqfgDKswdUKIFYhJutAqVqDznDI1xDdbRVFkkc6YzDQ9piqX448HNSmE+jitVq/mkU4OqzERd9sEJnGNJ/W7pgcGalsTp9FDLRdF5QGwJ0wNpEoAhOi0GGao0M8Fe+DkzpIEgYpMY9G2fuxMRj+axBvyrryEbITtsIjNGwcuDnvzzEzVahJ+gsVnURfTK/Vg6uYUDSNH8gVG/0Ltqy6E2FVNajjYf5WFNZ8AhQcvb88zxvsIEZzBvcV4hYYyQsiP4Jt9YPbyAycgcytM2qn4G/moz9qMpYnkaZK0CIv8y9cKQk72JqkYqAZVi1GmlAxXVGX3DdWHYGKwDurSLBxrb1yLRDo/ftTxkflpQyxW5lyhTJ97vm+azYNneWiCJ+HtxtICnCeTZ/wH0m9yaQHHNAEJ6X+ZGHeINLtLpIiIusP2JrwxspJyLyyzVL+WttY3kabe74xCNFBMd+xXDcl2MTfinBcqPggP5Kfe+bqimTomTwWkg8tPaNjLC3bX5CxtKljjqxViGzyfFrFfTFB/3GK3w9zTvd49eyobCsNGPvlCl1ziKeGWQwxI2sYWx2QamwsFWWcQfO4hbM9EgNLIiaK1zrofGRy8PQ34o1mmf+Hyz5/nub9Kprh4qVS4WzBR6SFEOLVv3hze7zYOiAFTDqveUQ03829O0yDJrYm8+Lr9+/AztOn1SxHPNy/xoqklxEi9qAo7kPq0rGvcIBaOIah3s0yDOZO/rro6rIxDP1Pi1rIBKABb3tiIqCw0fzL38GmvKbuMUyOoMODmf9Ct8d3l3CsfpByR9Pu4KbXg5zhjxBUZlSp8yPPoF7NIhwWG5jb5/h16kbltBrShLw+K4SCvOVCYt2no7HslWg7e9iW5fWcxVNvIGmGVMRGYEoO4zmykLhsBx3heTk4VSgW+lENSObQ8n9POSOHUEi90L97dHOlQKtXg9FFSVwu+A+XLmbx5Tp2F1qhvr7d7Ezb+MhBPjD8tdbNA+SSGSgYwmUGpFwo7AczuYX/an/iEdM6B3qKqbZAbguIKJQEZEosYSLi3efzsKyVZxd3/V1Cc0FisQMGsMAUqkBXfXoqgXChjlgF/LAfCiLOXfuQ5G2tDRcY5CGaRhxO41R4qJlRJSaEZVrjOLbapY6Z9BASkJswn18Sw2CVqx/t5ghncoZElQsBTqm8u+X3A0UaRm48gcD8D/XZskfp8IFSwAAAABJRU5ErkJggg==)}.msp-plugin .msp-plugin-content{color:#ccd4e0}.msp-plugin .msp-plugin-init-error{white-space:pre;margin:10px}\n",".ngx-structure-viewer-container{position:relative;height:100%;width:100%}.ngx-structure-viewer-canvas{position:absolute;height:100%;width:100%;left:0;top:0}\n"],encapsulation:2})}return r})();var th=F(8839),nh=F(1584),rh=F(9172);function sh(r,e){if(1&r&&(W.j41(0,"div",6)(1,"div",7),W.nrm(2,"div",8),W.j41(3,"code",9)(4,"pre",10),W.EFF(5),W.nI1(6,"json"),W.k0s()()()()),2&r){const i=e.$implicit;W.R7$(2),W.xc7("background-color",i.color),W.R7$(3),W.JRh(W.bMT(6,3,i))}}function oh(r,e){if(1&r&&(W.j41(0,"div",0)(1,"div",1)(2,"div",2),W.nrm(3,"ngx-structure-viewer",3),W.k0s()(),W.j41(4,"div",4)(5,"h2"),W.EFF(6,"Color chain"),W.k0s(),W.j41(7,"div",5),W.Z7z(8,sh,7,5,"div",6,W.Vm6),W.k0s()()()),2&r){const i=e,s=W.XpG();W.R7$(3),W.Y8G("settings",s.settings)("source",s.source)("loci",i),W.R7$(5),W.Dyx(i)}}let lh=(()=>{class r{constructor(){this.settings={"background-color":"#2b3035ff","backbone-color":"#6ea8fecc","interaction-color":"#ff0000ff","interaction-size":1},this.source={type:"remote",format:"mmcif",label:"8VAP",binary:!1,link:"assets/8vap.cif"};const i=[{chain:"A",color:"#6f42c1"},{chain:"B",color:"#0d6efd"},{chain:"C",color:"#dc3545"},{chain:"D",color:"#ffc107"},{chain:"E",color:"#28a745"},{chain:"F",color:"#17a2b8"},{chain:"G",color:"#fd7e14"}];this.chains$=function ih(r=0,e=th.E){return r<0&&(r=0),(0,nh.O)(r,r,e)}(3e3).pipe((0,je.T)(()=>i.map(s=>s.color)),(0,je.T)(s=>s.sort(()=>Math.random()-.5)),(0,je.T)(s=>s.map((l,u)=>({...i[u],color:l}))),(0,rh.Z)(i),(0,Dt.t)(1))}static#e=this.\u0275fac=function(s){return new(s||r)};static#t=this.\u0275cmp=W.VBU({type:r,selectors:[["app-section-chains"]],standalone:!0,features:[W.aNF],decls:2,vars:3,consts:[[1,"row","mb-3"],[1,"col-9"],[1,"rounded","squared","overflow-hidden","shadow-sm"],[3,"settings","source","loci"],[1,"col-3","pt-0","p-3"],[1,"d-flex","flex-column","gap-2"],[1,"flex-1"],[1,"d-flex","flex-row","gap-2"],[1,"d-block","flex-shrink-0","p-2"],[1,"bg-body-tertiary","flex-grow-1","p-3"],[1,"m-0"]],template:function(s,l){if(1&s&&(W.DNE(0,oh,10,3,"div",0),W.nI1(1,"async")),2&s){let u;W.vxM(0,(u=W.bMT(1,1,l.chains$))?0:-1,u)}},dependencies:[eh,He.MD,He.Jj,He.TG],changeDetection:0})}return r})();var ah=F(6933);let uh=(()=>{class r{static#e=this.\u0275fac=function(s){return new(s||r)};static#t=this.\u0275cmp=W.VBU({type:r,selectors:[["page-structure-viewer"]],standalone:!0,features:[W.aNF],decls:10,vars:0,consts:[[1,"container","pt-3"],[1,"mb-3"]],template:function(s,l){1&s&&(W.j41(0,"div",0)(1,"div",1)(2,"h1"),W.EFF(3,"Structure viewer"),W.k0s(),W.j41(4,"p"),W.EFF(5," The "),W.j41(6,"b"),W.EFF(7,"ngx-structure-viewer"),W.k0s(),W.EFF(8," is a Mol* wrapper for Angular. It is a viewer for molecular structures and can be used to visualize and interact with 3D molecular structures. It works out of the box with the latest releases of Angular and automatized the most common features of Mol*. "),W.k0s()(),W.nrm(9,"app-section-chains"),W.k0s())},dependencies:[lh,ah.iI,He.MD],styles:[".progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_progress 10s linear infinite;width:0}@keyframes _ngcontent-%COMP%_progress{0%{width:0}to{width:100%}}"]})}return r})()},6216:Zn=>{"use strict";var be=Object.prototype.hasOwnProperty,F=Object.prototype.toString,Le=Object.defineProperty,Lt=Object.getOwnPropertyDescriptor,He=function(fe){return"function"==typeof Array.isArray?Array.isArray(fe):"[object Array]"===F.call(fe)},R=function(fe){if(!fe||"[object Object]"!==F.call(fe))return!1;var Me,Te=be.call(fe,"constructor"),Ne=fe.constructor&&fe.constructor.prototype&&be.call(fe.constructor.prototype,"isPrototypeOf");if(fe.constructor&&!Te&&!Ne)return!1;for(Me in fe);return typeof Me>"u"||be.call(fe,Me)},Nt=function(fe,Te){Le&&"__proto__"===Te.name?Le(fe,Te.name,{enumerable:!0,configurable:!0,value:Te.newValue,writable:!0}):fe[Te.name]=Te.newValue},mt=function(fe,Te){if("__proto__"===Te){if(!be.call(fe,Te))return;if(Lt)return Lt(fe,Te).value}return fe[Te]};Zn.exports=function Ue(){var fe,Te,Ne,Me,qt,Mt,xe=arguments[0],xt=1,Dt=arguments.length,Pe=!1;for("boolean"==typeof xe&&(Pe=xe,xe=arguments[1]||{},xt=2),(null==xe||"object"!=typeof xe&&"function"!=typeof xe)&&(xe={});xt<Dt;++xt)if(null!=(fe=arguments[xt]))for(Te in fe)Ne=mt(xe,Te),xe!==(Me=mt(fe,Te))&&(Pe&&Me&&(R(Me)||(qt=He(Me)))?(qt?(qt=!1,Mt=Ne&&He(Ne)?Ne:[]):Mt=Ne&&R(Ne)?Ne:{},Nt(xe,{name:Te,newValue:Ue(Pe,Mt,Me)})):typeof Me<"u"&&Nt(xe,{name:Te,newValue:Me}));return xe}},1763:Zn=>{var be=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,F=/\n/g,Le=/^\s*/,Lt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,He=/^:\s*/,R=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nt=/^[;\s]*/,mt=/^\s+|\s+$/g;function Mt(xe){return xe?xe.replace(mt,""):""}Zn.exports=function(xe,xt){if("string"!=typeof xe)throw new TypeError("First argument must be a string");if(!xe)return[];xt=xt||{};var Dt=1,Pe=1;function je(we){var Q=we.match(F);Q&&(Dt+=Q.length);var St=we.lastIndexOf("\n");Pe=~St?we.length-St:Pe+we.length}function z(){var we={line:Dt,column:Pe};return function(Q){return Q.position=new De(we),fn(),Q}}function De(we){this.start=we,this.end={line:Dt,column:Pe},this.source=xt.source}De.prototype.content=xe;var jt=[];function ft(we){var Q=new Error(xt.source+":"+Dt+":"+Pe+": "+we);if(Q.reason=we,Q.filename=xt.source,Q.line=Dt,Q.column=Pe,Q.source=xe,!xt.silent)throw Q;jt.push(Q)}function bt(we){var Q=we.exec(xe);if(Q){var St=Q[0];return je(St),xe=xe.slice(St.length),Q}}function fn(){bt(Le)}function wt(we){var Q;for(we=we||[];Q=on();)!1!==Q&&we.push(Q);return we}function on(){var we=z();if("/"==xe.charAt(0)&&"*"==xe.charAt(1)){for(var Q=2;""!=xe.charAt(Q)&&("*"!=xe.charAt(Q)||"/"!=xe.charAt(Q+1));)++Q;if(""===xe.charAt((Q+=2)-1))return ft("End of comment missing");var St=xe.slice(2,Q-2);return Pe+=2,je(St),xe=xe.slice(Q),Pe+=2,we({type:"comment",comment:St})}}function Xn(){var we=z(),Q=bt(Lt);if(Q){if(on(),!bt(He))return ft("property missing ':'");var St=bt(R),Jn=we({type:"declaration",property:Mt(Q[0].replace(be,"")),value:St?Mt(St[0].replace(be,"")):""});return bt(Nt),Jn}}return fn(),function jn(){var Q,we=[];for(wt(we);Q=Xn();)!1!==Q&&(we.push(Q),wt(we));return we}()}},7578:(Zn,be,F)=>{"use strict";var Lt=F(1395),He=F(1605);function R(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nt=new Set,mt={};function Ue(t,n){fe(t,n),fe(t+"Capture",n)}function fe(t,n){for(mt[t]=n,t=0;t<n.length;t++)Nt.add(n[t])}var Te=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ne=Object.prototype.hasOwnProperty,Me=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qt={},Mt={};function Pe(t,n,o,a,d,m,v){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=m,this.removeEmptyString=v}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new Pe(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];je[n]=new Pe(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new Pe(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){je[t]=new Pe(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){je[t]=new Pe(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){je[t]=new Pe(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){je[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function De(t){return t[1].toUpperCase()}function jt(t,n,o,a){var d=je.hasOwnProperty(n)?je[n]:null;(null!==d?0!==d.type:a||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function Dt(t,n,o,a){if(null===n||typeof n>"u"||function xt(t,n,o,a){if(null!==o&&0===o.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==o?!o.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,n,o,a))return!0;if(a)return!1;if(null!==o)switch(o.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,o,d,a)&&(o=null),a||null===d?function xe(t){return!!Ne.call(Mt,t)||!Ne.call(qt,t)&&(Me.test(t)?Mt[t]=!0:(qt[t]=!0,!1))}(n)&&(null===o?t.removeAttribute(n):t.setAttribute(n,""+o)):d.mustUseProperty?t[d.propertyName]=null===o?3!==d.type&&"":o:(n=d.attributeName,a=d.attributeNamespace,null===o?t.removeAttribute(n):(o=3===(d=d.type)||4===d&&!0===o?"":""+o,a?t.setAttributeNS(a,n,o):t.setAttribute(n,o))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(z,De);je[n]=new Pe(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(z,De);je[n]=new Pe(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(z,De);je[n]=new Pe(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){je[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)}),je.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){je[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});var ft=Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bt=Symbol.for("react.element"),fn=Symbol.for("react.portal"),wt=Symbol.for("react.fragment"),on=Symbol.for("react.strict_mode"),Xn=Symbol.for("react.profiler"),jn=Symbol.for("react.provider"),we=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),Jn=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),de=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Se=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var rt=Symbol.iterator;function Je(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=rt&&t[rt]||t["@@iterator"])?t:null}var Zt,W=Object.assign;function gn(t){if(void 0===Zt)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Zt=n&&n[1]||""}return"\n"+Zt+t}var _t=!1;function p(t,n){if(!t||_t)return"";_t=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(M){var a=M}Reflect.construct(t,[],n)}else{try{n.call()}catch(M){a=M}t.call(n.prototype)}else{try{throw Error()}catch(M){a=M}t()}}catch(M){if(M&&a&&"string"==typeof M.stack){for(var d=M.stack.split("\n"),m=a.stack.split("\n"),v=d.length-1,S=m.length-1;1<=v&&0<=S&&d[v]!==m[S];)S--;for(;1<=v&&0<=S;v--,S--)if(d[v]!==m[S]){if(1!==v||1!==S)do{if(v--,0>--S||d[v]!==m[S]){var k="\n"+d[v].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}}while(1<=v&&0<=S);break}}}finally{_t=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?gn(t):""}function he(t){switch(t.tag){case 5:return gn(t.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return p(t.type,!1);case 11:return p(t.type.render,!1);case 1:return p(t.type,!0);default:return""}}function Zr(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case wt:return"Fragment";case fn:return"Portal";case Xn:return"Profiler";case on:return"StrictMode";case St:return"Suspense";case Jn:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case we:return(t.displayName||"Context")+".Consumer";case jn:return(t._context.displayName||"Context")+".Provider";case Q:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return null!==(n=t.displayName||null)?n:Zr(t.type)||"Memo";case de:n=t._payload,t=t._init;try{return Zr(t(n))}catch{}}return null}function Z(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=n.render).displayName||t.name||"",n.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zr(n);case 8:return n===on?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function ip(t){var n=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===n||"radio"===n)}function hl(t){t._valueTracker||(t._valueTracker=function Sd(t){var n=ip(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&"function"==typeof o.get&&"function"==typeof o.set){var d=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}(t))}function rp(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return t&&(a=ip(t)?t.checked?"true":"false":t.value),(t=a)!==o&&(n.setValue(t),!0)}function Qs(t){if(typeof(t=t||(typeof document<"u"?document:void 0))>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ml(t,n){return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n.checked??t._wrapperState.initialChecked})}function xu(t,n){var o=null==n.defaultValue?"":n.defaultValue,a=null!=n.checked?n.checked:n.defaultChecked;o=Fi(null!=n.value?n.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function bu(t,n){null!=(n=n.checked)&&jt(t,"checked",n,!1)}function fl(t,n){bu(t,n);var o=Fi(n.value),a=n.type;if(null!=o)"number"===a?(0===o&&""===t.value||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if("submit"===a||"reset"===a)return void t.removeAttribute("value");n.hasOwnProperty("value")?Gs(t,n.type,o):n.hasOwnProperty("defaultValue")&&Gs(t,n.type,Fi(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(t.defaultChecked=!!n.defaultChecked)}function wu(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(("submit"===a||"reset"===a)&&null==n.value)return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}""!==(o=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==o&&(t.name=o)}function Gs(t,n,o){("number"!==n||Qs(t.ownerDocument)!==t)&&(null==o?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Ys=Array.isArray;function Xr(t,n,o,a){if(t=t.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=n.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&a&&(t[o].defaultSelected=!0)}else{for(o=""+Fi(o),n=null,d=0;d<t.length;d++){if(t[d].value===o)return t[d].selected=!0,void(a&&(t[d].defaultSelected=!0));null!==n||t[d].disabled||(n=t[d])}null!==n&&(n.selected=!0)}}function Zs(t,n){if(null!=n.dangerouslySetInnerHTML)throw Error(R(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Su(t,n){var o=n.value;if(null==o){if(o=n.children,n=n.defaultValue,null!=o){if(null!=n)throw Error(R(92));if(Ys(o)){if(1<o.length)throw Error(R(93));o=o[0]}n=o}null==n&&(n=""),o=n}t._wrapperState={initialValue:Fi(o)}}function ku(t,n){var o=Fi(n.value),a=Fi(n.defaultValue);null!=o&&((o=""+o)!==t.value&&(t.value=o),null==n.defaultValue&&t.defaultValue!==o&&(t.defaultValue=o)),null!=a&&(t.defaultValue=""+a)}function gl(t){var n=t.textContent;n===t._wrapperState.initialValue&&""!==n&&null!==n&&(t.value=n)}function ur(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xs(t,n){return null==t||"http://www.w3.org/1999/xhtml"===t?ur(n):"http://www.w3.org/2000/svg"===t&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":t}var cr,t,ln=(t=function(t,n){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=n;else{for((cr=cr||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=cr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,a,d){MSApp.execUnsafeLocalFunction(function(){return t(n,o)})}:t);function Jr(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&3===o.nodeType)return void(o.nodeValue=n)}t.textContent=n}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function yl(t,n,o){return null==n||"boolean"==typeof n||""===n?"":o||"number"!=typeof n||0===n||ge.hasOwnProperty(t)&&ge[t]?(""+n).trim():n+"px"}function $(t,n){for(var o in t=t.style,n)if(n.hasOwnProperty(o)){var a=0===o.indexOf("--"),d=yl(o,n[o],a);"float"===o&&(o="cssFloat"),a?t.setProperty(o,d):t[o]=d}}Object.keys(ge).forEach(function(t){gt.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),ge[n]=ge[t]})});var Qe=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(t,n){if(n){if(Qe[t]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(R(137,t));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(R(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(R(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(R(62))}}function Wt(t,n){if(-1===t.indexOf("-"))return"string"==typeof n.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function es(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var ts=null,Bi=null,pr=null;function Hi(t){if(t=vi(t)){if("function"!=typeof ts)throw Error(R(280));var n=t.stateNode;n&&(n=Tr(n),ts(t.stateNode,t.type,n))}}function vl(t){Bi?pr?pr.push(t):pr=[t]:Bi=t}function xl(){if(Bi){var t=Bi,n=pr;if(pr=Bi=null,Hi(t),n)for(t=0;t<n.length;t++)Hi(n[t])}}function bl(t,n){return t(n)}function wl(){}var Js=!1;function Sl(t,n,o){if(Js)return t(n,o);Js=!0;try{return bl(t,n,o)}finally{Js=!1,(null!==Bi||null!==pr)&&(wl(),xl())}}function ns(t,n){var o=t.stateNode;if(null===o)return null;var a=Tr(o);if(null===a)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!a;break e;default:t=!1}if(t)return null;if(o&&"function"!=typeof o)throw Error(R(231,n,typeof o));return o}var kl=!1;if(Te)try{var is={};Object.defineProperty(is,"passive",{get:function(){kl=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{kl=!1}function Cl(t,n,o,a,d,m,v,S,k){var M=Array.prototype.slice.call(arguments,3);try{n.apply(o,M)}catch(_){this.onError(_)}}var rs=!1,ss=null,eo=!1,jl=null,sp={onError:function(t){rs=!0,ss=t}};function op(t,n,o,a,d,m,v,S,k){rs=!1,ss=null,Cl.apply(sp,arguments)}function dr(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do{4098&(n=t).flags&&(o=n.return),t=n.return}while(t)}return 3===n.tag?o:null}function Cu(t){if(13===t.tag){var n=t.memoizedState;if(null===n&&null!==(t=t.alternate)&&(n=t.memoizedState),null!==n)return n.dehydrated}return null}function El(t){if(dr(t)!==t)throw Error(R(188))}function Al(t){return null!==(t=function ap(t){var n=t.alternate;if(!n){if(null===(n=dr(t)))throw Error(R(188));return n!==t?null:t}for(var o=t,a=n;;){var d=o.return;if(null===d)break;var m=d.alternate;if(null===m){if(null!==(a=d.return)){o=a;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return El(d),t;if(m===a)return El(d),n;m=m.sibling}throw Error(R(188))}if(o.return!==a.return)o=d,a=m;else{for(var v=!1,S=d.child;S;){if(S===o){v=!0,o=d,a=m;break}if(S===a){v=!0,a=d,o=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===o){v=!0,o=m,a=d;break}if(S===a){v=!0,a=m,o=d;break}S=S.sibling}if(!v)throw Error(R(189))}}if(o.alternate!==a)throw Error(R(190))}if(3!==o.tag)throw Error(R(188));return o.stateNode.current===o?t:n}(t))?to(t):null}function to(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=to(t);if(null!==n)return n;t=t.sibling}return null}var Il=He.unstable_scheduleCallback,ju=He.unstable_cancelCallback,os=He.unstable_shouldYield,Tl=He.unstable_requestPaint,at=He.unstable_now,Eu=He.unstable_getCurrentPriorityLevel,Et=He.unstable_ImmediatePriority,no=He.unstable_UserBlockingPriority,io=He.unstable_NormalPriority,up=He.unstable_LowPriority,Au=He.unstable_IdlePriority,ro=null,Un=null,En=Math.clz32?Math.clz32:function pp(t){return 0===(t>>>=0)?32:31-(Tu(t)/cp|0)|0},Tu=Math.log,cp=Math.LN2,so=64,oo=4194304;function ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lo(t,n){var o=t.pendingLanes;if(0===o)return 0;var a=0,d=t.suspendedLanes,m=t.pingedLanes,v=268435455&o;if(0!==v){var S=v&~d;0!==S?a=ls(S):0!=(m&=v)&&(a=ls(m))}else 0!=(v=o&~d)?a=ls(v):0!==m&&(a=ls(m));if(0===a)return 0;if(0!==n&&n!==a&&!(n&d)&&((d=a&-a)>=(m=n&-n)||16===d&&4194240&m))return n;if(4&a&&(a|=16&o),0!==(n=t.entangledLanes))for(t=t.entanglements,n&=a;0<n;)a|=t[o=31-En(n)],n&=~(d=1<<o);return a}function Pu(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function Ll(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Lu(){var t=so;return!(4194240&(so<<=1))&&(so=64),t}function Nl(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function as(t,n,o){t.pendingLanes|=n,536870912!==n&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[n=31-En(n)]=o}function Dl(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var a=31-En(o),d=1<<a;d&n|t[a]&n&&(t[a]|=n),o&=~d}}var Ve=0;function zl(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var hr,Ol,Nu,Mu,Du,us=!1,ao=[],yi=null,ti=null,ni=null,cs=new Map,an=new Map,kt=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mr(t,n){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":cs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(n.pointerId)}}function fr(t,n,o,a,d,m){return null===t||t.nativeEvent!==m?(t={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:m,targetContainers:[d]},null!==n&&null!==(n=vi(n))&&Ol(n),t):(t.eventSystemFlags|=a,n=t.targetContainers,null!==d&&-1===n.indexOf(d)&&n.push(d),t)}function zu(t){var n=Vn(t.target);if(null!==n){var o=dr(n);if(null!==o)if(13===(n=o.tag)){if(null!==(n=Cu(o)))return t.blockedOn=n,void Du(t.priority,function(){Nu(o)})}else if(3===n&&o.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===o.tag?o.stateNode.containerInfo:null)}t.blockedOn=null}function gr(t){if(null!==t.blockedOn)return!1;for(var n=t.targetContainers;0<n.length;){var o=Rl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(null!==o)return null!==(n=vi(o))&&Ol(n),t.blockedOn=o,!1;var a=new(o=t.nativeEvent).constructor(o.type,o);ei=a,o.target.dispatchEvent(a),ei=null,n.shift()}return!0}function Ou(t,n,o){gr(t)&&o.delete(n)}function mp(){us=!1,null!==yi&&gr(yi)&&(yi=null),null!==ti&&gr(ti)&&(ti=null),null!==ni&&gr(ni)&&(ni=null),cs.forEach(Ou),an.forEach(Ou)}function ps(t,n){t.blockedOn===n&&(t.blockedOn=null,us||(us=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,mp)))}function uo(t){function n(d){return ps(d,t)}if(0<ao.length){ps(ao[0],t);for(var o=1;o<ao.length;o++){var a=ao[o];a.blockedOn===t&&(a.blockedOn=null)}}for(null!==yi&&ps(yi,t),null!==ti&&ps(ti,t),null!==ni&&ps(ni,t),cs.forEach(n),an.forEach(n),o=0;o<kt.length;o++)(a=kt[o]).blockedOn===t&&(a.blockedOn=null);for(;0<kt.length&&null===(o=kt[0]).blockedOn;)zu(o),null===o.blockedOn&&kt.shift()}var yr=ft.ReactCurrentBatchConfig,un=!0;function cn(t,n,o,a){var d=Ve,m=yr.transition;yr.transition=null;try{Ve=1,ds(t,n,o,a)}finally{Ve=d,yr.transition=m}}function fp(t,n,o,a){var d=Ve,m=yr.transition;yr.transition=null;try{Ve=4,ds(t,n,o,a)}finally{Ve=d,yr.transition=m}}function ds(t,n,o,a){if(un){var d=Rl(t,n,o,a);if(null===d)sa(t,n,a,vr,o),mr(t,a);else if(function hp(t,n,o,a,d){switch(n){case"focusin":return yi=fr(yi,t,n,o,a,d),!0;case"dragenter":return ti=fr(ti,t,n,o,a,d),!0;case"mouseover":return ni=fr(ni,t,n,o,a,d),!0;case"pointerover":var m=d.pointerId;return cs.set(m,fr(cs.get(m)||null,t,n,o,a,d)),!0;case"gotpointercapture":return an.set(m=d.pointerId,fr(an.get(m)||null,t,n,o,a,d)),!0}return!1}(d,t,n,o,a))a.stopPropagation();else if(mr(t,a),4&n&&-1<dp.indexOf(t)){for(;null!==d;){var m=vi(d);if(null!==m&&hr(m),null===(m=Rl(t,n,o,a))&&sa(t,n,a,vr,o),m===d)break;d=m}null!==d&&a.stopPropagation()}else sa(t,n,a,null,o)}}var vr=null;function Rl(t,n,o,a){if(vr=null,null!==(t=Vn(t=es(a))))if(null===(n=dr(t)))t=null;else if(13===(o=n.tag)){if(null!==(t=Cu(n)))return t;t=null}else if(3===o){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return vr=t,null}function Ru(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eu()){case Et:return 1;case no:return 4;case io:case up:return 16;case Au:return 536870912;default:return 16}default:return 16}}var le=null,Rt=null,ze=null;function Fu(){if(ze)return ze;var t,a,n=Rt,o=n.length,d="value"in le?le.value:le.textContent,m=d.length;for(t=0;t<o&&n[t]===d[t];t++);var v=o-t;for(a=1;a<=v&&n[o-a]===d[m-a];a++);return ze=d.slice(t,1<a?1-a:void 0)}function co(t){var n=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),32<=t||13===t?t:0}function An(){return!0}function We(){return!1}function pn(t){function n(o,a,d,m,v){for(var S in this._reactName=o,this._targetInst=d,this.type=a,this.nativeEvent=m,this.target=v,this.currentTarget=null,t)t.hasOwnProperty(S)&&(this[S]=(o=t[S])?o(m):m[S]);return this.isDefaultPrevented=(null!=m.defaultPrevented?m.defaultPrevented:!1===m.returnValue)?An:We,this.isPropagationStopped=We,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():"unknown"!=typeof o.returnValue&&(o.returnValue=!1),this.isDefaultPrevented=An)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():"unknown"!=typeof o.cancelBubble&&(o.cancelBubble=!0),this.isPropagationStopped=An)},persist:function(){},isPersistent:An}),n}var Bl,wr,hs,xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=pn(xr),br=W({},xr,{view:0,detail:0}),gp=pn(br),po=W({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hs&&(hs&&"mousemove"===t.type?(Bl=t.screenX-hs.screenX,wr=t.screenY-hs.screenY):wr=Bl=0,hs=t),Bl)},movementY:function(t){return"movementY"in t?t.movementY:wr}}),Bu=pn(po),vp=pn(W({},po,{dataTransfer:0})),Hl=pn(W({},br,{relatedTarget:0})),wp=pn(W({},xr,{animationName:0,elapsedTime:0,pseudoElement:0})),Sp=W({},xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kp=pn(Sp),Ul=pn(W({},xr,{data:0})),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):!!(t=jp[t])&&!!n[t]}function ql(){return Ep}var ho=W({},br,{key:function(t){if(t.key){var n=Cp[t.key]||t.key;if("Unidentified"!==n)return n}return"keypress"===t.type?13===(t=co(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Vl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(t){return"keypress"===t.type?co(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?co(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ap=pn(ho),Uu=pn(W({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tp=pn(W({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql})),Lp=pn(W({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Np=W({},po,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mp=pn(Np),Vu=[9,13,27,32],_l=Te&&"CompositionEvent"in window,ms=null;Te&&"documentMode"in document&&(ms=document.documentMode);var Dp=Te&&"TextEvent"in window&&!ms,Wl=Te&&(!_l||ms&&8<ms&&11>=ms),Kl=" ",$l=!1;function Sr(t,n){switch(t){case"keyup":return-1!==Vu.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var kr=!1,Rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mo(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===n?!!Rp[t.type]:"textarea"===n}function qu(t,n,o,a){vl(a),0<(n=bo(n,"onChange")).length&&(o=new Fl("onChange","change",null,o,a),t.push({event:o,listeners:n}))}var fs=null,gs=null;function Fp(t){rc(t,0)}function fo(t){if(rp(oi(t)))return t}function Bp(t,n){if("change"===t)return n}var Ql=!1;if(Te){var Gl;if(Te){var Yl="oninput"in document;if(!Yl){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),Yl="function"==typeof _u.oninput}Gl=Yl}else Gl=!1;Ql=Gl&&(!document.documentMode||9<document.documentMode)}function Zl(){fs&&(fs.detachEvent("onpropertychange",Wu),gs=fs=null)}function Wu(t){if("value"===t.propertyName&&fo(gs)){var n=[];qu(n,gs,t,es(t)),Sl(Fp,n)}}function Hp(t,n,o){"focusin"===t?(Zl(),gs=o,(fs=n).attachEvent("onpropertychange",Wu)):"focusout"===t&&Zl()}function Up(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return fo(gs)}function Vp(t,n){if("click"===t)return fo(n)}function qp(t,n){if("input"===t||"change"===t)return fo(n)}var In="function"==typeof Object.is?Object.is:function _p(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n};function Cr(t,n){if(In(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var d=o[a];if(!Ne.call(n,d)||!In(t[d],n[d]))return!1}return!0}function Xl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ku(t,n){var a,o=Xl(t);for(t=0;o;){if(3===o.nodeType){if(a=t+o.textContent.length,t<=n&&a>=n)return{node:o,offset:n-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Xl(o)}}function $u(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?$u(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}function Jl(){for(var t=window,n=Qs();n instanceof t.HTMLIFrameElement;){try{var o="string"==typeof n.contentWindow.location.href}catch{o=!1}if(!o)break;n=Qs((t=n.contentWindow).document)}return n}function ys(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&("input"===n&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===n||"true"===t.contentEditable)}function Qu(t){var n=Jl(),o=t.focusedElem,a=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&$u(o.ownerDocument.documentElement,o)){if(null!==a&&ys(o))if(n=a.start,void 0===(t=a.end)&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if((t=(n=o.ownerDocument||document)&&n.defaultView||window).getSelection){t=t.getSelection();var d=o.textContent.length,m=Math.min(a.start,d);a=void 0===a.end?m:Math.min(a.end,d),!t.extend&&m>a&&(d=a,a=m,m=d),d=Ku(o,m);var v=Ku(o,a);d&&v&&(1!==t.rangeCount||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&((n=n.createRange()).setStart(d.node,d.offset),t.removeAllRanges(),m>a?(t.addRange(n),t.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),t.addRange(n)))}for(n=[],t=o;t=t.parentNode;)1===t.nodeType&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<n.length;o++)(t=n[o]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wp=Te&&"documentMode"in document&&11>=document.documentMode,Vi=null,ea=null,qi=null,ta=!1;function go(t,n,o){var a=o.window===o?o.document:9===o.nodeType?o:o.ownerDocument;ta||null==Vi||Vi!==Qs(a)||(a="selectionStart"in(a=Vi)&&ys(a)?{start:a.selectionStart,end:a.selectionEnd}:{anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},qi&&Cr(qi,a)||(qi=a,0<(a=bo(ea,"onSelect")).length&&(n=new Fl("onSelect","select",null,n,o),t.push({event:n,listeners:a}),n.target=Vi)))}function yo(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var jr={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},na={},Gu={};function vo(t){if(na[t])return na[t];if(!jr[t])return t;var o,n=jr[t];for(o in n)if(n.hasOwnProperty(o)&&o in Gu)return na[t]=n[o];return t}Te&&(Gu=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Yu=vo("animationend"),Zu=vo("animationiteration"),Xu=vo("animationstart"),Ju=vo("transitionend"),ec=new Map,tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,n){ec.set(t,n),Ue(n,[t])}for(var vs=0;vs<tc.length;vs++){var ia=tc[vs];ii(ia.toLowerCase(),"on"+(ia[0].toUpperCase()+ia.slice(1)))}ii(Yu,"onAnimationEnd"),ii(Zu,"onAnimationIteration"),ii(Xu,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Ju,"onTransitionEnd"),fe("onMouseEnter",["mouseout","mouseover"]),fe("onMouseLeave",["mouseout","mouseover"]),fe("onPointerEnter",["pointerout","pointerover"]),fe("onPointerLeave",["pointerout","pointerover"]),Ue("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ue("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ue("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ue("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$p=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function ic(t,n,o){var a=t.type||"unknown-event";t.currentTarget=o,function lp(t,n,o,a,d,m,v,S,k){if(op.apply(this,arguments),rs){if(!rs)throw Error(R(198));var M=ss;rs=!1,ss=null,eo||(eo=!0,jl=M)}}(a,n,void 0,t),t.currentTarget=null}function rc(t,n){n=!!(4&n);for(var o=0;o<t.length;o++){var a=t[o],d=a.event;a=a.listeners;e:{var m=void 0;if(n)for(var v=a.length-1;0<=v;v--){var S=a[v],k=S.instance,M=S.currentTarget;if(S=S.listener,k!==m&&d.isPropagationStopped())break e;ic(d,S,M),m=k}else for(v=0;v<a.length;v++){if(k=(S=a[v]).instance,M=S.currentTarget,S=S.listener,k!==m&&d.isPropagationStopped())break e;ic(d,S,M),m=k}}}if(eo)throw t=jl,eo=!1,jl=null,t}function Ye(t,n){var o=n[Co];void 0===o&&(o=n[Co]=new Set);var a=t+"__bubble";o.has(a)||(sc(n,t,2,!1),o.add(a))}function ra(t,n,o){var a=0;n&&(a|=4),sc(o,t,a,n)}var xo="_reactListening"+Math.random().toString(36).slice(2);function bs(t){if(!t[xo]){t[xo]=!0,Nt.forEach(function(o){"selectionchange"!==o&&($p.has(o)||ra(o,!1,t),ra(o,!0,t))});var n=9===t.nodeType?t:t.ownerDocument;null===n||n[xo]||(n[xo]=!0,ra("selectionchange",!1,n))}}function sc(t,n,o,a){switch(Ru(n)){case 1:var d=cn;break;case 4:d=fp;break;default:d=ds}o=d.bind(null,n,o,t),d=void 0,!kl||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(d=!0),t.addEventListener(n,o,a?void 0===d||{capture:!0,passive:d}:void 0!==d&&{passive:d})}function sa(t,n,o,a,d){var m=a;if(!(1&n||2&n||null===a))e:for(;;){if(null===a)return;var v=a.tag;if(3===v||4===v){var S=a.stateNode.containerInfo;if(S===d||8===S.nodeType&&S.parentNode===d)break;if(4===v)for(v=a.return;null!==v;){var k=v.tag;if((3===k||4===k)&&((k=v.stateNode.containerInfo)===d||8===k.nodeType&&k.parentNode===d))return;v=v.return}for(;null!==S;){if(null===(v=Vn(S)))return;if(5===(k=v.tag)||6===k){a=m=v;continue e}S=S.parentNode}}a=a.return}Sl(function(){var M=m,_=es(o),K=[];e:{var q=ec.get(t);if(void 0!==q){var J=Fl,ie=t;switch(t){case"keypress":if(0===co(o))break e;case"keydown":case"keyup":J=Ap;break;case"focusin":ie="focus",J=Hl;break;case"focusout":ie="blur",J=Hl;break;case"beforeblur":case"afterblur":J=Hl;break;case"click":if(2===o.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Tp;break;case Yu:case Zu:case Xu:J=wp;break;case Ju:J=Lp;break;case"scroll":J=gp;break;case"wheel":J=Mp;break;case"copy":case"cut":case"paste":J=kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Uu}var re=!!(4&n),ct=!re&&"scroll"===t,T=re?null!==q?q+"Capture":null:q;re=[];for(var P,A=M;null!==A;){var G=(P=A).stateNode;if(5===P.tag&&null!==G&&(P=G,null!==T&&null!=(G=ns(A,T))&&re.push(ws(A,G,P))),ct)break;A=A.return}0<re.length&&(q=new J(q,ie,null,o,_),K.push({event:q,listeners:re}))}}if(!(7&n)){if(J="mouseout"===t||"pointerout"===t,(!(q="mouseover"===t||"pointerover"===t)||o===ei||!(ie=o.relatedTarget||o.fromElement)||!Vn(ie)&&!ie[si])&&(J||q)&&(q=_.window===_?_:(q=_.ownerDocument)?q.defaultView||q.parentWindow:window,J?(J=M,null!==(ie=(ie=o.relatedTarget||o.toElement)?Vn(ie):null)&&(ie!==(ct=dr(ie))||5!==ie.tag&&6!==ie.tag)&&(ie=null)):(J=null,ie=M),J!==ie)){if(re=Bu,G="onMouseLeave",T="onMouseEnter",A="mouse",("pointerout"===t||"pointerover"===t)&&(re=Uu,G="onPointerLeave",T="onPointerEnter",A="pointer"),ct=null==J?q:oi(J),P=null==ie?q:oi(ie),(q=new re(G,A+"leave",J,o,_)).target=ct,q.relatedTarget=P,G=null,Vn(_)===M&&((re=new re(T,A+"enter",ie,o,_)).target=P,re.relatedTarget=ct,G=re),ct=G,J&&ie)t:{for(T=ie,A=0,P=re=J;P;P=Er(P))A++;for(P=0,G=T;G;G=Er(G))P++;for(;0<A-P;)re=Er(re),A--;for(;0<P-A;)T=Er(T),P--;for(;A--;){if(re===T||null!==T&&re===T.alternate)break t;re=Er(re),T=Er(T)}re=null}else re=null;null!==J&&oc(K,q,J,re,!1),null!==ie&&null!==ct&&oc(K,ct,ie,re,!0)}if("select"===(J=(q=M?oi(M):window).nodeName&&q.nodeName.toLowerCase())||"input"===J&&"file"===q.type)var se=Bp;else if(mo(q))if(Ql)se=qp;else{se=Up;var ce=Hp}else(J=q.nodeName)&&"input"===J.toLowerCase()&&("checkbox"===q.type||"radio"===q.type)&&(se=Vp);switch(se&&(se=se(t,M))?qu(K,se,o,_):(ce&&ce(t,q,M),"focusout"===t&&(ce=q._wrapperState)&&ce.controlled&&"number"===q.type&&Gs(q,"number",q.value)),ce=M?oi(M):window,t){case"focusin":(mo(ce)||"true"===ce.contentEditable)&&(Vi=ce,ea=M,qi=null);break;case"focusout":qi=ea=Vi=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,go(K,o,_);break;case"selectionchange":if(Wp)break;case"keydown":case"keyup":go(K,o,_)}var pe;if(_l)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else kr?Sr(t,o)&&(me="onCompositionEnd"):"keydown"===t&&229===o.keyCode&&(me="onCompositionStart");me&&(Wl&&"ko"!==o.locale&&(kr||"onCompositionStart"!==me?"onCompositionEnd"===me&&kr&&(pe=Fu()):(Rt="value"in(le=_)?le.value:le.textContent,kr=!0)),0<(ce=bo(M,me)).length&&(me=new Ul(me,t,null,o,_),K.push({event:me,listeners:ce}),(pe||null!==(pe=Ui(o)))&&(me.data=pe))),(pe=Dp?function zp(t,n){switch(t){case"compositionend":return Ui(n);case"keypress":return 32!==n.which?null:($l=!0,Kl);case"textInput":return(t=n.data)===Kl&&$l?null:t;default:return null}}(t,o):function Op(t,n){if(kr)return"compositionend"===t||!_l&&Sr(t,n)?(t=Fu(),ze=Rt=le=null,kr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Wl&&"ko"!==n.locale?null:n.data}}(t,o))&&0<(M=bo(M,"onBeforeInput")).length&&(_=new Ul("onBeforeInput","beforeinput",null,o,_),K.push({event:_,listeners:M}),_.data=pe)}rc(K,n)})}function ws(t,n,o){return{instance:t,listener:n,currentTarget:o}}function bo(t,n){for(var o=n+"Capture",a=[];null!==t;){var d=t,m=d.stateNode;5===d.tag&&null!==m&&(d=m,null!=(m=ns(t,o))&&a.unshift(ws(t,m,d)),null!=(m=ns(t,n))&&a.push(ws(t,m,d))),t=t.return}return a}function Er(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function oc(t,n,o,a,d){for(var m=n._reactName,v=[];null!==o&&o!==a;){var S=o,k=S.alternate,M=S.stateNode;if(null!==k&&k===a)break;5===S.tag&&null!==M&&(S=M,d?null!=(k=ns(o,m))&&v.unshift(ws(o,k,S)):d||null!=(k=ns(o,m))&&v.push(ws(o,k,S))),o=o.return}0!==v.length&&t.push({event:n,listeners:v})}var Qp=/\r\n?/g,Gp=/\u0000|\uFFFD/g;function lc(t){return("string"==typeof t?t:""+t).replace(Qp,"\n").replace(Gp,"")}function wo(t,n,o){if(n=lc(n),lc(t)!==n&&o)throw Error(R(425))}function So(){}var oa=null,la=null;function aa(t,n){return"textarea"===t||"noscript"===t||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ko="function"==typeof setTimeout?setTimeout:void 0,Yp="function"==typeof clearTimeout?clearTimeout:void 0,ua="function"==typeof Promise?Promise:void 0,Zp="function"==typeof queueMicrotask?queueMicrotask:typeof ua<"u"?function(t){return ua.resolve(null).then(t).catch(Xp)}:ko;function Xp(t){setTimeout(function(){throw t})}function ca(t,n){var o=n,a=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&8===d.nodeType)if("/$"===(o=d.data)){if(0===a)return t.removeChild(d),void uo(n);a--}else"$"!==o&&"$?"!==o&&"$!"!==o||a++;o=d}while(o);uo(n)}function ri(t){for(;null!=t;t=t.nextSibling){var n=t.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=t.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return t}function ac(t){t=t.previousSibling;for(var n=0;t;){if(8===t.nodeType){var o=t.data;if("$"===o||"$!"===o||"$?"===o){if(0===n)return t;n--}else"/$"===o&&n++}t=t.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ar,Ir="__reactProps$"+Ar,si="__reactContainer$"+Ar,Co="__reactEvents$"+Ar,Jp="__reactListeners$"+Ar,uc="__reactHandles$"+Ar;function Vn(t){var n=t[zt];if(n)return n;for(var o=t.parentNode;o;){if(n=o[si]||o[zt]){if(o=n.alternate,null!==n.child||null!==o&&null!==o.child)for(t=ac(t);null!==t;){if(o=t[zt])return o;t=ac(t)}return n}o=(t=o).parentNode}return null}function vi(t){return!(t=t[zt]||t[si])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function oi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(R(33))}function Tr(t){return t[Ir]||null}var Ss=[],xi=-1;function qn(t){return{current:t}}function Ge(t){0>xi||(t.current=Ss[xi],Ss[xi]=null,xi--)}function Ke(t,n){xi++,Ss[xi]=t.current,t.current=n}var li={},Ft=qn(li),Kt=qn(!1),yn=li;function Pr(t,n){var o=t.type.contextTypes;if(!o)return li;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var m,d={};for(m in o)d[m]=n[m];return a&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(t){return null!=t.childContextTypes}function bi(){Ge(Kt),Ge(Ft)}function ks(t,n,o){if(Ft.current!==li)throw Error(R(168));Ke(Ft,n),Ke(Kt,o)}function cc(t,n,o){var a=t.stateNode;if(n=n.childContextTypes,"function"!=typeof a.getChildContext)return o;for(var d in a=a.getChildContext())if(!(d in n))throw Error(R(108,Z(t)||"Unknown",d));return W({},o,a)}function Cs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,yn=Ft.current,Ke(Ft,t),Ke(Kt,Kt.current),!0}function js(t,n,o){var a=t.stateNode;if(!a)throw Error(R(169));o?(t=cc(t,n,yn),a.__reactInternalMemoizedMergedChildContext=t,Ge(Kt),Ge(Ft),Ke(Ft,t)):Ge(Kt),Ke(Kt,o)}var wi=null,_n=!1,pa=!1;function pc(t){null===wi?wi=[t]:wi.push(t)}function Si(){if(!pa&&null!==wi){pa=!0;var t=0,n=Ve;try{var o=wi;for(Ve=1;t<o.length;t++){var a=o[t];do{a=a(!0)}while(null!==a)}wi=null,_n=!1}catch(d){throw null!==wi&&(wi=wi.slice(t+1)),Il(Et,Si),d}finally{Ve=n,pa=!1}}return null}var ki=[],Lr=0,jo=null,Eo=0,$t=[],vn=0,Ci=null,ji=1,Wn="";function _i(t,n){ki[Lr++]=Eo,ki[Lr++]=jo,jo=t,Eo=n}function da(t,n,o){$t[vn++]=ji,$t[vn++]=Wn,$t[vn++]=Ci,Ci=t;var a=ji;t=Wn;var d=32-En(a)-1;a&=~(1<<d),o+=1;var m=32-En(n)+d;if(30<m){var v=d-d%5;m=(a&(1<<v)-1).toString(32),a>>=v,d-=v,ji=1<<32-En(n)+d|o<<d|a,Wn=m+t}else ji=1<<m|o<<d|a,Wn=t}function ha(t){null!==t.return&&(_i(t,1),da(t,1,0))}function ma(t){for(;t===jo;)jo=ki[--Lr],ki[Lr]=null,Eo=ki[--Lr],ki[Lr]=null;for(;t===Ci;)Ci=$t[--vn],$t[vn]=null,Wn=$t[--vn],$t[vn]=null,ji=$t[--vn],$t[vn]=null}var dn=null,en=null,et=!1,Tn=null;function dc(t,n){var o=Cn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,null===(n=t.deletions)?(t.deletions=[o],t.flags|=16):n.push(o)}function hc(t,n){switch(t.tag){case 5:var o=t.type;return null!==(n=1!==n.nodeType||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(t.stateNode=n,dn=t,en=ri(n.firstChild),!0);case 6:return null!==(n=""===t.pendingProps||3!==n.nodeType?null:n)&&(t.stateNode=n,dn=t,en=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t.memoizedState={dehydrated:n,treeContext:o=null!==Ci?{id:ji,overflow:Wn}:null,retryLane:1073741824},(o=Cn(18,null,null,0)).stateNode=n,o.return=t,t.child=o,dn=t,en=null,!0);default:return!1}}function fa(t){return!(!(1&t.mode)||128&t.flags)}function ga(t){if(et){var n=en;if(n){var o=n;if(!hc(t,n)){if(fa(t))throw Error(R(418));n=ri(o.nextSibling);var a=dn;n&&hc(t,n)?dc(a,o):(t.flags=-4097&t.flags|2,et=!1,dn=t)}}else{if(fa(t))throw Error(R(418));t.flags=-4097&t.flags|2,et=!1,dn=t}}}function mc(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;dn=t}function Ao(t){if(t!==dn)return!1;if(!et)return mc(t),et=!0,!1;var n;if((n=3!==t.tag)&&!(n=5!==t.tag)&&(n="head"!==(n=t.type)&&"body"!==n&&!aa(t.type,t.memoizedProps)),n&&(n=en)){if(fa(t))throw ya(),Error(R(418));for(;n;)dc(t,n),n=ri(n.nextSibling)}if(mc(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(R(317));e:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType){var o=t.data;if("/$"===o){if(0===n){en=ri(t.nextSibling);break e}n--}else"$"!==o&&"$!"!==o&&"$?"!==o||n++}t=t.nextSibling}en=null}}else en=dn?ri(t.stateNode.nextSibling):null;return!0}function ya(){for(var t=en;t;)t=ri(t.nextSibling)}function Nr(){en=dn=null,et=!1}function va(t){null===Tn?Tn=[t]:Tn.push(t)}var td=ft.ReactCurrentBatchConfig;function Es(t,n,o){if(null!==(t=o.ref)&&"function"!=typeof t&&"object"!=typeof t){if(o._owner){if(o=o._owner){if(1!==o.tag)throw Error(R(309));var a=o.stateNode}if(!a)throw Error(R(147,t));var d=a,m=""+t;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===m?n.ref:((n=function(v){var S=d.refs;null===v?delete S[m]:S[m]=v})._stringRef=m,n)}if("string"!=typeof t)throw Error(R(284));if(!o._owner)throw Error(R(290,t))}return t}function Io(t,n){throw t=Object.prototype.toString.call(n),Error(R(31,"[object Object]"===t?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function fc(t){return(0,t._init)(t._payload)}function gc(t){function n(T,A){if(t){var P=T.deletions;null===P?(T.deletions=[A],T.flags|=16):P.push(A)}}function o(T,A){if(!t)return null;for(;null!==A;)n(T,A),A=A.sibling;return null}function a(T,A){for(T=new Map;null!==A;)T.set(null!==A.key?A.key:A.index,A),A=A.sibling;return T}function d(T,A){return(T=zi(T,A)).index=0,T.sibling=null,T}function m(T,A,P){return T.index=P,t?null!==(P=T.alternate)?(P=P.index)<A?(T.flags|=2,A):P:(T.flags|=2,A):(T.flags|=1048576,A)}function v(T){return t&&null===T.alternate&&(T.flags|=2),T}function S(T,A,P,G){return null===A||6!==A.tag?((A=ol(P,T.mode,G)).return=T,A):((A=d(A,P)).return=T,A)}function k(T,A,P,G){var se=P.type;return se===wt?_(T,A,P.props.children,G,P.key):null!==A&&(A.elementType===se||"object"==typeof se&&null!==se&&se.$$typeof===de&&fc(se)===A.type)?((G=d(A,P.props)).ref=Es(T,A,P),G.return=T,G):((G=rl(P.type,P.key,P.props,null,T.mode,G)).ref=Es(T,A,P),G.return=T,G)}function M(T,A,P,G){return null===A||4!==A.tag||A.stateNode.containerInfo!==P.containerInfo||A.stateNode.implementation!==P.implementation?((A=Vt(P,T.mode,G)).return=T,A):((A=d(A,P.children||[])).return=T,A)}function _(T,A,P,G,se){return null===A||7!==A.tag?((A=rr(P,T.mode,G,se)).return=T,A):((A=d(A,P)).return=T,A)}function K(T,A,P){if("string"==typeof A&&""!==A||"number"==typeof A)return(A=ol(""+A,T.mode,P)).return=T,A;if("object"==typeof A&&null!==A){switch(A.$$typeof){case bt:return(P=rl(A.type,A.key,A.props,null,T.mode,P)).ref=Es(T,null,A),P.return=T,P;case fn:return(A=Vt(A,T.mode,P)).return=T,A;case de:return K(T,(0,A._init)(A._payload),P)}if(Ys(A)||Je(A))return(A=rr(A,T.mode,P,null)).return=T,A;Io(T,A)}return null}function q(T,A,P,G){var se=null!==A?A.key:null;if("string"==typeof P&&""!==P||"number"==typeof P)return null!==se?null:S(T,A,""+P,G);if("object"==typeof P&&null!==P){switch(P.$$typeof){case bt:return P.key===se?k(T,A,P,G):null;case fn:return P.key===se?M(T,A,P,G):null;case de:return q(T,A,(se=P._init)(P._payload),G)}if(Ys(P)||Je(P))return null!==se?null:_(T,A,P,G,null);Io(T,P)}return null}function J(T,A,P,G,se){if("string"==typeof G&&""!==G||"number"==typeof G)return S(A,T=T.get(P)||null,""+G,se);if("object"==typeof G&&null!==G){switch(G.$$typeof){case bt:return k(A,T=T.get(null===G.key?P:G.key)||null,G,se);case fn:return M(A,T=T.get(null===G.key?P:G.key)||null,G,se);case de:return J(T,A,P,(0,G._init)(G._payload),se)}if(Ys(G)||Je(G))return _(A,T=T.get(P)||null,G,se,null);Io(A,G)}return null}return function ct(T,A,P,G){if("object"==typeof P&&null!==P&&P.type===wt&&null===P.key&&(P=P.props.children),"object"==typeof P&&null!==P){switch(P.$$typeof){case bt:e:{for(var se=P.key,ce=A;null!==ce;){if(ce.key===se){if((se=P.type)===wt){if(7===ce.tag){o(T,ce.sibling),(A=d(ce,P.props.children)).return=T,T=A;break e}}else if(ce.elementType===se||"object"==typeof se&&null!==se&&se.$$typeof===de&&fc(se)===ce.type){o(T,ce.sibling),(A=d(ce,P.props)).ref=Es(T,ce,P),A.return=T,T=A;break e}o(T,ce);break}n(T,ce),ce=ce.sibling}P.type===wt?((A=rr(P.props.children,T.mode,G,P.key)).return=T,T=A):((G=rl(P.type,P.key,P.props,null,T.mode,G)).ref=Es(T,A,P),G.return=T,T=G)}return v(T);case fn:e:{for(ce=P.key;null!==A;){if(A.key===ce){if(4===A.tag&&A.stateNode.containerInfo===P.containerInfo&&A.stateNode.implementation===P.implementation){o(T,A.sibling),(A=d(A,P.children||[])).return=T,T=A;break e}o(T,A);break}n(T,A),A=A.sibling}(A=Vt(P,T.mode,G)).return=T,T=A}return v(T);case de:return ct(T,A,(ce=P._init)(P._payload),G)}if(Ys(P))return function ie(T,A,P,G){for(var se=null,ce=null,pe=A,me=A=0,Pt=null;null!==pe&&me<P.length;me++){pe.index>me?(Pt=pe,pe=null):Pt=pe.sibling;var Re=q(T,pe,P[me],G);if(null===Re){null===pe&&(pe=Pt);break}t&&pe&&null===Re.alternate&&n(T,pe),A=m(Re,A,me),null===ce?se=Re:ce.sibling=Re,ce=Re,pe=Pt}if(me===P.length)return o(T,pe),et&&_i(T,me),se;if(null===pe){for(;me<P.length;me++)null!==(pe=K(T,P[me],G))&&(A=m(pe,A,me),null===ce?se=pe:ce.sibling=pe,ce=pe);return et&&_i(T,me),se}for(pe=a(T,pe);me<P.length;me++)null!==(Pt=J(pe,T,me,P[me],G))&&(t&&null!==Pt.alternate&&pe.delete(null===Pt.key?me:Pt.key),A=m(Pt,A,me),null===ce?se=Pt:ce.sibling=Pt,ce=Pt);return t&&pe.forEach(function(Ri){return n(T,Ri)}),et&&_i(T,me),se}(T,A,P,G);if(Je(P))return function re(T,A,P,G){var se=Je(P);if("function"!=typeof se)throw Error(R(150));if(null==(P=se.call(P)))throw Error(R(151));for(var ce=se=null,pe=A,me=A=0,Pt=null,Re=P.next();null!==pe&&!Re.done;me++,Re=P.next()){pe.index>me?(Pt=pe,pe=null):Pt=pe.sibling;var Ri=q(T,pe,Re.value,G);if(null===Ri){null===pe&&(pe=Pt);break}t&&pe&&null===Ri.alternate&&n(T,pe),A=m(Ri,A,me),null===ce?se=Ri:ce.sibling=Ri,ce=Ri,pe=Pt}if(Re.done)return o(T,pe),et&&_i(T,me),se;if(null===pe){for(;!Re.done;me++,Re=P.next())null!==(Re=K(T,Re.value,G))&&(A=m(Re,A,me),null===ce?se=Re:ce.sibling=Re,ce=Re);return et&&_i(T,me),se}for(pe=a(T,pe);!Re.done;me++,Re=P.next())null!==(Re=J(pe,T,me,Re.value,G))&&(t&&null!==Re.alternate&&pe.delete(null===Re.key?me:Re.key),A=m(Re,A,me),null===ce?se=Re:ce.sibling=Re,ce=Re);return t&&pe.forEach(function(yd){return n(T,yd)}),et&&_i(T,me),se}(T,A,P,G);Io(T,P)}return"string"==typeof P&&""!==P||"number"==typeof P?(P=""+P,null!==A&&6===A.tag?(o(T,A.sibling),(A=d(A,P)).return=T,T=A):(o(T,A),(A=ol(P,T.mode,G)).return=T,T=A),v(T)):o(T,A)}}var Wi=gc(!0),yc=gc(!1),To=qn(null),Po=null,Mr=null,xa=null;function ba(){xa=Mr=Po=null}function wa(t){var n=To.current;Ge(To),t._currentValue=n}function Lo(t,n,o){for(;null!==t;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,null!==a&&(a.childLanes|=n)):null!==a&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===o)break;t=t.return}}function Ki(t,n){Po=t,xa=Mr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.lanes&n&&(nn=!0),t.firstContext=null)}function xn(t){var n=t._currentValue;if(xa!==t)if(t={context:t,memoizedValue:n,next:null},null===Mr){if(null===Po)throw Error(R(308));Mr=t,Po.dependencies={lanes:0,firstContext:t}}else Mr=Mr.next=t;return n}var Ei=null;function Sa(t){null===Ei?Ei=[t]:Ei.push(t)}function vc(t,n,o,a){var d=n.interleaved;return null===d?(o.next=o,Sa(n)):(o.next=d.next,d.next=o),n.interleaved=o,ai(t,a)}function ai(t,n){t.lanes|=n;var o=t.alternate;for(null!==o&&(o.lanes|=n),o=t,t=t.return;null!==t;)t.childLanes|=n,null!==(o=t.alternate)&&(o.childLanes|=n),o=t,t=t.return;return 3===o.tag?o.stateNode:null}var Pn=!1;function As(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xc(t,n){n.updateQueue===(t=t.updateQueue)&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,o){var a=t.updateQueue;if(null===a)return null;if(a=a.shared,2&Oe){var d=a.pending;return null===d?n.next=n:(n.next=d.next,d.next=n),a.pending=n,ai(t,o)}return null===(d=a.interleaved)?(n.next=n,Sa(a)):(n.next=d.next,d.next=n),a.interleaved=n,ai(t,o)}function No(t,n,o){if(null!==(n=n.updateQueue)&&(n=n.shared,4194240&o)){var a=n.lanes;n.lanes=o|=a&=t.pendingLanes,Dl(t,o)}}function bc(t,n){var o=t.updateQueue,a=t.alternate;if(null===a||o!==(a=a.updateQueue))null===(t=o.lastBaseUpdate)?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n;else{var d=null,m=null;if(null!==(o=o.firstBaseUpdate)){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};null===m?d=m=v:m=m.next=v,o=o.next}while(null!==o);null===m?d=m=n:m=m.next=n}else d=m=n;t.updateQueue=o={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:a.shared,effects:a.effects}}}function Mo(t,n,o,a){var d=t.updateQueue;Pn=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(null!==S){d.shared.pending=null;var k=S,M=k.next;k.next=null,null===v?m=M:v.next=M,v=k;var _=t.alternate;null!==_&&(S=(_=_.updateQueue).lastBaseUpdate)!==v&&(null===S?_.firstBaseUpdate=M:S.next=M,_.lastBaseUpdate=k)}if(null!==m){var K=d.baseState;for(v=0,_=M=k=null,S=m;;){var q=S.lane,J=S.eventTime;if((a&q)===q){null!==_&&(_=_.next={eventTime:J,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ie=t,re=S;switch(q=n,J=o,re.tag){case 1:if("function"==typeof(ie=re.payload)){K=ie.call(J,K,q);break e}K=ie;break e;case 3:ie.flags=-65537&ie.flags|128;case 0:if(null==(q="function"==typeof(ie=re.payload)?ie.call(J,K,q):ie))break e;K=W({},K,q);break e;case 2:Pn=!0}}null!==S.callback&&0!==S.lane&&(t.flags|=64,null===(q=d.effects)?d.effects=[S]:q.push(S))}else J={eventTime:J,lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},null===_?(M=_=J,k=K):_=_.next=J,v|=q;if(null===(S=S.next)){if(null===(S=d.shared.pending))break;S=(q=S).next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}if(null===_&&(k=K),d.baseState=k,d.firstBaseUpdate=M,d.lastBaseUpdate=_,null!==(n=d.shared.interleaved)){d=n;do{v|=d.lane,d=d.next}while(d!==n)}else null===m&&(d.shared.lanes=0);Pi|=v,t.lanes=v,t.memoizedState=K}}function ka(t,n,o){if(t=n.effects,n.effects=null,null!==t)for(n=0;n<t.length;n++){var a=t[n],d=a.callback;if(null!==d){if(a.callback=null,a=o,"function"!=typeof d)throw Error(R(191,d));d.call(a)}}}var Dr={},Kn=qn(Dr),zr=qn(Dr),$i=qn(Dr);function ci(t){if(t===Dr)throw Error(R(174));return t}function Ca(t,n){switch(Ke($i,n),Ke(zr,t),Ke(Kn,Dr),t=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xs(null,"");break;default:n=Xs(n=(t=8===t?n.parentNode:n).namespaceURI||null,t=t.tagName)}Ge(Kn),Ke(Kn,n)}function Or(){Ge(Kn),Ge(zr),Ge($i)}function Ln(t){ci($i.current);var n=ci(Kn.current),o=Xs(n,t.type);n!==o&&(Ke(zr,t),Ke(Kn,o))}function ja(t){zr.current===t&&(Ge(Kn),Ge(zr))}var st=qn(0);function Do(t){for(var n=t;null!==n;){if(13===n.tag){var o=n.memoizedState;if(null!==o&&(null===(o=o.dehydrated)||"$?"===o.data||"$!"===o.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ea=[];function Aa(){for(var t=0;t<Ea.length;t++)Ea[t]._workInProgressVersionPrimary=null;Ea.length=0}var zo=ft.ReactCurrentDispatcher,Qi=ft.ReactCurrentBatchConfig,Gi=0,ot=null,pt=null,At=null,Oo=!1,Yi=!1,Rr=0,Ia=0;function It(){throw Error(R(321))}function Ro(t,n){if(null===n)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!In(t[o],n[o]))return!1;return!0}function Ta(t,n,o,a,d,m){if(Gi=m,ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zo.current=null===t||null===t.memoizedState?pi:kd,t=o(a,d),Yi){m=0;do{if(Yi=!1,Rr=0,25<=m)throw Error(R(301));m+=1,At=pt=null,n.updateQueue=null,zo.current=nd,t=o(a,d)}while(Yi)}if(zo.current=Ns,n=null!==pt&&null!==pt.next,Gi=0,At=pt=ot=null,Oo=!1,n)throw Error(R(300));return t}function Pa(){var t=0!==Rr;return Rr=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===At?ot.memoizedState=At=t:At=At.next=t,At}function tn(){if(null===pt){var t=ot.alternate;t=null!==t?t.memoizedState:null}else t=pt.next;var n=null===At?ot.memoizedState:At.next;if(null!==n)At=n,pt=t;else{if(null===t)throw Error(R(310));t={memoizedState:(pt=t).memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},null===At?ot.memoizedState=At=t:At=At.next=t}return At}function Is(t,n){return"function"==typeof n?n(t):n}function Ts(t){var n=tn(),o=n.queue;if(null===o)throw Error(R(311));o.lastRenderedReducer=t;var a=pt,d=a.baseQueue,m=o.pending;if(null!==m){if(null!==d){var v=d.next;d.next=m.next,m.next=v}a.baseQueue=d=m,o.pending=null}if(null!==d){a=a.baseState;var S=v=null,k=null,M=m=d.next;do{var _=M.lane;if((Gi&_)===_)null!==k&&(k=k.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),a=M.hasEagerState?M.eagerState:t(a,M.action);else{var K={lane:_,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};null===k?(S=k=K,v=a):k=k.next=K,ot.lanes|=_,Pi|=_}M=M.next}while(null!==M&&M!==m);null===k?v=a:k.next=S,In(a,n.memoizedState)||(nn=!0),n.memoizedState=a,n.baseState=v,n.baseQueue=k,o.lastRenderedState=a}if(null!==(t=o.interleaved)){d=t;do{ot.lanes|=m=d.lane,Pi|=m,d=d.next}while(d!==t)}else null===d&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Ps(t){var n=tn(),o=n.queue;if(null===o)throw Error(R(311));o.lastRenderedReducer=t;var a=o.dispatch,d=o.pending,m=n.memoizedState;if(null!==d){o.pending=null;var v=d=d.next;do{m=t(m,v.action),v=v.next}while(v!==d);In(m,n.memoizedState)||(nn=!0),n.memoizedState=m,null===n.baseQueue&&(n.baseState=m),o.lastRenderedState=m}return[m,a]}function Fo(){}function La(t,n){var o=ot,a=tn(),d=n(),m=!In(a.memoizedState,d);if(m&&(a.memoizedState=d,nn=!0),za(wc.bind(null,o,a=a.queue,t),[t]),a.getSnapshot!==n||m||null!==At&&1&At.memoizedState.tag){if(o.flags|=2048,Fr(9,Ls.bind(null,o,a,d,n),void 0,null),null===Ct)throw Error(R(349));30&Gi||Na(o,n,d)}return d}function Na(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},null===(n=ot.updateQueue)?(ot.updateQueue=n={lastEffect:null,stores:null},n.stores=[t]):null===(o=n.stores)?n.stores=[t]:o.push(t)}function Ls(t,n,o,a){n.value=o,n.getSnapshot=a,Sc(n)&&kc(t)}function wc(t,n,o){return o(function(){Sc(n)&&kc(t)})}function Sc(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!In(t,o)}catch{return!0}}function kc(t){var n=ai(t,1);null!==n&&zn(n,t,1,-1)}function Cc(t){var n=$n();return"function"==typeof t&&(t=t()),n.memoizedState=n.baseState=t,n.queue=t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},t=t.dispatch=Hr.bind(null,ot,t),[n.memoizedState,t]}function Fr(t,n,o,a){return t={tag:t,create:n,destroy:o,deps:a,next:null},null===(n=ot.updateQueue)?(ot.updateQueue=n={lastEffect:null,stores:null},n.lastEffect=t.next=t):null===(o=n.lastEffect)?n.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,n.lastEffect=t),t}function Ma(){return tn().memoizedState}function Bo(t,n,o,a){var d=$n();ot.flags|=t,d.memoizedState=Fr(1|n,o,void 0,void 0===a?null:a)}function Ho(t,n,o,a){var d=tn();a=void 0===a?null:a;var m=void 0;if(null!==pt){var v=pt.memoizedState;if(m=v.destroy,null!==a&&Ro(a,v.deps))return void(d.memoizedState=Fr(n,o,m,a))}ot.flags|=t,d.memoizedState=Fr(1|n,o,m,a)}function Da(t,n){return Bo(8390656,8,t,n)}function za(t,n){return Ho(2048,8,t,n)}function Uo(t,n){return Ho(4,2,t,n)}function ue(t,n){return Ho(4,4,t,n)}function L(t,n){return"function"==typeof n?(t=t(),n(t),function(){n(null)}):null!=n?(t=t(),n.current=t,function(){n.current=null}):void 0}function I(t,n,o){return o=null!=o?o.concat([t]):null,Ho(4,4,L.bind(null,n,t),o)}function $e(){}function jc(t,n){var o=tn();n=void 0===n?null:n;var a=o.memoizedState;return null!==a&&null!==n&&Ro(n,a[1])?a[0]:(o.memoizedState=[t,n],t)}function Ec(t,n){var o=tn();n=void 0===n?null:n;var a=o.memoizedState;return null!==a&&null!==n&&Ro(n,a[1])?a[0]:(t=t(),o.memoizedState=[t,n],t)}function Br(t,n,o){return 21&Gi?(In(o,n)||(o=Lu(),ot.lanes|=o,Pi|=o,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=o)}function Ac(t,n){var o=Ve;Ve=0!==o&&4>o?o:4,t(!0);var a=Qi.transition;Qi.transition={};try{t(!1),n()}finally{Ve=o,Qi.transition=a}}function tt(){return tn().memoizedState}function Ee(t,n,o){var a=Mi(t);o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Oa(t)?Ra(n,o):null!==(o=vc(t,n,o,a))&&(zn(o,t,a,Gt()),Ii(o,n,a))}function Hr(t,n,o){var a=Mi(t),d={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oa(t))Ra(n,d);else{var m=t.alternate;if(0===t.lanes&&(null===m||0===m.lanes)&&null!==(m=n.lastRenderedReducer))try{var v=n.lastRenderedState,S=m(v,o);if(d.hasEagerState=!0,d.eagerState=S,In(S,v)){var k=n.interleaved;return null===k?(d.next=d,Sa(n)):(d.next=k.next,k.next=d),void(n.interleaved=d)}}catch{}null!==(o=vc(t,n,d,a))&&(zn(o,t,a,d=Gt()),Ii(o,n,a))}}function Oa(t){var n=t.alternate;return t===ot||null!==n&&n===ot}function Ra(t,n){Yi=Oo=!0;var o=t.pending;null===o?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Ii(t,n,o){if(4194240&o){var a=n.lanes;n.lanes=o|=a&=t.pendingLanes,Dl(t,o)}}var Ns={readContext:xn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},pi={readContext:xn,useCallback:function(t,n){return $n().memoizedState=[t,void 0===n?null:n],t},useContext:xn,useEffect:Da,useImperativeHandle:function(t,n,o){return o=null!=o?o.concat([t]):null,Bo(4194308,4,L.bind(null,n,t),o)},useLayoutEffect:function(t,n){return Bo(4194308,4,t,n)},useInsertionEffect:function(t,n){return Bo(4,2,t,n)},useMemo:function(t,n){var o=$n();return n=void 0===n?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var a=$n();return n=void 0!==o?o(n):n,a.memoizedState=a.baseState=n,a.queue=t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},t=t.dispatch=Ee.bind(null,ot,t),[a.memoizedState,t]},useRef:function(t){return $n().memoizedState={current:t}},useState:Cc,useDebugValue:$e,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=Cc(!1),n=t[0];return t=Ac.bind(null,t[1]),$n().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var a=ot,d=$n();if(et){if(void 0===o)throw Error(R(407));o=o()}else{if(o=n(),null===Ct)throw Error(R(349));30&Gi||Na(a,n,o)}d.memoizedState=o;var m={value:o,getSnapshot:n};return d.queue=m,Da(wc.bind(null,a,m,t),[t]),a.flags|=2048,Fr(9,Ls.bind(null,a,m,o,n),void 0,null),o},useId:function(){var t=$n(),n=Ct.identifierPrefix;if(et){var o=Wn;n=":"+n+"R"+(o=(ji&~(1<<32-En(ji)-1)).toString(32)+o),0<(o=Rr++)&&(n+="H"+o.toString(32)),n+=":"}else n=":"+n+"r"+(o=Ia++).toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},kd={readContext:xn,useCallback:jc,useContext:xn,useEffect:za,useImperativeHandle:I,useInsertionEffect:Uo,useLayoutEffect:ue,useMemo:Ec,useReducer:Ts,useRef:Ma,useState:function(){return Ts(Is)},useDebugValue:$e,useDeferredValue:function(t){return Br(tn(),pt.memoizedState,t)},useTransition:function(){return[Ts(Is)[0],tn().memoizedState]},useMutableSource:Fo,useSyncExternalStore:La,useId:tt,unstable_isNewReconciler:!1},nd={readContext:xn,useCallback:jc,useContext:xn,useEffect:za,useImperativeHandle:I,useInsertionEffect:Uo,useLayoutEffect:ue,useMemo:Ec,useReducer:Ps,useRef:Ma,useState:function(){return Ps(Is)},useDebugValue:$e,useDeferredValue:function(t){var n=tn();return null===pt?n.memoizedState=t:Br(n,pt.memoizedState,t)},useTransition:function(){return[Ps(Is)[0],tn().memoizedState]},useMutableSource:Fo,useSyncExternalStore:La,useId:tt,unstable_isNewReconciler:!1};function bn(t,n){if(t&&t.defaultProps){for(var o in n=W({},n),t=t.defaultProps)void 0===n[o]&&(n[o]=t[o]);return n}return n}function Fa(t,n,o,a){o=null==(o=o(a,n=t.memoizedState))?n:W({},n,o),t.memoizedState=o,0===t.lanes&&(t.updateQueue.baseState=o)}var Vo={isMounted:function(t){return!!(t=t._reactInternals)&&dr(t)===t},enqueueSetState:function(t,n,o){t=t._reactInternals;var a=Gt(),d=Mi(t),m=ui(a,d);m.payload=n,null!=o&&(m.callback=o),null!==(n=Ai(t,m,d))&&(zn(n,t,d,a),No(n,t,d))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var a=Gt(),d=Mi(t),m=ui(a,d);m.tag=1,m.payload=n,null!=o&&(m.callback=o),null!==(n=Ai(t,m,d))&&(zn(n,t,d,a),No(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=Gt(),a=Mi(t),d=ui(o,a);d.tag=2,null!=n&&(d.callback=n),null!==(n=Ai(t,d,a))&&(zn(n,t,a,o),No(n,t,a))}};function Ba(t,n,o,a,d,m,v){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(a,m,v):!(n.prototype&&n.prototype.isPureReactComponent&&Cr(o,a)&&Cr(d,m))}function Ic(t,n,o){var a=!1,d=li,m=n.contextType;return"object"==typeof m&&null!==m?m=xn(m):(d=Jt(n)?yn:Ft.current,m=(a=null!=(a=n.contextTypes))?Pr(t,d):li),n=new n(o,m),t.memoizedState=null!=n.state?n.state:null,n.updater=Vo,t.stateNode=n,n._reactInternals=t,a&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),n}function Tc(t,n,o,a){t=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(o,a),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==t&&Vo.enqueueReplaceState(n,n.state,null)}function Ha(t,n,o,a){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},As(t);var m=n.contextType;"object"==typeof m&&null!==m?d.context=xn(m):(m=Jt(n)?yn:Ft.current,d.context=Pr(t,m)),d.state=t.memoizedState,"function"==typeof(m=n.getDerivedStateFromProps)&&(Fa(t,n,m,o),d.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof d.getSnapshotBeforeUpdate||"function"!=typeof d.UNSAFE_componentWillMount&&"function"!=typeof d.componentWillMount||(n=d.state,"function"==typeof d.componentWillMount&&d.componentWillMount(),"function"==typeof d.UNSAFE_componentWillMount&&d.UNSAFE_componentWillMount(),n!==d.state&&Vo.enqueueReplaceState(d,d.state,null),Mo(t,o,d,a),d.state=t.memoizedState),"function"==typeof d.componentDidMount&&(t.flags|=4194308)}function Ur(t,n){try{var o="",a=n;do{o+=he(a),a=a.return}while(a);var d=o}catch(m){d="\nError generating stack: "+m.message+"\n"+m.stack}return{value:t,source:n,stack:d,digest:null}}function qo(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function Ua(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Bt="function"==typeof WeakMap?WeakMap:Map;function Nn(t,n,o){(o=ui(-1,o)).tag=3,o.payload={element:null};var a=n.value;return o.callback=function(){el||(el=!0,tu=a),Ua(0,n)},o}function Zi(t,n,o){(o=ui(-1,o)).tag=3;var a=t.type.getDerivedStateFromError;if("function"==typeof a){var d=n.value;o.payload=function(){return a(d)},o.callback=function(){Ua(0,n)}}var m=t.stateNode;return null!==m&&"function"==typeof m.componentDidCatch&&(o.callback=function(){Ua(0,n),"function"!=typeof a&&(null===Li?Li=new Set([this]):Li.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:null!==v?v:""})}),o}function Pc(t,n,o){var a=t.pingCache;if(null===a){a=t.pingCache=new Bt;var d=new Set;a.set(n,d)}else void 0===(d=a.get(n))&&a.set(n,d=new Set);d.has(o)||(d.add(o),t=dd.bind(null,t,n,o),n.then(t,t))}function Va(t){do{var n;if((n=13===t.tag)&&(n=null===(n=t.memoizedState)||null!==n.dehydrated),n)return t;t=t.return}while(null!==t);return null}function qa(t,n,o,a,d){return 1&t.mode?(t.flags|=65536,t.lanes=d,t):(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,1===o.tag&&(null===o.alternate?o.tag=17:((n=ui(-1,1)).tag=2,Ai(o,n,1))),o.lanes|=1),t)}var id=ft.ReactCurrentOwner,nn=!1;function Qt(t,n,o,a){n.child=null===t?yc(n,null,o,a):Wi(n,t.child,o,a)}function Lc(t,n,o,a,d){o=o.render;var m=n.ref;return Ki(n,d),a=Ta(t,n,o,a,m,d),o=Pa(),null===t||nn?(et&&o&&ha(n),n.flags|=1,Qt(t,n,a,d),n.child):(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,Qn(t,n,d))}function Nc(t,n,o,a,d){if(null===t){var m=o.type;return"function"!=typeof m||pu(m)||void 0!==m.defaultProps||null!==o.compare||void 0!==o.defaultProps?((t=rl(o.type,null,a,n,n.mode,d)).ref=n.ref,t.return=n,n.child=t):(n.tag=15,n.type=m,Mc(t,n,m,a,d))}return m=t.child,t.lanes&d||!(o=null!==(o=o.compare)?o:Cr)(m.memoizedProps,a)||t.ref!==n.ref?(n.flags|=1,(t=zi(m,a)).ref=n.ref,t.return=n,n.child=t):Qn(t,n,d)}function Mc(t,n,o,a,d){if(null!==t){var m=t.memoizedProps;if(Cr(m,a)&&t.ref===n.ref){if(nn=!1,n.pendingProps=a=m,!(t.lanes&d))return n.lanes=t.lanes,Qn(t,n,d);131072&t.flags&&(nn=!0)}}return di(t,n,o,a,d)}function Dc(t,n,o){var a=n.pendingProps,d=a.children,m=null!==t?t.memoizedState:null;if("hidden"===a.mode)if(1&n.mode){if(!(1073741824&o))return t=null!==m?m.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Ke(qr,hn),hn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==m?m.baseLanes:o,Ke(qr,hn),hn|=a}else n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(qr,hn),hn|=o;else null!==m?(a=m.baseLanes|o,n.memoizedState=null):a=o,Ke(qr,hn),hn|=a;return Qt(t,n,d,o),n.child}function Xi(t,n){var o=n.ref;(null===t&&null!==o||null!==t&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function di(t,n,o,a,d){var m=Jt(o)?yn:Ft.current;return m=Pr(n,m),Ki(n,d),o=Ta(t,n,o,a,m,d),a=Pa(),null===t||nn?(et&&a&&ha(n),n.flags|=1,Qt(t,n,o,d),n.child):(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,Qn(t,n,d))}function Ms(t,n,o,a,d){if(Jt(o)){var m=!0;Cs(n)}else m=!1;if(Ki(n,d),null===n.stateNode)Ko(t,n),Ic(n,o,a),Ha(n,o,a,d),a=!0;else if(null===t){var v=n.stateNode,S=n.memoizedProps;v.props=S;var k=v.context,M=o.contextType;M="object"==typeof M&&null!==M?xn(M):Pr(n,M=Jt(o)?yn:Ft.current);var _=o.getDerivedStateFromProps,K="function"==typeof _||"function"==typeof v.getSnapshotBeforeUpdate;K||"function"!=typeof v.UNSAFE_componentWillReceiveProps&&"function"!=typeof v.componentWillReceiveProps||(S!==a||k!==M)&&Tc(n,v,a,M),Pn=!1;var q=n.memoizedState;v.state=q,Mo(n,a,v,d),k=n.memoizedState,S!==a||q!==k||Kt.current||Pn?("function"==typeof _&&(Fa(n,o,_,a),k=n.memoizedState),(S=Pn||Ba(n,o,S,a,q,k,M))?(K||"function"!=typeof v.UNSAFE_componentWillMount&&"function"!=typeof v.componentWillMount||("function"==typeof v.componentWillMount&&v.componentWillMount(),"function"==typeof v.UNSAFE_componentWillMount&&v.UNSAFE_componentWillMount()),"function"==typeof v.componentDidMount&&(n.flags|=4194308)):("function"==typeof v.componentDidMount&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=k),v.props=a,v.state=k,v.context=M,a=S):("function"==typeof v.componentDidMount&&(n.flags|=4194308),a=!1)}else{v=n.stateNode,xc(t,n),S=n.memoizedProps,M=n.type===n.elementType?S:bn(n.type,S),v.props=M,K=n.pendingProps,q=v.context,k="object"==typeof(k=o.contextType)&&null!==k?xn(k):Pr(n,k=Jt(o)?yn:Ft.current);var J=o.getDerivedStateFromProps;(_="function"==typeof J||"function"==typeof v.getSnapshotBeforeUpdate)||"function"!=typeof v.UNSAFE_componentWillReceiveProps&&"function"!=typeof v.componentWillReceiveProps||(S!==K||q!==k)&&Tc(n,v,a,k),Pn=!1,v.state=q=n.memoizedState,Mo(n,a,v,d);var ie=n.memoizedState;S!==K||q!==ie||Kt.current||Pn?("function"==typeof J&&(Fa(n,o,J,a),ie=n.memoizedState),(M=Pn||Ba(n,o,M,a,q,ie,k)||!1)?(_||"function"!=typeof v.UNSAFE_componentWillUpdate&&"function"!=typeof v.componentWillUpdate||("function"==typeof v.componentWillUpdate&&v.componentWillUpdate(a,ie,k),"function"==typeof v.UNSAFE_componentWillUpdate&&v.UNSAFE_componentWillUpdate(a,ie,k)),"function"==typeof v.componentDidUpdate&&(n.flags|=4),"function"==typeof v.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof v.componentDidUpdate||S===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),"function"!=typeof v.getSnapshotBeforeUpdate||S===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=ie),v.props=a,v.state=ie,v.context=k,a=M):("function"!=typeof v.componentDidUpdate||S===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),"function"!=typeof v.getSnapshotBeforeUpdate||S===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),a=!1)}return _a(t,n,o,a,m,d)}function _a(t,n,o,a,d,m){Xi(t,n);var v=!!(128&n.flags);if(!a&&!v)return d&&js(n,o,!1),Qn(t,n,m);a=n.stateNode,id.current=n;var S=v&&"function"!=typeof o.getDerivedStateFromError?null:a.render();return n.flags|=1,null!==t&&v?(n.child=Wi(n,t.child,null,m),n.child=Wi(n,null,S,m)):Qt(t,n,S,m),n.memoizedState=a.state,d&&js(n,o,!0),n.child}function _o(t){var n=t.stateNode;n.pendingContext?ks(0,n.pendingContext,n.pendingContext!==n.context):n.context&&ks(0,n.context,!1),Ca(t,n.containerInfo)}function Mn(t,n,o,a,d){return Nr(),va(d),n.flags|=256,Qt(t,n,o,a),n.child}var Oc,$a,Rc,Fc,wn={dehydrated:null,treeContext:null,retryLane:0};function Ds(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wo(t,n,o){var S,a=n.pendingProps,d=st.current,m=!1,v=!!(128&n.flags);if((S=v)||(S=(null===t||null!==t.memoizedState)&&!!(2&d)),S?(m=!0,n.flags&=-129):(null===t||null!==t.memoizedState)&&(d|=1),Ke(st,1&d),null===t)return ga(n),null!==(t=n.memoizedState)&&null!==(t=t.dehydrated)?(n.lanes=1&n.mode?"$!"===t.data?8:1073741824:1,null):(v=a.children,t=a.fallback,m?(m=n.child,v={mode:"hidden",children:v},1&(a=n.mode)||null===m?m=sl(v,a,0,null):(m.childLanes=0,m.pendingProps=v),t=rr(t,a,o,null),m.return=n,t.return=n,m.sibling=t,n.child=m,n.child.memoizedState=Ds(o),n.memoizedState=wn,t):Wa(n,v));if(null!==(d=t.memoizedState)&&null!==(S=d.dehydrated))return function rd(t,n,o,a,d,m,v){if(o)return 256&n.flags?(n.flags&=-257,Vr(t,n,v,a=qo(Error(R(422))))):null!==n.memoizedState?(n.child=t.child,n.flags|=128,null):(m=a.fallback,a=sl({mode:"visible",children:a.children},d=n.mode,0,null),(m=rr(m,d,v,null)).flags|=2,a.return=n,m.return=n,a.sibling=m,n.child=a,1&n.mode&&Wi(n,t.child,null,v),n.child.memoizedState=Ds(v),n.memoizedState=wn,m);if(!(1&n.mode))return Vr(t,n,v,null);if("$!"===d.data){if(a=d.nextSibling&&d.nextSibling.dataset)var S=a.dgst;return a=S,Vr(t,n,v,a=qo(m=Error(R(419)),a,void 0))}if(S=!!(v&t.childLanes),nn||S){if(null!==(a=Ct)){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}0!==(d=d&(a.suspendedLanes|v)?0:d)&&d!==m.retryLane&&(m.retryLane=d,ai(t,d),zn(a,t,d,-1))}return ou(),Vr(t,n,v,a=qo(Error(R(421))))}return"$?"===d.data?(n.flags|=128,n.child=t.child,n=hd.bind(null,t),d._reactRetry=n,null):(t=m.treeContext,en=ri(d.nextSibling),dn=n,et=!0,Tn=null,null!==t&&($t[vn++]=ji,$t[vn++]=Wn,$t[vn++]=Ci,ji=t.id,Wn=t.overflow,Ci=n),(n=Wa(n,a.children)).flags|=4096,n)}(t,n,v,a,S,d,o);if(m){m=a.fallback,S=(d=t.child).sibling;var k={mode:"hidden",children:a.children};return 1&(v=n.mode)||n.child===d?(a=zi(d,k)).subtreeFlags=14680064&d.subtreeFlags:((a=n.child).childLanes=0,a.pendingProps=k,n.deletions=null),null!==S?m=zi(S,m):(m=rr(m,v,o,null)).flags|=2,m.return=n,a.return=n,a.sibling=m,n.child=a,a=m,m=n.child,v=null===(v=t.child.memoizedState)?Ds(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~o,n.memoizedState=wn,a}return t=(m=t.child).sibling,a=zi(m,{mode:"visible",children:a.children}),!(1&n.mode)&&(a.lanes=o),a.return=n,a.sibling=null,null!==t&&(null===(o=n.deletions)?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=a,n.memoizedState=null,a}function Wa(t,n){return(n=sl({mode:"visible",children:n},t.mode,0,null)).return=t,t.child=n}function Vr(t,n,o,a){return null!==a&&va(a),Wi(n,t.child,null,o),(t=Wa(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,t}function Ji(t,n,o){t.lanes|=n;var a=t.alternate;null!==a&&(a.lanes|=n),Lo(t.return,n,o)}function Ka(t,n,o,a,d){var m=t.memoizedState;null===m?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=o,m.tailMode=d)}function zc(t,n,o){var a=n.pendingProps,d=a.revealOrder,m=a.tail;if(Qt(t,n,a.children,o),2&(a=st.current))a=1&a|2,n.flags|=128;else{if(null!==t&&128&t.flags)e:for(t=n.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ji(t,o,n);else if(19===t.tag)Ji(t,o,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;null===t.sibling;){if(null===t.return||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Ke(st,a),1&n.mode)switch(d){case"forwards":for(o=n.child,d=null;null!==o;)null!==(t=o.alternate)&&null===Do(t)&&(d=o),o=o.sibling;null===(o=d)?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Ka(n,!1,d,o,m);break;case"backwards":for(o=null,d=n.child,n.child=null;null!==d;){if(null!==(t=d.alternate)&&null===Do(t)){n.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Ka(n,!0,o,null,m);break;case"together":Ka(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function Ko(t,n){!(1&n.mode)&&null!==t&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Qn(t,n,o){if(null!==t&&(n.dependencies=t.dependencies),Pi|=n.lanes,!(o&n.childLanes))return null;if(null!==t&&n.child!==t.child)throw Error(R(153));if(null!==n.child){for(o=zi(t=n.child,t.pendingProps),n.child=o,o.return=n;null!==t.sibling;)(o=o.sibling=zi(t=t.sibling,t.pendingProps)).return=n;o.sibling=null}return n.child}function zs(t,n){if(!et)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;null!==o;)null!==o.alternate&&(a=o),o=o.sibling;null===a?n||null===t.tail?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ht(t){var n=null!==t.alternate&&t.alternate.child===t.child,o=0,a=0;if(n)for(var d=t.child;null!==d;)o|=d.lanes|d.childLanes,a|=14680064&d.subtreeFlags,a|=14680064&d.flags,d.return=t,d=d.sibling;else for(d=t.child;null!==d;)o|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=o,n}function Ce(t,n,o){var a=n.pendingProps;switch(ma(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(n),null;case 1:case 17:return Jt(n.type)&&bi(),Ht(n),null;case 3:return a=n.stateNode,Or(),Ge(Kt),Ge(Ft),Aa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(null===t||null===t.child)&&(Ao(n)?n.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==Tn&&(ru(Tn),Tn=null))),$a(t,n),Ht(n),null;case 5:ja(n);var d=ci($i.current);if(o=n.type,null!==t&&null!=n.stateNode)Rc(t,n,o,a,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(null===n.stateNode)throw Error(R(166));return Ht(n),null}if(t=ci(Kn.current),Ao(n)){o=n.type;var m=n.memoizedProps;switch((a=n.stateNode)[zt]=n,a[Ir]=m,t=!!(1&n.mode),o){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(d=0;d<xs.length;d++)Ye(xs[d],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":xu(a,m),Ye("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!m.multiple},Ye("invalid",a);break;case"textarea":Su(a,m),Ye("invalid",a)}for(var v in gi(o,m),d=null,m)if(m.hasOwnProperty(v)){var S=m[v];"children"===v?"string"==typeof S?a.textContent!==S&&(!0!==m.suppressHydrationWarning&&wo(a.textContent,S,t),d=["children",S]):"number"==typeof S&&a.textContent!==""+S&&(!0!==m.suppressHydrationWarning&&wo(a.textContent,S,t),d=["children",""+S]):mt.hasOwnProperty(v)&&null!=S&&"onScroll"===v&&Ye("scroll",a)}switch(o){case"input":hl(a),wu(a,m,!0);break;case"textarea":hl(a),gl(a);break;case"select":case"option":break;default:"function"==typeof m.onClick&&(a.onclick=So)}n.updateQueue=a=d,null!==a&&(n.flags|=4)}else{v=9===d.nodeType?d:d.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ur(o)),"http://www.w3.org/1999/xhtml"===t?"script"===o?((t=v.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof a.is?t=v.createElement(o,{is:a.is}):(t=v.createElement(o),"select"===o&&(v=t,a.multiple?v.multiple=!0:a.size&&(v.size=a.size))):t=v.createElementNS(t,o),t[zt]=n,t[Ir]=a,Oc(t,n,!1,!1),n.stateNode=t;e:{switch(v=Wt(o,a),o){case"dialog":Ye("cancel",t),Ye("close",t),d=a;break;case"iframe":case"object":case"embed":Ye("load",t),d=a;break;case"video":case"audio":for(d=0;d<xs.length;d++)Ye(xs[d],t);d=a;break;case"source":Ye("error",t),d=a;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),d=a;break;case"details":Ye("toggle",t),d=a;break;case"input":xu(t,a),d=ml(t,a),Ye("invalid",t);break;case"option":default:d=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},d=W({},a,{value:void 0}),Ye("invalid",t);break;case"textarea":Su(t,a),d=Zs(t,a),Ye("invalid",t)}for(m in gi(o,d),S=d)if(S.hasOwnProperty(m)){var k=S[m];"style"===m?$(t,k):"dangerouslySetInnerHTML"===m?null!=(k=k?k.__html:void 0)&&ln(t,k):"children"===m?"string"==typeof k?("textarea"!==o||""!==k)&&Jr(t,k):"number"==typeof k&&Jr(t,""+k):"suppressContentEditableWarning"!==m&&"suppressHydrationWarning"!==m&&"autoFocus"!==m&&(mt.hasOwnProperty(m)?null!=k&&"onScroll"===m&&Ye("scroll",t):null!=k&&jt(t,m,k,v))}switch(o){case"input":hl(t),wu(t,a,!1);break;case"textarea":hl(t),gl(t);break;case"option":null!=a.value&&t.setAttribute("value",""+Fi(a.value));break;case"select":t.multiple=!!a.multiple,null!=(m=a.value)?Xr(t,!!a.multiple,m,!1):null!=a.defaultValue&&Xr(t,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof d.onClick&&(t.onclick=So)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Ht(n),null;case 6:if(t&&null!=n.stateNode)Fc(t,n,t.memoizedProps,a);else{if("string"!=typeof a&&null===n.stateNode)throw Error(R(166));if(o=ci($i.current),ci(Kn.current),Ao(n)){if(o=n.memoizedProps,(a=n.stateNode)[zt]=n,(m=a.nodeValue!==o)&&null!==(t=dn))switch(t.tag){case 3:wo(a.nodeValue,o,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&wo(a.nodeValue,o,!!(1&t.mode))}m&&(n.flags|=4)}else(a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a))[zt]=n,n.stateNode=a}return Ht(n),null;case 13:if(Ge(st),a=n.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(et&&null!==en&&1&n.mode&&!(128&n.flags))ya(),Nr(),n.flags|=98560,m=!1;else if(m=Ao(n),null!==a&&null!==a.dehydrated){if(null===t){if(!m)throw Error(R(318));if(!(m=null!==(m=n.memoizedState)?m.dehydrated:null))throw Error(R(317));m[zt]=n}else Nr(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Ht(n),m=!1}else null!==Tn&&(ru(Tn),Tn=null),m=!0;if(!m)return 65536&n.flags?n:null}return 128&n.flags?(n.lanes=o,n):((a=null!==a)!=(null!==t&&null!==t.memoizedState)&&a&&(n.child.flags|=8192,1&n.mode&&(null===t||1&st.current?0===dt&&(dt=3):ou())),null!==n.updateQueue&&(n.flags|=4),Ht(n),null);case 4:return Or(),$a(t,n),null===t&&bs(n.stateNode.containerInfo),Ht(n),null;case 10:return wa(n.type._context),Ht(n),null;case 19:if(Ge(st),null===(m=n.memoizedState))return Ht(n),null;if(a=!!(128&n.flags),null===(v=m.rendering))if(a)zs(m,!1);else{if(0!==dt||null!==t&&128&t.flags)for(t=n.child;null!==t;){if(null!==(v=Do(t))){for(n.flags|=128,zs(m,!1),null!==(a=v.updateQueue)&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=o,o=n.child;null!==o;)t=a,(m=o).flags&=14680066,null===(v=m.alternate)?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,m.dependencies=null===(t=v.dependencies)?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ke(st,1&st.current|2),n.child}t=t.sibling}null!==m.tail&&at()>_r&&(n.flags|=128,a=!0,zs(m,!1),n.lanes=4194304)}else{if(!a)if(null!==(t=Do(v))){if(n.flags|=128,a=!0,null!==(o=t.updateQueue)&&(n.updateQueue=o,n.flags|=4),zs(m,!0),null===m.tail&&"hidden"===m.tailMode&&!v.alternate&&!et)return Ht(n),null}else 2*at()-m.renderingStartTime>_r&&1073741824!==o&&(n.flags|=128,a=!0,zs(m,!1),n.lanes=4194304);m.isBackwards?(v.sibling=n.child,n.child=v):(null!==(o=m.last)?o.sibling=v:n.child=v,m.last=v)}return null!==m.tail?(m.rendering=n=m.tail,m.tail=n.sibling,m.renderingStartTime=at(),n.sibling=null,o=st.current,Ke(st,a?1&o|2:1&o),n):(Ht(n),null);case 22:case 23:return Wr(),a=null!==n.memoizedState,null!==t&&null!==t.memoizedState!==a&&(n.flags|=8192),a&&1&n.mode?1073741824&hn&&(Ht(n),6&n.subtreeFlags&&(n.flags|=8192)):Ht(n),null;case 24:case 25:return null}throw Error(R(156,n.tag))}function Qa(t,n){switch(ma(n),n.tag){case 1:return Jt(n.type)&&bi(),65536&(t=n.flags)?(n.flags=-65537&t|128,n):null;case 3:return Or(),Ge(Kt),Ge(Ft),Aa(),65536&(t=n.flags)&&!(128&t)?(n.flags=-65537&t|128,n):null;case 5:return ja(n),null;case 13:if(Ge(st),null!==(t=n.memoizedState)&&null!==t.dehydrated){if(null===n.alternate)throw Error(R(340));Nr()}return 65536&(t=n.flags)?(n.flags=-65537&t|128,n):null;case 19:return Ge(st),null;case 4:return Or(),null;case 10:return wa(n.type._context),null;case 22:case 23:return Wr(),null;default:return null}}Oc=function(t,n){for(var o=n.child;null!==o;){if(5===o.tag||6===o.tag)t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},$a=function(){},Rc=function(t,n,o,a){var d=t.memoizedProps;if(d!==a){t=n.stateNode,ci(Kn.current);var v,m=null;switch(o){case"input":d=ml(t,d),a=ml(t,a),m=[];break;case"select":d=W({},d,{value:void 0}),a=W({},a,{value:void 0}),m=[];break;case"textarea":d=Zs(t,d),a=Zs(t,a),m=[];break;default:"function"!=typeof d.onClick&&"function"==typeof a.onClick&&(t.onclick=So)}for(M in gi(o,a),o=null,d)if(!a.hasOwnProperty(M)&&d.hasOwnProperty(M)&&null!=d[M])if("style"===M){var S=d[M];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else"dangerouslySetInnerHTML"!==M&&"children"!==M&&"suppressContentEditableWarning"!==M&&"suppressHydrationWarning"!==M&&"autoFocus"!==M&&(mt.hasOwnProperty(M)?m||(m=[]):(m=m||[]).push(M,null));for(M in a){var k=a[M];if(S=d?.[M],a.hasOwnProperty(M)&&k!==S&&(null!=k||null!=S))if("style"===M)if(S){for(v in S)!S.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in k)k.hasOwnProperty(v)&&S[v]!==k[v]&&(o||(o={}),o[v]=k[v])}else o||(m||(m=[]),m.push(M,o)),o=k;else"dangerouslySetInnerHTML"===M?(S=S?S.__html:void 0,null!=(k=k?k.__html:void 0)&&S!==k&&(m=m||[]).push(M,k)):"children"===M?"string"!=typeof k&&"number"!=typeof k||(m=m||[]).push(M,""+k):"suppressContentEditableWarning"!==M&&"suppressHydrationWarning"!==M&&(mt.hasOwnProperty(M)?(null!=k&&"onScroll"===M&&Ye("scroll",t),m||S===k||(m=[])):(m=m||[]).push(M,k))}o&&(m=m||[]).push("style",o);var M=m;(n.updateQueue=M)&&(n.flags|=4)}},Fc=function(t,n,o,a){o!==a&&(n.flags|=4)};var $o=!1,Ut=!1,od="function"==typeof WeakSet?WeakSet:Set,ne=null;function er(t,n){var o=t.ref;if(null!==o)if("function"==typeof o)try{o(null)}catch(a){lt(t,n,a)}else o.current=null}function Qo(t,n,o){try{o()}catch(a){lt(t,n,a)}}var Go=!1;function Os(t,n,o){var a=n.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var d=a=a.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,void 0!==m&&Qo(n,o,m)}d=d.next}while(d!==a)}}function Yo(t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var o=n=n.next;do{(o.tag&t)===t&&(o.destroy=(0,o.create)()),o=o.next}while(o!==n)}}function Ga(t){var n=t.ref;null!==n&&(t=t.stateNode,"function"==typeof n?n(t):n.current=t)}function Bc(t){var n=t.alternate;null!==n&&(t.alternate=null,Bc(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[zt],delete n[Ir],delete n[Co],delete n[Jp],delete n[uc]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hc(t){return 5===t.tag||3===t.tag||4===t.tag}function Ya(t){e:for(;;){for(;null===t.sibling;){if(null===t.return||Hc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags||null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function nt(t,n,o){var a=t.tag;if(5===a||6===a)t=t.stateNode,n?8===o.nodeType?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(8===o.nodeType?(n=o.parentNode).insertBefore(t,o):(n=o).appendChild(t),null!=(o=o._reactRootContainer)||null!==n.onclick||(n.onclick=So));else if(4!==a&&null!==(t=t.child))for(nt(t,n,o),t=t.sibling;null!==t;)nt(t,n,o),t=t.sibling}function it(t,n,o){var a=t.tag;if(5===a||6===a)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(4!==a&&null!==(t=t.child))for(it(t,n,o),t=t.sibling;null!==t;)it(t,n,o),t=t.sibling}var yt=null,Dn=!1;function Ti(t,n,o){for(o=o.child;null!==o;)Uc(t,n,o),o=o.sibling}function Uc(t,n,o){if(Un&&"function"==typeof Un.onCommitFiberUnmount)try{Un.onCommitFiberUnmount(ro,o)}catch{}switch(o.tag){case 5:Ut||er(o,n);case 6:var a=yt,d=Dn;yt=null,Ti(t,n,o),Dn=d,null!==(yt=a)&&(Dn?(o=o.stateNode,8===(t=yt).nodeType?t.parentNode.removeChild(o):t.removeChild(o)):yt.removeChild(o.stateNode));break;case 18:null!==yt&&(Dn?(o=o.stateNode,8===(t=yt).nodeType?ca(t.parentNode,o):1===t.nodeType&&ca(t,o),uo(t)):ca(yt,o.stateNode));break;case 4:a=yt,d=Dn,yt=o.stateNode.containerInfo,Dn=!0,Ti(t,n,o),yt=a,Dn=d;break;case 0:case 11:case 14:case 15:if(!Ut&&null!==(a=o.updateQueue)&&null!==(a=a.lastEffect)){d=a=a.next;do{var m=d,v=m.destroy;m=m.tag,void 0!==v&&(2&m||4&m)&&Qo(o,n,v),d=d.next}while(d!==a)}Ti(t,n,o);break;case 1:if(!Ut&&(er(o,n),"function"==typeof(a=o.stateNode).componentWillUnmount))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(S){lt(o,n,S)}Ti(t,n,o);break;case 21:Ti(t,n,o);break;case 22:1&o.mode?(Ut=(a=Ut)||null!==o.memoizedState,Ti(t,n,o),Ut=a):Ti(t,n,o);break;default:Ti(t,n,o)}}function Za(t){var n=t.updateQueue;if(null!==n){t.updateQueue=null;var o=t.stateNode;null===o&&(o=t.stateNode=new od),n.forEach(function(a){var d=md.bind(null,t,a);o.has(a)||(o.add(a),a.then(d,d))})}}function Sn(t,n){var o=n.deletions;if(null!==o)for(var a=0;a<o.length;a++){var d=o[a];try{var m=t,v=n,S=v;e:for(;null!==S;){switch(S.tag){case 5:yt=S.stateNode,Dn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Dn=!0;break e}S=S.return}if(null===yt)throw Error(R(160));Uc(m,v,d),yt=null,Dn=!1;var k=d.alternate;null!==k&&(k.return=null),d.return=null}catch(M){lt(d,n,M)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)Xa(n,t),n=n.sibling}function Xa(t,n){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(n,t),Tt(t),4&a){try{Os(3,t,t.return),Yo(3,t)}catch(re){lt(t,t.return,re)}try{Os(5,t,t.return)}catch(re){lt(t,t.return,re)}}break;case 1:Sn(n,t),Tt(t),512&a&&null!==o&&er(o,o.return);break;case 5:if(Sn(n,t),Tt(t),512&a&&null!==o&&er(o,o.return),32&t.flags){var d=t.stateNode;try{Jr(d,"")}catch(re){lt(t,t.return,re)}}if(4&a&&null!=(d=t.stateNode)){var m=t.memoizedProps,v=null!==o?o.memoizedProps:m,S=t.type,k=t.updateQueue;if(t.updateQueue=null,null!==k)try{"input"===S&&"radio"===m.type&&null!=m.name&&bu(d,m),Wt(S,v);var M=Wt(S,m);for(v=0;v<k.length;v+=2){var _=k[v],K=k[v+1];"style"===_?$(d,K):"dangerouslySetInnerHTML"===_?ln(d,K):"children"===_?Jr(d,K):jt(d,_,K,M)}switch(S){case"input":fl(d,m);break;case"textarea":ku(d,m);break;case"select":var q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var J=m.value;null!=J?Xr(d,!!m.multiple,J,!1):q!==!!m.multiple&&(null!=m.defaultValue?Xr(d,!!m.multiple,m.defaultValue,!0):Xr(d,!!m.multiple,m.multiple?[]:"",!1))}d[Ir]=m}catch(re){lt(t,t.return,re)}}break;case 6:if(Sn(n,t),Tt(t),4&a){if(null===t.stateNode)throw Error(R(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(re){lt(t,t.return,re)}}break;case 3:if(Sn(n,t),Tt(t),4&a&&null!==o&&o.memoizedState.isDehydrated)try{uo(n.containerInfo)}catch(re){lt(t,t.return,re)}break;case 4:default:Sn(n,t),Tt(t);break;case 13:Sn(n,t),Tt(t),8192&(d=t.child).flags&&(d.stateNode.isHidden=m=null!==d.memoizedState,!m||null!==d.alternate&&null!==d.alternate.memoizedState||(nr=at())),4&a&&Za(t);break;case 22:if(_=null!==o&&null!==o.memoizedState,1&t.mode?(Ut=(M=Ut)||_,Sn(n,t),Ut=M):Sn(n,t),Tt(t),8192&a){if((t.stateNode.isHidden=M=null!==t.memoizedState)&&!_&&1&t.mode)for(ne=t,_=t.child;null!==_;){for(K=ne=_;null!==ne;){switch(J=(q=ne).child,q.tag){case 0:case 11:case 14:case 15:Os(4,q,q.return);break;case 1:er(q,q.return);var ie=q.stateNode;if("function"==typeof ie.componentWillUnmount){a=q,o=q.return;try{ie.props=(n=a).memoizedProps,ie.state=n.memoizedState,ie.componentWillUnmount()}catch(re){lt(a,o,re)}}break;case 5:er(q,q.return);break;case 22:if(null!==q.memoizedState){_c(K);continue}}null!==J?(J.return=q,ne=J):_c(K)}_=_.sibling}e:for(_=null,K=t;;){if(5===K.tag){if(null===_){_=K;try{d=K.stateNode,M?"function"==typeof(m=d.style).setProperty?m.setProperty("display","none","important"):m.display="none":(S=K.stateNode,v=null!=(k=K.memoizedProps.style)&&k.hasOwnProperty("display")?k.display:null,S.style.display=yl("display",v))}catch(re){lt(t,t.return,re)}}}else if(6===K.tag){if(null===_)try{K.stateNode.nodeValue=M?"":K.memoizedProps}catch(re){lt(t,t.return,re)}}else if((22!==K.tag&&23!==K.tag||null===K.memoizedState||K===t)&&null!==K.child){K.child.return=K,K=K.child;continue}if(K===t)break e;for(;null===K.sibling;){if(null===K.return||K.return===t)break e;_===K&&(_=null),K=K.return}_===K&&(_=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Sn(n,t),Tt(t),4&a&&Za(t);case 21:}}function Tt(t){var n=t.flags;if(2&n){try{e:{for(var o=t.return;null!==o;){if(Hc(o)){var a=o;break e}o=o.return}throw Error(R(160))}switch(a.tag){case 5:var d=a.stateNode;32&a.flags&&(Jr(d,""),a.flags&=-33),it(t,Ya(t),d);break;case 3:case 4:var v=a.stateNode.containerInfo;nt(t,Ya(t),v);break;default:throw Error(R(161))}}catch(k){lt(t,t.return,k)}t.flags&=-3}4096&n&&(t.flags&=-4097)}function ad(t,n,o){ne=t,Vc(t,n,o)}function Vc(t,n,o){for(var a=!!(1&t.mode);null!==ne;){var d=ne,m=d.child;if(22===d.tag&&a){var v=null!==d.memoizedState||$o;if(!v){var S=d.alternate,k=null!==S&&null!==S.memoizedState||Ut;S=$o;var M=Ut;if($o=v,(Ut=k)&&!M)for(ne=d;null!==ne;)k=(v=ne).child,22===v.tag&&null!==v.memoizedState?tr(d):null!==k?(k.return=v,ne=k):tr(d);for(;null!==m;)ne=m,Vc(m,n,o),m=m.sibling;ne=d,$o=S,Ut=M}qc(t)}else 8772&d.subtreeFlags&&null!==m?(m.return=d,ne=m):qc(t)}}function qc(t){for(;null!==ne;){var n=ne;if(8772&n.flags){var o=n.alternate;try{if(8772&n.flags)switch(n.tag){case 0:case 11:case 15:Ut||Yo(5,n);break;case 1:var a=n.stateNode;if(4&n.flags&&!Ut)if(null===o)a.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:bn(n.type,o.memoizedProps);a.componentDidUpdate(d,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;null!==m&&ka(n,m,a);break;case 3:var v=n.updateQueue;if(null!==v){if(o=null,null!==n.child)switch(n.child.tag){case 5:case 1:o=n.child.stateNode}ka(n,v,o)}break;case 5:if(null===o&&4&n.flags){o=n.stateNode;var k=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var M=n.alternate;if(null!==M){var _=M.memoizedState;if(null!==_){var K=_.dehydrated;null!==K&&uo(K)}}}break;default:throw Error(R(163))}Ut||512&n.flags&&Ga(n)}catch(q){lt(n,n.return,q)}}if(n===t){ne=null;break}if(null!==(o=n.sibling)){o.return=n.return,ne=o;break}ne=n.return}}function _c(t){for(;null!==ne;){var n=ne;if(n===t){ne=null;break}var o=n.sibling;if(null!==o){o.return=n.return,ne=o;break}ne=n.return}}function tr(t){for(;null!==ne;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Yo(4,n)}catch(k){lt(n,o,k)}break;case 1:var a=n.stateNode;if("function"==typeof a.componentDidMount){var d=n.return;try{a.componentDidMount()}catch(k){lt(n,d,k)}}var m=n.return;try{Ga(n)}catch(k){lt(n,m,k)}break;case 5:var v=n.return;try{Ga(n)}catch(k){lt(n,v,k)}}}catch(k){lt(n,n.return,k)}if(n===t){ne=null;break}var S=n.sibling;if(null!==S){S.return=n.return,ne=S;break}ne=n.return}}var Yc,Ja=Math.ceil,Zo=ft.ReactCurrentDispatcher,eu=ft.ReactCurrentOwner,kn=ft.ReactCurrentBatchConfig,Oe=0,Ct=null,vt=null,Ot=0,hn=0,qr=qn(0),dt=0,Rs=null,Pi=0,Xo=0,Jo=0,Fs=null,rn=null,nr=0,_r=1/0,hi=null,el=!1,tu=null,Li=null,tl=!1,Ni=null,Bs=0,Hs=0,nu=null,nl=-1,Us=0;function Gt(){return 6&Oe?at():-1!==nl?nl:nl=at()}function Mi(t){return 1&t.mode?2&Oe&&0!==Ot?Ot&-Ot:null!==td.transition?(0===Us&&(Us=Lu()),Us):(0!==(t=Ve)||(t=void 0===(t=window.event)?16:Ru(t.type)),t):1}function zn(t,n,o,a){if(50<Hs)throw Hs=0,nu=null,Error(R(185));as(t,o,a),(!(2&Oe)||t!==Ct)&&(t===Ct&&(!(2&Oe)&&(Xo|=o),4===dt&&Di(t,Ot)),sn(t,a),1===o&&0===Oe&&!(1&n.mode)&&(_r=at()+500,_n&&Si()))}function sn(t,n){var o=t.callbackNode;!function Pl(t,n){for(var o=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-En(m),S=1<<v,k=d[v];-1===k?(!(S&o)||S&a)&&(d[v]=Pu(S,n)):k<=n&&(t.expiredLanes|=S),m&=~S}}(t,n);var a=lo(t,t===Ct?Ot:0);if(0===a)null!==o&&ju(o),t.callbackNode=null,t.callbackPriority=0;else if(t.callbackPriority!==(n=a&-a)){if(null!=o&&ju(o),1===n)0===t.tag?function ed(t){_n=!0,pc(t)}(Kc.bind(null,t)):pc(Kc.bind(null,t)),Zp(function(){!(6&Oe)&&Si()}),o=null;else{switch(zl(a)){case 1:o=Et;break;case 4:o=no;break;case 16:default:o=io;break;case 536870912:o=Au}o=cu(o,Wc.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function Wc(t,n){if(nl=-1,Us=0,6&Oe)throw Error(R(327));var o=t.callbackNode;if($r()&&t.callbackNode!==o)return null;var a=lo(t,t===Ct?Ot:0);if(0===a)return null;if(30&a||a&t.expiredLanes||n)n=il(t,a);else{n=a;var d=Oe;Oe|=2;var m=Kr();for((Ct!==t||Ot!==n)&&(hi=null,_r=at()+500,ut(t,n));;)try{pd();break}catch(S){$c(t,S)}ba(),Zo.current=m,Oe=d,null!==vt?n=0:(Ct=null,Ot=0,n=dt)}if(0!==n){if(2===n&&0!==(d=Ll(t))&&(a=d,n=iu(t,d)),1===n)throw o=Rs,ut(t,0),Di(t,a),sn(t,at()),o;if(6===n)Di(t,a);else{if(d=t.current.alternate,!(30&a||function ud(t){for(var n=t;;){if(16384&n.flags){var o=n.updateQueue;if(null!==o&&null!==(o=o.stores))for(var a=0;a<o.length;a++){var d=o[a],m=d.getSnapshot;d=d.value;try{if(!In(m(),d))return!1}catch{return!1}}}if(o=n.child,16384&n.subtreeFlags&&null!==o)o.return=n,n=o;else{if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(d)||(n=il(t,a),2===n&&(m=Ll(t),0!==m&&(a=m,n=iu(t,m))),1!==n)))throw o=Rs,ut(t,0),Di(t,a),sn(t,at()),o;switch(t.finishedWork=d,t.finishedLanes=a,n){case 0:case 1:throw Error(R(345));case 2:case 5:Gn(t,rn,hi);break;case 3:if(Di(t,a),(130023424&a)===a&&10<(n=nr+500-at())){if(0!==lo(t,0))break;if(((d=t.suspendedLanes)&a)!==a){Gt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=ko(Gn.bind(null,t,rn,hi),n);break}Gn(t,rn,hi);break;case 4:if(Di(t,a),(4194240&a)===a)break;for(n=t.eventTimes,d=-1;0<a;){var v=31-En(a);m=1<<v,(v=n[v])>d&&(d=v),a&=~m}if(a=d,10<(a=(120>(a=at()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ja(a/1960))-a)){t.timeoutHandle=ko(Gn.bind(null,t,rn,hi),a);break}Gn(t,rn,hi);break;default:throw Error(R(329))}}}return sn(t,at()),t.callbackNode===o?Wc.bind(null,t):null}function iu(t,n){var o=Fs;return t.current.memoizedState.isDehydrated&&(ut(t,n).flags|=256),2!==(t=il(t,n))&&(n=rn,rn=o,null!==n&&ru(n)),t}function ru(t){null===rn?rn=t:rn.push.apply(rn,t)}function Di(t,n){for(n&=~Jo,t.suspendedLanes|=n&=~Xo,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-En(n),a=1<<o;t[o]=-1,n&=~a}}function Kc(t){if(6&Oe)throw Error(R(327));$r();var n=lo(t,0);if(!(1&n))return sn(t,at()),null;var o=il(t,n);if(0!==t.tag&&2===o){var a=Ll(t);0!==a&&(n=a,o=iu(t,a))}if(1===o)throw o=Rs,ut(t,0),Di(t,n),sn(t,at()),o;if(6===o)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Gn(t,rn,hi),sn(t,at()),null}function su(t,n){var o=Oe;Oe|=1;try{return t(n)}finally{0===(Oe=o)&&(_r=at()+500,_n&&Si())}}function ir(t){null!==Ni&&0===Ni.tag&&!(6&Oe)&&$r();var n=Oe;Oe|=1;var o=kn.transition,a=Ve;try{if(kn.transition=null,Ve=1,t)return t()}finally{Ve=a,kn.transition=o,!(6&(Oe=n))&&Si()}}function Wr(){hn=qr.current,Ge(qr)}function ut(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(-1!==o&&(t.timeoutHandle=-1,Yp(o)),null!==vt)for(o=vt.return;null!==o;){var a=o;switch(ma(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&bi();break;case 3:Or(),Ge(Kt),Ge(Ft),Aa();break;case 5:ja(a);break;case 4:Or();break;case 13:case 19:Ge(st);break;case 10:wa(a.type._context);break;case 22:case 23:Wr()}o=o.return}if(Ct=t,vt=t=zi(t.current,null),Ot=hn=n,dt=0,Rs=null,Jo=Xo=Pi=0,rn=Fs=null,null!==Ei){for(n=0;n<Ei.length;n++)if(null!==(a=(o=Ei[n]).interleaved)){o.interleaved=null;var m=o.pending;if(null!==m){var v=m.next;m.next=a.next,a.next=v}o.pending=a}Ei=null}return t}function $c(t,n){for(;;){var o=vt;try{if(ba(),zo.current=Ns,Oo){for(var a=ot.memoizedState;null!==a;){var d=a.queue;null!==d&&(d.pending=null),a=a.next}Oo=!1}if(Gi=0,At=pt=ot=null,Yi=!1,Rr=0,eu.current=null,null===o||null===o.return){dt=1,Rs=n,vt=null;break}e:{var m=t,v=o.return,S=o,k=n;if(n=Ot,S.flags|=32768,null!==k&&"object"==typeof k&&"function"==typeof k.then){var M=k,_=S,K=_.tag;if(!(1&_.mode||0!==K&&11!==K&&15!==K)){var q=_.alternate;q?(_.updateQueue=q.updateQueue,_.memoizedState=q.memoizedState,_.lanes=q.lanes):(_.updateQueue=null,_.memoizedState=null)}var J=Va(v);if(null!==J){J.flags&=-257,qa(J,v,S,0,n),1&J.mode&&Pc(m,M,n),k=M;var ie=(n=J).updateQueue;if(null===ie){var re=new Set;re.add(k),n.updateQueue=re}else ie.add(k);break e}if(!(1&n)){Pc(m,M,n),ou();break e}k=Error(R(426))}else if(et&&1&S.mode){var ct=Va(v);if(null!==ct){!(65536&ct.flags)&&(ct.flags|=256),qa(ct,v,S,0,n),va(Ur(k,S));break e}}m=k=Ur(k,S),4!==dt&&(dt=2),null===Fs?Fs=[m]:Fs.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,m.lanes|=n&=-n,bc(m,Nn(0,k,n));break e;case 1:S=k;var P=m.stateNode;if(!(128&m.flags||"function"!=typeof m.type.getDerivedStateFromError&&(null===P||"function"!=typeof P.componentDidCatch||null!==Li&&Li.has(P)))){m.flags|=65536,m.lanes|=n&=-n,bc(m,Zi(m,S,n));break e}}m=m.return}while(null!==m)}au(o)}catch(se){n=se,vt===o&&null!==o&&(vt=o=o.return);continue}break}}function Kr(){var t=Zo.current;return Zo.current=Ns,null===t?Ns:t}function ou(){(0===dt||3===dt||2===dt)&&(dt=4),null===Ct||!(268435455&Pi)&&!(268435455&Xo)||Di(Ct,Ot)}function il(t,n){var o=Oe;Oe|=2;var a=Kr();for((Ct!==t||Ot!==n)&&(hi=null,ut(t,n));;)try{cd();break}catch(d){$c(t,d)}if(ba(),Oe=o,Zo.current=a,null!==vt)throw Error(R(261));return Ct=null,Ot=0,dt}function cd(){for(;null!==vt;)lu(vt)}function pd(){for(;null!==vt&&!os();)lu(vt)}function lu(t){var n=Yc(t.alternate,t,hn);t.memoizedProps=t.pendingProps,null===n?au(t):vt=n,eu.current=null}function au(t){var n=t;do{var o=n.alternate;if(t=n.return,32768&n.flags){if(null!==(o=Qa(o,n)))return o.flags&=32767,void(vt=o);if(null===t)return dt=6,void(vt=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(o=Ce(o,n,hn)))return void(vt=o);if(null!==(n=n.sibling))return void(vt=n);vt=n=t}while(null!==n);0===dt&&(dt=5)}function Gn(t,n,o){var a=Ve,d=kn.transition;try{kn.transition=null,Ve=1,function Qc(t,n,o,a){do{$r()}while(null!==Ni);if(6&Oe)throw Error(R(327));var d=t.finishedLanes;if(null===(o=t.finishedWork))return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(function Ml(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-En(o),m=1<<d;n[d]=0,a[d]=-1,t[d]=-1,o&=~m}}(t,m),t===Ct&&(vt=Ct=null,Ot=0),!(2064&o.subtreeFlags)&&!(2064&o.flags)||tl||(tl=!0,cu(io,function(){return $r(),null})),m=!!(15990&o.flags),15990&o.subtreeFlags||m){m=kn.transition,kn.transition=null;var v=Ve;Ve=1;var S=Oe;Oe|=4,eu.current=null,function ld(t,n){if(oa=un,ys(t=Jl())){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else{var a=(o=(o=t.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(a&&0!==a.rangeCount){o=a.anchorNode;var d=a.anchorOffset,m=a.focusNode;a=a.focusOffset;var v=0,S=-1,k=-1,M=0,_=0,K=t,q=null;t:for(;;){for(var J;K!==o||0!==d&&3!==K.nodeType||(S=v+d),K!==m||0!==a&&3!==K.nodeType||(k=v+a),3===K.nodeType&&(v+=K.nodeValue.length),null!==(J=K.firstChild);)q=K,K=J;for(;;){if(K===t)break t;if(q===o&&++M===d&&(S=v),q===m&&++_===a&&(k=v),null!==(J=K.nextSibling))break;q=(K=q).parentNode}K=J}o=-1===S||-1===k?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(la={focusedElem:t,selectionRange:o},un=!1,ne=n;null!==ne;)if(t=(n=ne).child,1028&n.subtreeFlags&&null!==t)t.return=n,ne=t;else for(;null!==ne;){n=ne;try{var ie=n.alternate;if(1024&n.flags)switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==ie){var re=ie.memoizedProps,ct=ie.memoizedState,T=n.stateNode,A=T.getSnapshotBeforeUpdate(n.elementType===n.type?re:bn(n.type,re),ct);T.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var P=n.stateNode.containerInfo;1===P.nodeType?P.textContent="":9===P.nodeType&&P.documentElement&&P.removeChild(P.documentElement);break;default:throw Error(R(163))}}catch(G){lt(n,n.return,G)}if(null!==(t=n.sibling)){t.return=n.return,ne=t;break}ne=n.return}ie=Go,Go=!1}(t,o),Xa(o,t),Qu(la),un=!!oa,la=oa=null,t.current=o,ad(o,t,d),Tl(),Oe=S,Ve=v,kn.transition=m}else t.current=o;if(tl&&(tl=!1,Ni=t,Bs=d),0===(m=t.pendingLanes)&&(Li=null),function Iu(t){if(Un&&"function"==typeof Un.onCommitFiberRoot)try{Un.onCommitFiberRoot(ro,t,void 0,!(128&~t.current.flags))}catch{}}(o.stateNode),sn(t,at()),null!==n)for(a=t.onRecoverableError,o=0;o<n.length;o++)a((d=n[o]).value,{componentStack:d.stack,digest:d.digest});if(el)throw el=!1,t=tu,tu=null,t;1&Bs&&0!==t.tag&&$r(),1&(m=t.pendingLanes)?t===nu?Hs++:(Hs=0,nu=t):Hs=0,Si()}(t,n,o,a)}finally{kn.transition=d,Ve=a}return null}function $r(){if(null!==Ni){var t=zl(Bs),n=kn.transition,o=Ve;try{if(kn.transition=null,Ve=16>t?16:t,null===Ni)var a=!1;else{if(t=Ni,Ni=null,Bs=0,6&Oe)throw Error(R(331));var d=Oe;for(Oe|=4,ne=t.current;null!==ne;){var m=ne,v=m.child;if(16&ne.flags){var S=m.deletions;if(null!==S){for(var k=0;k<S.length;k++){var M=S[k];for(ne=M;null!==ne;){var _=ne;switch(_.tag){case 0:case 11:case 15:Os(8,_,m)}var K=_.child;if(null!==K)K.return=_,ne=K;else for(;null!==ne;){var q=(_=ne).sibling,J=_.return;if(Bc(_),_===M){ne=null;break}if(null!==q){q.return=J,ne=q;break}ne=J}}}var ie=m.alternate;if(null!==ie){var re=ie.child;if(null!==re){ie.child=null;do{var ct=re.sibling;re.sibling=null,re=ct}while(null!==re)}}ne=m}}if(2064&m.subtreeFlags&&null!==v)v.return=m,ne=v;else e:for(;null!==ne;){if(2048&(m=ne).flags)switch(m.tag){case 0:case 11:case 15:Os(9,m,m.return)}var T=m.sibling;if(null!==T){T.return=m.return,ne=T;break e}ne=m.return}}var A=t.current;for(ne=A;null!==ne;){var P=(v=ne).child;if(2064&v.subtreeFlags&&null!==P)P.return=v,ne=P;else e:for(v=A;null!==ne;){if(2048&(S=ne).flags)try{switch(S.tag){case 0:case 11:case 15:Yo(9,S)}}catch(se){lt(S,S.return,se)}if(S===v){ne=null;break e}var G=S.sibling;if(null!==G){G.return=S.return,ne=G;break e}ne=S.return}}if(Oe=d,Si(),Un&&"function"==typeof Un.onPostCommitFiberRoot)try{Un.onPostCommitFiberRoot(ro,t)}catch{}a=!0}return a}finally{Ve=o,kn.transition=n}}return!1}function Gc(t,n,o){t=Ai(t,n=Nn(0,n=Ur(o,n),1),1),n=Gt(),null!==t&&(as(t,1,n),sn(t,n))}function lt(t,n,o){if(3===t.tag)Gc(t,t,o);else for(;null!==n;){if(3===n.tag){Gc(n,t,o);break}if(1===n.tag){var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Li||!Li.has(a))){n=Ai(n,t=Zi(n,t=Ur(o,t),1),1),t=Gt(),null!==n&&(as(n,1,t),sn(n,t));break}}n=n.return}}function dd(t,n,o){var a=t.pingCache;null!==a&&a.delete(n),n=Gt(),t.pingedLanes|=t.suspendedLanes&o,Ct===t&&(Ot&o)===o&&(4===dt||3===dt&&(130023424&Ot)===Ot&&500>at()-nr?ut(t,0):Jo|=o),sn(t,n)}function uu(t,n){0===n&&(1&t.mode?(n=oo,!(130023424&(oo<<=1))&&(oo=4194304)):n=1);var o=Gt();null!==(t=ai(t,n))&&(as(t,n,o),sn(t,o))}function hd(t){var n=t.memoizedState,o=0;null!==n&&(o=n.retryLane),uu(t,o)}function md(t,n){var o=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;null!==d&&(o=d.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(R(314))}null!==a&&a.delete(n),uu(t,o)}function cu(t,n){return Il(t,n)}function On(t,n,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,o,a){return new On(t,n,o,a)}function pu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zi(t,n){var o=t.alternate;return null===o?((o=Cn(t.tag,n,t.key,t.mode)).elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=14680064&t.flags,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,o.dependencies=null===(n=t.dependencies)?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function rl(t,n,o,a,d,m){var v=2;if(a=t,"function"==typeof t)pu(t)&&(v=1);else if("string"==typeof t)v=5;else e:switch(t){case wt:return rr(o.children,d,m,n);case on:v=8,d|=8;break;case Xn:return(t=Cn(12,o,n,2|d)).elementType=Xn,t.lanes=m,t;case St:return(t=Cn(13,o,n,d)).elementType=St,t.lanes=m,t;case Jn:return(t=Cn(19,o,n,d)).elementType=Jn,t.lanes=m,t;case Se:return sl(o,d,m,n);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case jn:v=10;break e;case we:v=9;break e;case Q:v=11;break e;case ee:v=14;break e;case de:v=16,a=null;break e}throw Error(R(130,null==t?t:typeof t,""))}return(n=Cn(v,o,n,d)).elementType=t,n.type=a,n.lanes=m,n}function rr(t,n,o,a){return(t=Cn(7,t,a,n)).lanes=o,t}function sl(t,n,o,a){return(t=Cn(22,t,a,n)).elementType=Se,t.lanes=o,t.stateNode={isHidden:!1},t}function ol(t,n,o){return(t=Cn(6,t,null,n)).lanes=o,t}function Vt(t,n,o){return(n=Cn(4,null!==t.children?t.children:[],t.key,n)).lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Zc(t,n,o,a,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function du(t,n,o,a,d,m,v,S,k){return t=new Zc(t,n,o,S,k),1===n?(n=1,!0===m&&(n|=8)):n=0,m=Cn(3,null,null,n),t.current=m,m.stateNode=t,m.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(m),t}function Vs(t){if(!t)return li;e:{if(dr(t=t._reactInternals)!==t||1!==t.tag)throw Error(R(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Jt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(R(171))}if(1===t.tag){var o=t.type;if(Jt(o))return cc(t,o,n)}return n}function ll(t,n,o,a){var d=n.current,m=Gt(),v=Mi(d);return o=Vs(o),null===n.context?n.context=o:n.pendingContext=o,(n=ui(m,v)).payload={element:t},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(t=Ai(d,n,v))&&(zn(t,d,v,m),No(t,d,v)),v}function al(t){return(t=t.current).child?t.child.stateNode:null}function Xc(t,n){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var o=t.retryLane;t.retryLane=0!==o&&o<n?o:n}}function hu(t,n){Xc(t,n),(t=t.alternate)&&Xc(t,n)}Yc=function(t,n,o){if(null!==t)if(t.memoizedProps!==n.pendingProps||Kt.current)nn=!0;else{if(!(t.lanes&o||128&n.flags))return nn=!1,function sd(t,n,o){switch(n.tag){case 3:_o(n),Nr();break;case 5:Ln(n);break;case 1:Jt(n.type)&&Cs(n);break;case 4:Ca(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,d=n.memoizedProps.value;Ke(To,a._currentValue),a._currentValue=d;break;case 13:if(null!==(a=n.memoizedState))return null!==a.dehydrated?(Ke(st,1&st.current),n.flags|=128,null):o&n.child.childLanes?Wo(t,n,o):(Ke(st,1&st.current),null!==(t=Qn(t,n,o))?t.sibling:null);Ke(st,1&st.current);break;case 19:if(a=!!(o&n.childLanes),128&t.flags){if(a)return zc(t,n,o);n.flags|=128}if(null!==(d=n.memoizedState)&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(st,st.current),a)break;return null;case 22:case 23:return n.lanes=0,Dc(t,n,o)}return Qn(t,n,o)}(t,n,o);nn=!!(131072&t.flags)}else nn=!1,et&&1048576&n.flags&&da(n,Eo,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Ko(t,n),t=n.pendingProps;var d=Pr(n,Ft.current);Ki(n,o),d=Ta(null,n,a,t,d,o);var m=Pa();return n.flags|=1,"object"==typeof d&&null!==d&&"function"==typeof d.render&&void 0===d.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Jt(a)?(m=!0,Cs(n)):m=!1,n.memoizedState=null!=d.state?d.state:null,As(n),d.updater=Vo,n.stateNode=d,d._reactInternals=n,Ha(n,a,t,o),n=_a(null,n,a,!0,m,o)):(n.tag=0,et&&m&&ha(n),Qt(null,n,d,o),n=n.child),n;case 16:a=n.elementType;e:{switch(Ko(t,n),t=n.pendingProps,a=(d=a._init)(a._payload),n.type=a,d=n.tag=function fd(t){if("function"==typeof t)return pu(t)?1:0;if(null!=t){if((t=t.$$typeof)===Q)return 11;if(t===ee)return 14}return 2}(a),t=bn(a,t),d){case 0:n=di(null,n,a,t,o);break e;case 1:n=Ms(null,n,a,t,o);break e;case 11:n=Lc(null,n,a,t,o);break e;case 14:n=Nc(null,n,a,bn(a.type,t),o);break e}throw Error(R(306,a,""))}return n;case 0:return d=n.pendingProps,di(t,n,a=n.type,d=n.elementType===a?d:bn(a,d),o);case 1:return d=n.pendingProps,Ms(t,n,a=n.type,d=n.elementType===a?d:bn(a,d),o);case 3:e:{if(_o(n),null===t)throw Error(R(387));a=n.pendingProps,d=(m=n.memoizedState).element,xc(t,n),Mo(n,a,null,o);var v=n.memoizedState;if(a=v.element,m.isDehydrated){if(n.updateQueue.baseState=m={element:a,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.memoizedState=m,256&n.flags){n=Mn(t,n,a,o,d=Ur(Error(R(423)),n));break e}if(a!==d){n=Mn(t,n,a,o,d=Ur(Error(R(424)),n));break e}for(en=ri(n.stateNode.containerInfo.firstChild),dn=n,et=!0,Tn=null,o=yc(n,null,a,o),n.child=o;o;)o.flags=-3&o.flags|4096,o=o.sibling}else{if(Nr(),a===d){n=Qn(t,n,o);break e}Qt(t,n,a,o)}n=n.child}return n;case 5:return Ln(n),null===t&&ga(n),m=null!==t?t.memoizedProps:null,v=(d=n.pendingProps).children,aa(a=n.type,d)?v=null:null!==m&&aa(a,m)&&(n.flags|=32),Xi(t,n),Qt(t,n,v,o),n.child;case 6:return null===t&&ga(n),null;case 13:return Wo(t,n,o);case 4:return Ca(n,n.stateNode.containerInfo),a=n.pendingProps,null===t?n.child=Wi(n,null,a,o):Qt(t,n,a,o),n.child;case 11:return d=n.pendingProps,Lc(t,n,a=n.type,d=n.elementType===a?d:bn(a,d),o);case 7:return Qt(t,n,n.pendingProps,o),n.child;case 8:case 12:return Qt(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(m=n.memoizedProps,v=(d=n.pendingProps).value,Ke(To,(a=n.type._context)._currentValue),a._currentValue=v,null!==m)if(In(m.value,v)){if(m.children===d.children&&!Kt.current){n=Qn(t,n,o);break e}}else for(null!==(m=n.child)&&(m.return=n);null!==m;){var S=m.dependencies;if(null!==S){v=m.child;for(var k=S.firstContext;null!==k;){if(k.context===a){if(1===m.tag){(k=ui(-1,o&-o)).tag=2;var M=m.updateQueue;if(null!==M){var _=(M=M.shared).pending;null===_?k.next=k:(k.next=_.next,_.next=k),M.pending=k}}m.lanes|=o,null!==(k=m.alternate)&&(k.lanes|=o),Lo(m.return,o,n),S.lanes|=o;break}k=k.next}}else if(10===m.tag)v=m.type===n.type?null:m.child;else if(18===m.tag){if(null===(v=m.return))throw Error(R(341));v.lanes|=o,null!==(S=v.alternate)&&(S.lanes|=o),Lo(v,o,n),v=m.sibling}else v=m.child;if(null!==v)v.return=m;else for(v=m;null!==v;){if(v===n){v=null;break}if(null!==(m=v.sibling)){m.return=v.return,v=m;break}v=v.return}m=v}Qt(t,n,d.children,o),n=n.child}return n;case 9:return d=n.type,a=n.pendingProps.children,Ki(n,o),a=a(d=xn(d)),n.flags|=1,Qt(t,n,a,o),n.child;case 14:return d=bn(a=n.type,n.pendingProps),Nc(t,n,a,d=bn(a.type,d),o);case 15:return Mc(t,n,n.type,n.pendingProps,o);case 17:return d=n.pendingProps,d=n.elementType===(a=n.type)?d:bn(a,d),Ko(t,n),n.tag=1,Jt(a)?(t=!0,Cs(n)):t=!1,Ki(n,o),Ic(n,a,d),Ha(n,a,d,o),_a(null,n,a,!0,t,o);case 19:return zc(t,n,o);case 22:return Dc(t,n,o)}throw Error(R(156,n.tag))};"function"==typeof reportError&&reportError;function mu(t){this._internalRoot=t}function cl(t){this._internalRoot=t}function Jc(){}function Yr(t,n,o,a,d){var m=o._reactRootContainer;if(m){var v=m;if("function"==typeof d){var S=d;d=function(){var k=al(v);S.call(k)}}ll(n,v,t,d)}else v=function ep(t,n,o,a,d){if(d){if("function"==typeof a){var m=a;a=function(){var M=al(v);m.call(M)}}var v=function Qr(t,n,o,a,d,m,v,S,k){return(t=du(o,a,!0,t,0,m,0,S,k)).context=Vs(null),o=t.current,(m=ui(a=Gt(),d=Mi(o))).callback=n??null,Ai(o,m,d),t.current.lanes=d,as(t,d,a),sn(t,a),t}(n,a,t,0,null,!1,0,"",Jc);return t._reactRootContainer=v,t[si]=v.current,bs(8===t.nodeType?t.parentNode:t),ir(),v}for(;d=t.lastChild;)t.removeChild(d);if("function"==typeof a){var S=a;a=function(){var M=al(k);S.call(M)}}var k=du(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=k,t[si]=k.current,bs(8===t.nodeType?t.parentNode:t),ir(function(){ll(n,k,o,a)}),k}(o,n,t,d,a);return al(v)}cl.prototype.render=mu.prototype.render=function(t){var n=this._internalRoot;if(null===n)throw Error(R(409));ll(t,n,null,null)},cl.prototype.unmount=mu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var n=t.containerInfo;ir(function(){ll(null,t,null,null)}),n[si]=null}},cl.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mu();t={blockedOn:null,target:t,priority:n};for(var o=0;o<kt.length&&0!==n&&n<kt[o].priority;o++);kt.splice(o,0,t),0===o&&zu(t)}},hr=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=ls(n.pendingLanes);0!==o&&(Dl(n,1|o),sn(n,at()),!(6&Oe)&&(_r=at()+500,Si()))}break;case 13:ir(function(){var a=ai(t,1);if(null!==a){var d=Gt();zn(a,t,1,d)}}),hu(t,1)}},Ol=function(t){if(13===t.tag){var n=ai(t,134217728);null!==n&&zn(n,t,134217728,Gt()),hu(t,134217728)}},Nu=function(t){if(13===t.tag){var n=Mi(t),o=ai(t,n);null!==o&&zn(o,t,n,Gt()),hu(t,n)}},Mu=function(){return Ve},Du=function(t,n){var o=Ve;try{return Ve=t,n()}finally{Ve=o}},ts=function(t,n,o){switch(n){case"input":if(fl(t,o),n=o.name,"radio"===o.type&&null!=n){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==t&&a.form===t.form){var d=Tr(a);if(!d)throw Error(R(90));rp(a),fl(a,d)}}}break;case"textarea":ku(t,o);break;case"select":null!=(n=o.value)&&Xr(t,!!o.multiple,n,!1)}},bl=su,wl=ir;var Oi={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_s={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Al(t))?null:t.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||function gd(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{ro=mi.inject(_s),Un=mi}catch{}}be.render=function(t,n,o){if(!function Gr(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}(n))throw Error(R(200));return Yr(null,t,n,!1,o)}},6046:(Zn,be,F)=>{"use strict";(function Le(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Le)}catch(Lt){console.error(Lt)}})(),Zn.exports=F(7578)},3909:(Zn,be)=>{"use strict";function F(ee,de){var Se=ee.length;ee.push(de);e:for(;0<Se;){var rt=Se-1>>>1,Je=ee[rt];if(!(0<He(Je,de)))break e;ee[rt]=de,ee[Se]=Je,Se=rt}}function Le(ee){return 0===ee.length?null:ee[0]}function Lt(ee){if(0===ee.length)return null;var de=ee[0],Se=ee.pop();if(Se!==de){ee[0]=Se;e:for(var rt=0,Je=ee.length,W=Je>>>1;rt<W;){var Zt=2*(rt+1)-1,gn=ee[Zt],_t=Zt+1,p=ee[_t];if(0>He(gn,Se))_t<Je&&0>He(p,gn)?(ee[rt]=p,ee[_t]=Se,rt=_t):(ee[rt]=gn,ee[Zt]=Se,rt=Zt);else{if(!(_t<Je&&0>He(p,Se)))break e;ee[rt]=p,ee[_t]=Se,rt=_t}}}return de}function He(ee,de){var Se=ee.sortIndex-de.sortIndex;return 0!==Se?Se:ee.id-de.id}if("object"==typeof performance&&"function"==typeof performance.now){var R=performance;be.unstable_now=function(){return R.now()}}else{var Nt=Date,mt=Nt.now();be.unstable_now=function(){return Nt.now()-mt}}var Ue=[],fe=[],Te=1,Ne=null,Me=3,qt=!1,Mt=!1,xe=!1,xt="function"==typeof setTimeout?setTimeout:null,Dt="function"==typeof clearTimeout?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;function je(ee){for(var de=Le(fe);null!==de;){if(null===de.callback)Lt(fe);else{if(!(de.startTime<=ee))break;Lt(fe),de.sortIndex=de.expirationTime,F(Ue,de)}de=Le(fe)}}function z(ee){if(xe=!1,je(ee),!Mt)if(null!==Le(Ue))Mt=!0,St(De);else{var de=Le(fe);null!==de&&Jn(z,de.startTime-ee)}}function De(ee,de){Mt=!1,xe&&(xe=!1,Dt(bt),bt=-1),qt=!0;var Se=Me;try{for(je(de),Ne=Le(Ue);null!==Ne&&(!(Ne.expirationTime>de)||ee&&!on());){var rt=Ne.callback;if("function"==typeof rt){Ne.callback=null,Me=Ne.priorityLevel;var Je=rt(Ne.expirationTime<=de);de=be.unstable_now(),"function"==typeof Je?Ne.callback=Je:Ne===Le(Ue)&&Lt(Ue),je(de)}else Lt(Ue);Ne=Le(Ue)}if(null!==Ne)var W=!0;else{var Zt=Le(fe);null!==Zt&&Jn(z,Zt.startTime-de),W=!1}return W}finally{Ne=null,Me=Se,qt=!1}}typeof navigator<"u"&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var jn,jt=!1,ft=null,bt=-1,fn=5,wt=-1;function on(){return!(be.unstable_now()-wt<fn)}function Xn(){if(null!==ft){var ee=be.unstable_now();wt=ee;var de=!0;try{de=ft(!0,ee)}finally{de?jn():(jt=!1,ft=null)}}else jt=!1}if("function"==typeof Pe)jn=function(){Pe(Xn)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Q=we.port2;we.port1.onmessage=Xn,jn=function(){Q.postMessage(null)}}else jn=function(){xt(Xn,0)};function St(ee){ft=ee,jt||(jt=!0,jn())}function Jn(ee,de){bt=xt(function(){ee(be.unstable_now())},de)}be.unstable_IdlePriority=5,be.unstable_ImmediatePriority=1,be.unstable_LowPriority=4,be.unstable_NormalPriority=3,be.unstable_Profiling=null,be.unstable_UserBlockingPriority=2,be.unstable_cancelCallback=function(ee){ee.callback=null},be.unstable_continueExecution=function(){Mt||qt||(Mt=!0,St(De))},be.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fn=0<ee?Math.floor(1e3/ee):5},be.unstable_getCurrentPriorityLevel=function(){return Me},be.unstable_getFirstCallbackNode=function(){return Le(Ue)},be.unstable_next=function(ee){switch(Me){case 1:case 2:case 3:var de=3;break;default:de=Me}var Se=Me;Me=de;try{return ee()}finally{Me=Se}},be.unstable_pauseExecution=function(){},be.unstable_requestPaint=function(){},be.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Se=Me;Me=ee;try{return de()}finally{Me=Se}},be.unstable_scheduleCallback=function(ee,de,Se){var rt=be.unstable_now();switch(Se="object"==typeof Se&&null!==Se&&"number"==typeof(Se=Se.delay)&&0<Se?rt+Se:rt,ee){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return ee={id:Te++,callback:de,priorityLevel:ee,startTime:Se,expirationTime:Je=Se+Je,sortIndex:-1},Se>rt?(ee.sortIndex=Se,F(fe,ee),null===Le(Ue)&&ee===Le(fe)&&(xe?(Dt(bt),bt=-1):xe=!0,Jn(z,Se-rt))):(ee.sortIndex=Je,F(Ue,ee),Mt||qt||(Mt=!0,St(De))),ee},be.unstable_shouldYield=on,be.unstable_wrapCallback=function(ee){var de=Me;return function(){var Se=Me;Me=de;try{return ee.apply(this,arguments)}finally{Me=Se}}}},1605:(Zn,be,F)=>{"use strict";Zn.exports=F(3909)},5390:function(Zn,be,F){"use strict";var Le=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(be,"__esModule",{value:!0});var Lt=Le(F(1763));be.default=function He(R,Nt){var mt=null;if(!R||"string"!=typeof R)return mt;var Ue=(0,Lt.default)(R),fe="function"==typeof Nt;return Ue.forEach(function(Te){if("declaration"===Te.type){var Ne=Te.property,Me=Te.value;fe?Nt(Ne,Me,Te):Me&&((mt=mt||{})[Ne]=Me)}}),mt}}}]);