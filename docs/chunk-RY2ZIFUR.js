import{A as De,B as Kn,E as Wo,F as Xo,G as Rr,H as Vt,I as ol,J as Ps,K as Fi,L as $i,N as en,P as Jn,Q as Is,R as u0,S as Ds,U as al,W as Pr,X as Ir,Z as c0,a as we,b as r0,ba as l0,c as tn,ca as qs,d as Rs,e as i0,ea as Oi,f as tl,g as o0,h as Di,i as qi,k as a0,l as s0,m as Ft,n as Pe,na as h0,o as el,oa as p0,p as Sn,q as Tn,r as nl,s as f0,v as Zn,x as rl,y as il,z as Ie}from"./chunk-BEWIELXA.js";import{M as Ns,S as Ke,U as zs,V as Je,X as Nt,Y as n0,a as Ze,b as zr,c as t0,e as Nw,h as e0,o as Cs,p as _e,w as Mt,x as Ho}from"./chunk-IXCA767C.js";var Lo={};Nw(Lo,{Adder:()=>mt,Delaunay:()=>Of,FormatSpecifier:()=>Ia,InternMap:()=>qe,InternSet:()=>le,Node:()=>mn,Path:()=>qn,Voronoi:()=>uo,ZoomTransform:()=>ze,active:()=>vg,arc:()=>S_,area:()=>Po,areaRadial:()=>Fd,ascending:()=>at,autoType:()=>Rh,axisBottom:()=>Ws,axisLeft:()=>B0,axisRight:()=>L0,axisTop:()=>O0,bin:()=>Ls,bisect:()=>ce,bisectCenter:()=>x0,bisectLeft:()=>g0,bisectRight:()=>sl,bisector:()=>tr,blob:()=>px,blur:()=>y0,blur2:()=>Fs,blurImage:()=>b0,brush:()=>Cg,brushSelection:()=>Ag,brushX:()=>Df,brushY:()=>Eg,buffer:()=>dx,chord:()=>zg,chordDirected:()=>Pg,chordTranspose:()=>Rg,cluster:()=>ky,color:()=>Gt,contourDensity:()=>Wg,contours:()=>Ea,count:()=>kn,create:()=>Zs,creator:()=>nr,cross:()=>ul,csv:()=>gx,csvFormat:()=>nx,csvFormatBody:()=>rx,csvFormatRow:()=>ox,csvFormatRows:()=>ix,csvFormatValue:()=>ax,csvParse:()=>Lf,csvParseRows:()=>ex,cubehelix:()=>Qt,cumsum:()=>cl,curveBasis:()=>Dc,curveBasisClosed:()=>O_,curveBasisOpen:()=>B_,curveBumpX:()=>wc,curveBumpY:()=>Mc,curveBundle:()=>U_,curveCardinal:()=>V_,curveCardinalClosed:()=>H_,curveCardinalOpen:()=>W_,curveCatmullRom:()=>j_,curveCatmullRomClosed:()=>Q_,curveCatmullRomOpen:()=>K_,curveLinear:()=>Cr,curveLinearClosed:()=>tw,curveMonotoneX:()=>aw,curveMonotoneY:()=>sw,curveNatural:()=>cw,curveStep:()=>Bc,curveStepAfter:()=>hw,curveStepBefore:()=>lw,descending:()=>jo,deviation:()=>Qo,difference:()=>Il,disjoint:()=>Dl,dispatch:()=>Me,drag:()=>Im,dragDisable:()=>or,dragEnable:()=>ar,dsv:()=>Ph,dsvFormat:()=>gr,easeBack:()=>lh,easeBackIn:()=>mg,easeBackInOut:()=>lh,easeBackOut:()=>gg,easeBounce:()=>no,easeBounceIn:()=>pg,easeBounceInOut:()=>dg,easeBounceOut:()=>no,easeCircle:()=>fh,easeCircleIn:()=>lg,easeCircleInOut:()=>fh,easeCircleOut:()=>hg,easeCubic:()=>Sa,easeCubicIn:()=>ng,easeCubicInOut:()=>Sa,easeCubicOut:()=>rg,easeElastic:()=>dh,easeElasticIn:()=>xg,easeElasticInOut:()=>yg,easeElasticOut:()=>dh,easeExp:()=>sh,easeExpIn:()=>cg,easeExpInOut:()=>sh,easeExpOut:()=>Cf,easeLinear:()=>J1,easePoly:()=>oh,easePolyIn:()=>ig,easePolyInOut:()=>oh,easePolyOut:()=>og,easeQuad:()=>rh,easeQuadIn:()=>tg,easeQuadInOut:()=>rh,easeQuadOut:()=>eg,easeSin:()=>ah,easeSinIn:()=>fg,easeSinInOut:()=>ah,easeSinOut:()=>ug,every:()=>El,extent:()=>An,fcumsum:()=>w0,filter:()=>Nl,flatGroup:()=>A0,flatRollup:()=>E0,forceCenter:()=>Mx,forceCollide:()=>Yx,forceLink:()=>Vx,forceManyBody:()=>Gx,forceRadial:()=>Qx,forceSimulation:()=>jx,forceX:()=>Zx,forceY:()=>Kx,format:()=>$n,formatDefaultLocale:()=>Vf,formatLocale:()=>Yf,formatPrefix:()=>Da,formatSpecifier:()=>Ue,fsum:()=>_0,geoAlbers:()=>Eu,geoAlbersUsa:()=>hy,geoArea:()=>h2,geoAzimuthalEqualArea:()=>py,geoAzimuthalEqualAreaRaw:()=>Nu,geoAzimuthalEquidistant:()=>dy,geoAzimuthalEquidistantRaw:()=>zu,geoBounds:()=>v2,geoCentroid:()=>k2,geoCircle:()=>z2,geoClipAntimeridian:()=>Ha,geoClipCircle:()=>du,geoClipExtent:()=>I2,geoClipRectangle:()=>Un,geoConicConformal:()=>gy,geoConicConformalRaw:()=>vp,geoConicEqualArea:()=>gi,geoConicEqualAreaRaw:()=>yp,geoConicEquidistant:()=>yy,geoConicEquidistantRaw:()=>_p,geoContains:()=>B2,geoDistance:()=>xo,geoEqualEarth:()=>by,geoEqualEarthRaw:()=>Iu,geoEquirectangular:()=>xy,geoEquirectangularRaw:()=>yi,geoGnomonic:()=>vy,geoGnomonicRaw:()=>Du,geoGraticule:()=>vu,geoGraticule10:()=>V2,geoIdentity:()=>_y,geoInterpolate:()=>H2,geoLength:()=>yu,geoMercator:()=>my,geoMercatorRaw:()=>xi,geoNaturalEarth1:()=>wy,geoNaturalEarth1Raw:()=>qu,geoOrthographic:()=>My,geoOrthographicRaw:()=>Fu,geoPath:()=>sy,geoProjection:()=>Rt,geoProjectionMutator:()=>Ja,geoRotation:()=>fu,geoStereographic:()=>Sy,geoStereographicRaw:()=>$u,geoStream:()=>Bt,geoTransform:()=>fy,geoTransverseMercator:()=>Ty,geoTransverseMercatorRaw:()=>Ou,gray:()=>Qm,greatest:()=>na,greatestIndex:()=>Ml,group:()=>Zo,groupSort:()=>dl,groups:()=>hl,hcl:()=>Gi,hierarchy:()=>is,histogram:()=>Ls,hsl:()=>ur,html:()=>_x,image:()=>yx,index:()=>C0,indexes:()=>N0,interpolate:()=>Zt,interpolateArray:()=>f1,interpolateBasis:()=>uf,interpolateBasisClosed:()=>cf,interpolateBlues:()=>o_,interpolateBrBG:()=>$v,interpolateBuGn:()=>Xv,interpolateBuPu:()=>jv,interpolateCividis:()=>l_,interpolateCool:()=>d_,interpolateCubehelix:()=>M1,interpolateCubehelixDefault:()=>h_,interpolateCubehelixLong:()=>Gr,interpolateDate:()=>pf,interpolateDiscrete:()=>u1,interpolateGnBu:()=>Gv,interpolateGreens:()=>a_,interpolateGreys:()=>s_,interpolateHcl:()=>v1,interpolateHclLong:()=>_1,interpolateHsl:()=>x1,interpolateHslLong:()=>y1,interpolateHue:()=>c1,interpolateInferno:()=>v_,interpolateLab:()=>th,interpolateMagma:()=>b_,interpolateNumber:()=>Ot,interpolateNumberArray:()=>Zi,interpolateObject:()=>df,interpolateOrRd:()=>Qv,interpolateOranges:()=>c_,interpolatePRGn:()=>Ov,interpolatePiYG:()=>Lv,interpolatePlasma:()=>__,interpolatePuBu:()=>Kv,interpolatePuBuGn:()=>Zv,interpolatePuOr:()=>Bv,interpolatePuRd:()=>Jv,interpolatePurples:()=>f_,interpolateRainbow:()=>m_,interpolateRdBu:()=>Yv,interpolateRdGy:()=>Uv,interpolateRdPu:()=>t_,interpolateRdYlBu:()=>Vv,interpolateRdYlGn:()=>Hv,interpolateReds:()=>u_,interpolateRgb:()=>lr,interpolateRgbBasis:()=>lf,interpolateRgbBasisClosed:()=>s1,interpolateRound:()=>hr,interpolateSinebow:()=>g_,interpolateSpectral:()=>Wv,interpolateString:()=>Ki,interpolateTransformCss:()=>xf,interpolateTransformSvg:()=>yf,interpolateTurbo:()=>x_,interpolateViridis:()=>y_,interpolateWarm:()=>p_,interpolateYlGn:()=>n_,interpolateYlGnBu:()=>e_,interpolateYlOrBr:()=>r_,interpolateYlOrRd:()=>i_,interpolateZoom:()=>bf,interrupt:()=>Le,intersection:()=>ql,interval:()=>E1,isoFormat:()=>Mv,isoParse:()=>Sv,json:()=>bx,lab:()=>Xr,lch:()=>Km,least:()=>wl,leastIndex:()=>ra,line:()=>jn,lineRadial:()=>qd,link:()=>ws,linkHorizontal:()=>R_,linkRadial:()=>I_,linkVertical:()=>P_,local:()=>Ks,map:()=>zl,matcher:()=>Hi,max:()=>Nn,maxIndex:()=>Or,mean:()=>xl,median:()=>yl,medianIndex:()=>I0,merge:()=>Yr,min:()=>er,minIndex:()=>Lr,mode:()=>bl,namespace:()=>rn,namespaces:()=>sa,nice:()=>Fr,now:()=>pr,pack:()=>Zy,packEnclose:()=>Yy,packSiblings:()=>jy,pairs:()=>vl,partition:()=>Ky,path:()=>Aa,pathRound:()=>Dg,permute:()=>Ko,pie:()=>C_,piecewise:()=>ga,pointRadial:()=>Ii,pointer:()=>$t,pointers:()=>zm,polygonArea:()=>sb,polygonCentroid:()=>fb,polygonContains:()=>hb,polygonHull:()=>lb,polygonLength:()=>pb,precisionFixed:()=>Hf,precisionPrefix:()=>Wf,precisionRound:()=>Xf,quadtree:()=>xr,quantile:()=>nn,quantileIndex:()=>Ys,quantileSorted:()=>Bs,quantize:()=>S1,quickselect:()=>Br,radialArea:()=>Fd,radialLine:()=>qd,randomBates:()=>xb,randomBernoulli:()=>vb,randomBeta:()=>Xu,randomBinomial:()=>ju,randomCauchy:()=>wb,randomExponential:()=>yb,randomGamma:()=>Eo,randomGeometric:()=>Wu,randomInt:()=>mb,randomIrwinHall:()=>Hu,randomLcg:()=>Ip,randomLogNormal:()=>gb,randomLogistic:()=>Mb,randomNormal:()=>Ao,randomPareto:()=>bb,randomPoisson:()=>Sb,randomUniform:()=>db,randomWeibull:()=>_b,range:()=>pe,rank:()=>_l,reduce:()=>Rl,reverse:()=>Pl,rgb:()=>Pn,ribbon:()=>Og,ribbonArrow:()=>Lg,rollup:()=>$s,rollups:()=>pl,scaleBand:()=>as,scaleDiverging:()=>dc,scaleDivergingLog:()=>od,scaleDivergingPow:()=>mc,scaleDivergingSqrt:()=>kv,scaleDivergingSymlog:()=>ad,scaleIdentity:()=>Qu,scaleImplicit:()=>Gu,scaleLinear:()=>Co,scaleLog:()=>Zu,scaleOrdinal:()=>Sr,scalePoint:()=>Ab,scalePow:()=>hs,scaleQuantile:()=>tc,scaleQuantize:()=>ec,scaleRadial:()=>Ju,scaleSequential:()=>cc,scaleSequentialLog:()=>rd,scaleSequentialPow:()=>lc,scaleSequentialQuantile:()=>hc,scaleSequentialSqrt:()=>Tv,scaleSequentialSymlog:()=>id,scaleSqrt:()=>Db,scaleSymlog:()=>Ku,scaleThreshold:()=>nc,scaleTime:()=>ed,scaleUtc:()=>nd,scan:()=>Sl,schemeAccent:()=>Ev,schemeBlues:()=>Ed,schemeBrBG:()=>sd,schemeBuGn:()=>gd,schemeBuPu:()=>xd,schemeCategory10:()=>Av,schemeDark2:()=>Cv,schemeGnBu:()=>yd,schemeGreens:()=>Cd,schemeGreys:()=>Nd,schemeObservable10:()=>Nv,schemeOrRd:()=>bd,schemeOranges:()=>Pd,schemePRGn:()=>fd,schemePaired:()=>zv,schemePastel1:()=>Rv,schemePastel2:()=>Pv,schemePiYG:()=>ud,schemePuBu:()=>_d,schemePuBuGn:()=>vd,schemePuOr:()=>cd,schemePuRd:()=>wd,schemePurples:()=>zd,schemeRdBu:()=>ld,schemeRdGy:()=>hd,schemeRdPu:()=>Md,schemeRdYlBu:()=>pd,schemeRdYlGn:()=>dd,schemeReds:()=>Rd,schemeSet1:()=>Iv,schemeSet2:()=>Dv,schemeSet3:()=>qv,schemeSpectral:()=>md,schemeTableau10:()=>Fv,schemeYlGn:()=>Td,schemeYlGnBu:()=>Sd,schemeYlOrBr:()=>kd,schemeYlOrRd:()=>Ad,select:()=>nt,selectAll:()=>Rm,selection:()=>on,selector:()=>rr,selectorAll:()=>Vi,shuffle:()=>D0,shuffler:()=>Tl,some:()=>Cl,sort:()=>Ui,stack:()=>pw,stackOffsetDiverging:()=>mw,stackOffsetExpand:()=>dw,stackOffsetNone:()=>Ge,stackOffsetSilhouette:()=>gw,stackOffsetWiggle:()=>xw,stackOrderAppearance:()=>Yc,stackOrderAscending:()=>Uc,stackOrderDescending:()=>yw,stackOrderInsideOut:()=>bw,stackOrderNone:()=>Qe,stackOrderReverse:()=>vw,stratify:()=>eb,style:()=>zn,subset:()=>Fl,sum:()=>kl,superset:()=>oa,svg:()=>wx,symbol:()=>Yd,symbolAsterisk:()=>Sc,symbolCircle:()=>qo,symbolCross:()=>Tc,symbolDiamond:()=>kc,symbolDiamond2:()=>Ac,symbolPlus:()=>Ec,symbolSquare:()=>Cc,symbolSquare2:()=>Nc,symbolStar:()=>zc,symbolTimes:()=>Ms,symbolTriangle:()=>Rc,symbolTriangle2:()=>Pc,symbolWye:()=>Ic,symbolX:()=>Ms,symbols:()=>Bd,symbolsFill:()=>Bd,symbolsStroke:()=>F_,text:()=>si,thresholdFreedmanDiaconis:()=>ml,thresholdScott:()=>gl,thresholdSturges:()=>$r,tickFormat:()=>ss,tickIncrement:()=>Fe,tickStep:()=>qr,ticks:()=>he,timeDay:()=>bn,timeDays:()=>Bb,timeFormat:()=>bs,timeFormatDefaultLocale:()=>sc,timeFormatLocale:()=>ys,timeFriday:()=>Up,timeFridays:()=>Gb,timeHour:()=>Ti,timeHours:()=>Ob,timeInterval:()=>gt,timeMillisecond:()=>kr,timeMilliseconds:()=>Op,timeMinute:()=>wi,timeMinutes:()=>Fb,timeMonday:()=>Ei,timeMondays:()=>Hb,timeMonth:()=>zi,timeMonths:()=>rv,timeParse:()=>Jp,timeSaturday:()=>Vp,timeSaturdays:()=>Qb,timeSecond:()=>ve,timeSeconds:()=>Lp,timeSunday:()=>vn,timeSundays:()=>Hp,timeThursday:()=>Hn,timeThursdays:()=>jb,timeTickInterval:()=>ac,timeTicks:()=>oc,timeTuesday:()=>Bp,timeTuesdays:()=>Wb,timeWednesday:()=>Yp,timeWednesdays:()=>Xb,timeWeek:()=>vn,timeWeeks:()=>Hp,timeYear:()=>ge,timeYears:()=>ov,timeout:()=>_a,timer:()=>Kr,timerFlush:()=>nh,transition:()=>eo,transpose:()=>ia,tree:()=>nb,treemap:()=>rb,treemapBinary:()=>ib,treemapDice:()=>gn,treemapResquarify:()=>ab,treemapSlice:()=>Mr,treemapSliceDice:()=>ob,treemapSquarify:()=>Vu,tsv:()=>xx,tsvFormat:()=>fx,tsvFormatBody:()=>ux,tsvFormatRow:()=>lx,tsvFormatRows:()=>cx,tsvFormatValue:()=>hx,tsvParse:()=>Bf,tsvParseRows:()=>sx,union:()=>$l,unixDay:()=>ds,unixDays:()=>Ub,utcDay:()=>Ar,utcDays:()=>Yb,utcFormat:()=>Pi,utcFriday:()=>jp,utcFridays:()=>ev,utcHour:()=>ki,utcHours:()=>Lb,utcMillisecond:()=>kr,utcMilliseconds:()=>Op,utcMinute:()=>Mi,utcMinutes:()=>$b,utcMonday:()=>Ni,utcMondays:()=>Zb,utcMonth:()=>Ri,utcMonths:()=>iv,utcParse:()=>vs,utcSaturday:()=>Gp,utcSaturdays:()=>nv,utcSecond:()=>ve,utcSeconds:()=>Lp,utcSunday:()=>_n,utcSundays:()=>Qp,utcThursday:()=>Wn,utcThursdays:()=>tv,utcTickInterval:()=>ic,utcTicks:()=>rc,utcTuesday:()=>Wp,utcTuesdays:()=>Kb,utcWednesday:()=>Xp,utcWednesdays:()=>Jb,utcWeek:()=>_n,utcWeeks:()=>Qp,utcYear:()=>xe,utcYears:()=>av,variance:()=>Go,window:()=>Wi,xml:()=>vx,zip:()=>Al,zoom:()=>Wc,zoomIdentity:()=>Gn,zoomTransform:()=>Vc});function at(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jo(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tr(t){let e,n,r;t.length!==2?(e=at,n=(s,f)=>at(t(s),f),r=(s,f)=>t(s)-f):(e=t===at||t===jo?t:zw,n=t,r=t);function i(s,f,u=0,c=s.length){if(u<c){if(e(f,f)!==0)return c;do{let h=u+c>>>1;n(s[h],f)<0?u=h+1:c=h}while(u<c)}return u}function o(s,f,u=0,c=s.length){if(u<c){if(e(f,f)!==0)return c;do{let h=u+c>>>1;n(s[h],f)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,f,u=0,c=s.length){let h=i(s,f,u,c-1);return h>u&&r(s[h-1],f)>-r(s[h],f)?h-1:h}return{left:i,center:a,right:o}}function zw(){return 0}function Dr(t){return t===null?NaN:+t}function*d0(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}var m0=tr(at),sl=m0.right,g0=m0.left,x0=tr(Dr).center,ce=sl;function y0(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;let r=fl(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}var Fs=v0(fl),b0=v0(Rw);function v0(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!n&&!r)return e;let s=n&&t(n),f=r&&t(r),u=i.slice();return s&&f?(Li(s,u,i,o,a),Li(s,i,u,o,a),Li(s,u,i,o,a),Bi(f,i,u,o,a),Bi(f,u,i,o,a),Bi(f,i,u,o,a)):s?(Li(s,i,u,o,a),Li(s,u,i,o,a),Li(s,i,u,o,a)):f&&(Bi(f,i,u,o,a),Bi(f,u,i,o,a),Bi(f,i,u,o,a)),e}}function Li(t,e,n,r,i){for(let o=0,a=r*i;o<a;)t(e,n,o,o+=r,1)}function Bi(t,e,n,r,i){for(let o=0,a=r*i;o<r;++o)t(e,n,o,o+a,r)}function Rw(t){let e=fl(t);return(n,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,e(n,r,i+0,o+0,a),e(n,r,i+1,o+1,a),e(n,r,i+2,o+2,a),e(n,r,i+3,o+3,a)}}function fl(t){let e=Math.floor(t);if(e===t)return Pw(t);let n=t-e,r=2*t+1;return(i,o,a,s,f)=>{if(!((s-=f)>=a))return;let u=e*o[a],c=f*e,h=c+f;for(let l=a,p=a+c;l<p;l+=f)u+=o[Math.min(s,l)];for(let l=a,p=s;l<=p;l+=f)u+=o[Math.min(s,l+c)],i[l]=(u+n*(o[Math.max(a,l-h)]+o[Math.min(s,l+h)]))/r,u-=o[Math.max(a,l-c)]}}function Pw(t){let e=2*t+1;return(n,r,i,o,a)=>{if(!((o-=a)>=i))return;let s=t*r[i],f=a*t;for(let u=i,c=i+f;u<c;u+=a)s+=r[Math.min(o,u)];for(let u=i,c=o;u<=c;u+=a)s+=r[Math.min(o,u+f)],n[u]=s/e,s-=r[Math.max(i,u-f)]}}function kn(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function Iw(t){return t.length|0}function Dw(t){return!(t>0)}function qw(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Fw(t){return e=>t(...e)}function ul(...t){let e=typeof t[t.length-1]=="function"&&Fw(t.pop());t=t.map(qw);let n=t.map(Iw),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Dw))return o;for(;;){o.push(i.map((s,f)=>t[f][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function cl(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function Go(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function Qo(t,e){let n=Go(t,e);return n&&Math.sqrt(n)}function An(t,e){let n,r;if(e===void 0)for(let i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var mt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let n=this._partials,r=0;for(let i=0;i<this._n&&i<32;i++){let o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){let e=this._partials,n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}};function _0(t,e){let n=new mt;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function w0(t,e){let n=new mt,r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}var qe=class extends Map{constructor(e,n=T0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[r,i]of e)this.set(r,i)}get(e){return super.get(ll(this,e))}has(e){return super.has(ll(this,e))}set(e,n){return super.set(M0(this,e),n)}delete(e){return super.delete(S0(this,e))}},le=class extends Set{constructor(e,n=T0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let r of e)this.add(r)}has(e){return super.has(ll(this,e))}add(e){return super.add(M0(this,e))}delete(e){return super.delete(S0(this,e))}};function ll({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function M0({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function S0({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function T0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function En(t){return t}function Zo(t,...e){return Yi(t,En,En,e)}function hl(t,...e){return Yi(t,Array.from,En,e)}function k0(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([o,a])=>[...i,o,a]));return t}function A0(t,...e){return k0(hl(t,...e),e)}function E0(t,e,...n){return k0(pl(t,e,...n),n)}function $s(t,e,...n){return Yi(t,En,e,n)}function pl(t,e,...n){return Yi(t,Array.from,e,n)}function C0(t,...e){return Yi(t,En,z0,e)}function N0(t,...e){return Yi(t,Array.from,z0,e)}function z0(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function Yi(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);let s=new qe,f=r[a++],u=-1;for(let c of o){let h=f(c,++u,o),l=s.get(h);l?l.push(c):s.set(h,[c])}for(let[c,h]of s)s.set(c,i(h,a));return e(s)}(t,0)}function Ko(t,e){return Array.from(e,n=>t[n])}function Ui(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){let r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(let a of e){let s=Cn(a[i],a[o]);if(s)return s}})):(n=t.map(n),r.sort((i,o)=>Cn(n[i],n[o]))),Ko(t,r)}return t.sort(Jo(n))}function Jo(t=at){if(t===at)return Cn;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Cn(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function dl(t,e,n){return(e.length!==2?Ui($s(t,e,n),([r,i],[o,a])=>at(i,a)||at(r,o)):Ui(Zo(t,n),([r,i],[o,a])=>e(i,a)||at(r,o))).map(([r])=>r)}var R0=Array.prototype,P0=R0.slice,AM=R0.map;function ta(t){return()=>t}var $w=Math.sqrt(50),Ow=Math.sqrt(10),Lw=Math.sqrt(2);function Os(t,e,n){let r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=$w?10:o>=Ow?5:o>=Lw?2:1,s,f,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),f=Math.round(e*u),s/u<t&&++s,f/u>e&&--f,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),f=Math.round(e/u),s*u<t&&++s,f*u>e&&--f),f<s&&.5<=n&&n<2?Os(t,e,n*2):[s,f,u]}function he(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[i,o,a]=r?Os(e,t,n):Os(t,e,n);if(!(o>=i))return[];let s=o-i+1,f=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)f[u]=(o-u)/-a;else for(let u=0;u<s;++u)f[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)f[u]=(i+u)/-a;else for(let u=0;u<s;++u)f[u]=(i+u)*a;return f}function Fe(t,e,n){return e=+e,t=+t,n=+n,Os(t,e,n)[2]}function qr(t,e,n){e=+e,t=+t,n=+n;let r=e<t,i=r?Fe(e,t,n):Fe(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Fr(t,e,n){let r;for(;;){let i=Fe(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function $r(t){return Math.max(1,Math.ceil(Math.log(kn(t))/Math.LN2)+1)}function Ls(){var t=En,e=An,n=$r;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,f,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var c=e(u),h=c[0],l=c[1],p=n(u,h,l);if(!Array.isArray(p)){let b=l,y=+p;if(e===An&&([h,l]=Fr(h,l,y)),p=he(h,l,y),p[0]<=h&&(f=Fe(h,l,y)),p[p.length-1]>=l)if(b>=l&&e===An){let _=Fe(h,l,y);isFinite(_)&&(_>0?l=(Math.floor(l/_)+1)*_:_<0&&(l=(Math.ceil(l*-_)+1)/-_))}else p.pop()}for(var m=p.length,g=0,d=m;p[g]<=h;)++g;for(;p[d-1]>l;)--d;(g||d<m)&&(p=p.slice(g,d),m=d-g);var x=new Array(m+1),v;for(o=0;o<=m;++o)v=x[o]=[],v.x0=o>0?p[o-1]:h,v.x1=o<m?p[o]:l;if(isFinite(f)){if(f>0)for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=l&&x[Math.min(m,Math.floor((s-h)/f))].push(i[o]);else if(f<0){for(o=0;o<a;++o)if((s=u[o])!=null&&h<=s&&s<=l){let b=Math.floor((h-s)*f);x[Math.min(m,b+(p[b]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=l&&x[ce(p,s,0,m)].push(i[o]);return x}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ta(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:ta([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:ta(Array.isArray(i)?P0.call(i):i),r):n},r}function Nn(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Or(t,e){let n,r=-1,i=-1;if(e===void 0)for(let o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function er(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Lr(t,e){let n,r=-1,i=-1;if(e===void 0)for(let o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Br(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Cn:Jo(i);r>n;){if(r-n>600){let f=r-n+1,u=e-n+1,c=Math.log(f),h=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*h*(f-h)/f)*(u-f/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/f+l)),m=Math.min(r,Math.floor(e+(f-u)*h/f+l));Br(t,e,p,m,i)}let o=t[e],a=n,s=r;for(ea(t,n,e),i(t[r],o)>0&&ea(t,n,r);a<s;){for(ea(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?ea(t,n,s):(++s,ea(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ea(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function na(t,e=at){let n,r=!1;if(e.length===1){let i;for(let o of t){let a=e(o);(r?at(a,i)>0:at(a,a)===0)&&(n=o,i=a,r=!0)}}else for(let i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function nn(t,e,n){if(t=Float64Array.from(d0(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return er(t);if(e>=1)return Nn(t);var r,i=(r-1)*e,o=Math.floor(i),a=Nn(Br(t,o).subarray(0,o+1)),s=er(t.subarray(o+1));return a+(s-a)*(i-o)}}function Bs(t,e,n=Dr){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Ys(t,e,n=Dr){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(s,f)=>Dr(n(t[f],f,t))),e<=0)return Lr(r);if(e>=1)return Or(r);var r,i=Uint32Array.from(t,(s,f)=>f),o=r.length-1,a=Math.floor(o*e);return Br(i,a,0,o,(s,f)=>Cn(r[s],r[f])),a=na(i.subarray(0,a+1),s=>r[s]),a>=0?a:-1}}function ml(t,e,n){let r=kn(t),i=nn(t,.75)-nn(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function gl(t,e,n){let r=kn(t),i=Qo(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function xl(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function yl(t,e){return nn(t,.5,e)}function I0(t,e){return Ys(t,.5,e)}function*Bw(t){for(let e of t)yield*e0(e)}function Yr(t){return Array.from(Bw(t))}function bl(t,e){let n=new qe;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(let[o,a]of n)a>i&&(i=a,r=o);return r}function vl(t,e=Yw){let n=[],r,i=!1;for(let o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function Yw(t,e){return[t,e]}function pe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function _l(t,e=at){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t),r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=at);let i=(s,f)=>e(n[s],n[f]),o,a;return t=Uint32Array.from(n,(s,f)=>f),t.sort(e===at?(s,f)=>Cn(n[s],n[f]):Jo(i)),t.forEach((s,f)=>{let u=i(s,o===void 0?s:o);u>=0?((o===void 0||u>0)&&(o=s,a=f),r[s]=a):r[s]=NaN}),r}function wl(t,e=at){let n,r=!1;if(e.length===1){let i;for(let o of t){let a=e(o);(r?at(a,i)<0:at(a,a)===0)&&(n=o,i=a,r=!0)}}else for(let i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function ra(t,e=at){if(e.length===1)return Lr(t,e);let n,r=-1,i=-1;for(let o of t)++i,(r<0?e(o,o)===0:e(o,n)<0)&&(n=o,r=i);return r}function Ml(t,e=at){if(e.length===1)return Or(t,e);let n,r=-1,i=-1;for(let o of t)++i,(r<0?e(o,o)===0:e(o,n)>0)&&(n=o,r=i);return r}function Sl(t,e){let n=ra(t,e);return n<0?void 0:n}var D0=Tl(Math.random);function Tl(t){return function(n,r=0,i=n.length){let o=i-(r=+r);for(;o;){let a=t()*o--|0,s=n[o+r];n[o+r]=n[a+r],n[a+r]=s}return n}}function kl(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function ia(t){if(!(o=t.length))return[];for(var e=-1,n=er(t,Uw),r=new Array(n);++e<n;)for(var i=-1,o,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r}function Uw(t){return t.length}function Al(){return ia(arguments)}function El(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(let r of t)if(!e(r,++n,t))return!1;return!0}function Cl(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(let r of t)if(e(r,++n,t))return!0;return!1}function Nl(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=[],r=-1;for(let i of t)e(i,++r,t)&&n.push(i);return n}function zl(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function Rl(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");let r=t[Symbol.iterator](),i,o,a=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++a}for(;{done:i,value:o}=r.next(),!i;)n=e(n,o,++a,t);return n}function Pl(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Il(t,...e){t=new le(t);for(let n of e)for(let r of n)t.delete(r);return t}function Dl(t,e){let n=e[Symbol.iterator](),r=new le;for(let i of t){if(r.has(i))return!1;let o,a;for(;({value:o,done:a}=n.next())&&!a;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function ql(t,...e){t=new le(t),e=e.map(Vw);t:for(let n of t)for(let r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Vw(t){return t instanceof le?t:new le(t)}function oa(t,e){let n=t[Symbol.iterator](),r=new Set;for(let i of e){let o=q0(i);if(r.has(o))continue;let a,s;for(;{value:a,done:s}=n.next();){if(s)return!1;let f=q0(a);if(r.add(f),Object.is(o,f))break}}return!0}function q0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fl(t,e){return oa(e,t)}function $l(...t){let e=new le;for(let n of t)for(let r of n)e.add(r);return e}function F0(t){return t}var Us=1,Vs=2,Ol=3,aa=4,$0=1e-6;function Hw(t){return"translate("+t+",0)"}function Ww(t){return"translate(0,"+t+")"}function Xw(t){return e=>+t(e)}function jw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Gw(){return!this.__axis}function Hs(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Us||t===aa?-1:1,c=t===aa||t===Vs?"x":"y",h=t===Us||t===Ol?Hw:Ww;function l(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):F0),d=Math.max(o,0)+s,x=e.range(),v=+x[0]+f,b=+x[x.length-1]+f,y=(e.bandwidth?jw:Xw)(e.copy(),f),_=p.selection?p.selection():p,w=_.selectAll(".domain").data([null]),E=_.selectAll(".tick").data(m,e).order(),C=E.exit(),N=E.enter().append("g").attr("class","tick"),k=E.select("line"),S=E.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),S=S.merge(N.append("text").attr("fill","currentColor").attr(c,u*d).attr("dy",t===Us?"0em":t===Ol?"0.71em":"0.32em")),p!==_&&(w=w.transition(p),E=E.transition(p),k=k.transition(p),S=S.transition(p),C=C.transition(p).attr("opacity",$0).attr("transform",function(P){return isFinite(P=y(P))?h(P+f):this.getAttribute("transform")}),N.attr("opacity",$0).attr("transform",function(P){var z=this.parentNode.__axis;return h((z&&isFinite(z=z(P))?z:y(P))+f)})),C.remove(),w.attr("d",t===aa||t===Vs?a?"M"+u*a+","+v+"H"+f+"V"+b+"H"+u*a:"M"+f+","+v+"V"+b:a?"M"+v+","+u*a+"V"+f+"H"+b+"V"+u*a:"M"+v+","+f+"H"+b),E.attr("opacity",1).attr("transform",function(P){return h(y(P)+f)}),k.attr(c+"2",u*o),S.attr(c,u*d).text(g),_.filter(Gw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Vs?"start":t===aa?"end":"middle"),_.each(function(){this.__axis=y})}return l.scale=function(p){return arguments.length?(e=p,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),l):n.slice()},l.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),l):r&&r.slice()},l.tickFormat=function(p){return arguments.length?(i=p,l):i},l.tickSize=function(p){return arguments.length?(o=a=+p,l):o},l.tickSizeInner=function(p){return arguments.length?(o=+p,l):o},l.tickSizeOuter=function(p){return arguments.length?(a=+p,l):a},l.tickPadding=function(p){return arguments.length?(s=+p,l):s},l.offset=function(p){return arguments.length?(f=+p,l):f},l}function O0(t){return Hs(Us,t)}function L0(t){return Hs(Vs,t)}function Ws(t){return Hs(Ol,t)}function B0(t){return Hs(aa,t)}var Qw={value:()=>{}};function U0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Xs(n)}function Xs(t){this._=t}function Zw(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Xs.prototype=U0.prototype={constructor:Xs,on:function(t,e){var n=this._,r=Zw(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Kw(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Y0(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Y0(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xs(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Kw(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Y0(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Qw,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Me=U0;var js="http://www.w3.org/1999/xhtml",sa={svg:"http://www.w3.org/2000/svg",xhtml:js,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sa.hasOwnProperty(e)?{space:sa[e],local:t}:t}function Jw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===js&&e.documentElement.namespaceURI===js?e.createElement(t):e.createElementNS(n,t)}}function t3(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function nr(t){var e=rn(t);return(e.local?t3:Jw)(e)}function e3(){}function rr(t){return t==null?e3:function(){return this.querySelector(t)}}function V0(t){typeof t!="function"&&(t=rr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),f,u,c=0;c<a;++c)(f=o[c])&&(u=t.call(f,f.__data__,c,o))&&("__data__"in f&&(u.__data__=f.__data__),s[c]=u);return new _t(r,this._parents)}function fa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function n3(){return[]}function Vi(t){return t==null?n3:function(){return this.querySelectorAll(t)}}function r3(t){return function(){return fa(t.apply(this,arguments))}}function H0(t){typeof t=="function"?t=r3(t):t=Vi(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,f,u=0;u<s;++u)(f=a[u])&&(r.push(t.call(f,f.__data__,u,a)),i.push(f));return new _t(r,i)}function Hi(t){return function(){return this.matches(t)}}function Gs(t){return function(e){return e.matches(t)}}var i3=Array.prototype.find;function o3(t){return function(){return i3.call(this.children,t)}}function a3(){return this.firstElementChild}function W0(t){return this.select(t==null?a3:o3(typeof t=="function"?t:Gs(t)))}var s3=Array.prototype.filter;function f3(){return Array.from(this.children)}function u3(t){return function(){return s3.call(this.children,t)}}function X0(t){return this.selectAll(t==null?f3:u3(typeof t=="function"?t:Gs(t)))}function j0(t){typeof t!="function"&&(t=Hi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&s.push(f);return new _t(r,this._parents)}function Qs(t){return new Array(t.length)}function G0(){return new _t(this._enter||this._groups.map(Qs),this._parents)}function ua(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ua.prototype={constructor:ua,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Q0(t){return function(){return t}}function c3(t,e,n,r,i,o){for(var a=0,s,f=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new ua(t,o[a]);for(;a<f;++a)(s=e[a])&&(i[a]=s)}function l3(t,e,n,r,i,o,a){var s,f,u=new Map,c=e.length,h=o.length,l=new Array(c),p;for(s=0;s<c;++s)(f=e[s])&&(l[s]=p=a.call(f,f.__data__,s,e)+"",u.has(p)?i[s]=f:u.set(p,f));for(s=0;s<h;++s)p=a.call(t,o[s],s,o)+"",(f=u.get(p))?(r[s]=f,f.__data__=o[s],u.delete(p)):n[s]=new ua(t,o[s]);for(s=0;s<c;++s)(f=e[s])&&u.get(l[s])===f&&(i[s]=f)}function h3(t){return t.__data__}function Z0(t,e){if(!arguments.length)return Array.from(this,h3);var n=e?l3:c3,r=this._parents,i=this._groups;typeof t!="function"&&(t=Q0(t));for(var o=i.length,a=new Array(o),s=new Array(o),f=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],l=h.length,p=p3(t.call(c,c&&c.__data__,u,r)),m=p.length,g=s[u]=new Array(m),d=a[u]=new Array(m),x=f[u]=new Array(l);n(c,h,g,d,x,p,e);for(var v=0,b=0,y,_;v<m;++v)if(y=g[v]){for(v>=b&&(b=v+1);!(_=d[b])&&++b<m;);y._next=_||null}}return a=new _t(a,r),a._enter=s,a._exit=f,a}function p3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K0(){return new _t(this._exit||this._groups.map(Qs),this._parents)}function J0(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function tm(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),f=0;f<a;++f)for(var u=n[f],c=r[f],h=u.length,l=s[f]=new Array(h),p,m=0;m<h;++m)(p=u[m]||c[m])&&(l[m]=p);for(;f<i;++f)s[f]=n[f];return new _t(s,this._parents)}function em(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function nm(t){t||(t=d3);function e(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,f=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(f[c]=u);f.sort(e)}return new _t(i,this._parents).order()}function d3(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function rm(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function im(){return Array.from(this)}function om(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function am(){let t=0;for(let e of this)++t;return t}function sm(){return!this.node()}function fm(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function m3(t){return function(){this.removeAttribute(t)}}function g3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function x3(t,e){return function(){this.setAttribute(t,e)}}function y3(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function b3(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function v3(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function um(t,e){var n=rn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?g3:m3:typeof e=="function"?n.local?v3:b3:n.local?y3:x3)(n,e))}function Wi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _3(t){return function(){this.style.removeProperty(t)}}function w3(t,e,n){return function(){this.style.setProperty(t,e,n)}}function M3(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function cm(t,e,n){return arguments.length>1?this.each((e==null?_3:typeof e=="function"?M3:w3)(t,e,n??"")):zn(this.node(),t)}function zn(t,e){return t.style.getPropertyValue(e)||Wi(t).getComputedStyle(t,null).getPropertyValue(e)}function S3(t){return function(){delete this[t]}}function T3(t,e){return function(){this[t]=e}}function k3(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function lm(t,e){return arguments.length>1?this.each((e==null?S3:typeof e=="function"?k3:T3)(t,e)):this.node()[t]}function hm(t){return t.trim().split(/^|\s+/)}function Ll(t){return t.classList||new pm(t)}function pm(t){this._node=t,this._names=hm(t.getAttribute("class")||"")}pm.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dm(t,e){for(var n=Ll(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function mm(t,e){for(var n=Ll(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function A3(t){return function(){dm(this,t)}}function E3(t){return function(){mm(this,t)}}function C3(t,e){return function(){(e.apply(this,arguments)?dm:mm)(this,t)}}function gm(t,e){var n=hm(t+"");if(arguments.length<2){for(var r=Ll(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?C3:e?A3:E3)(n,e))}function N3(){this.textContent=""}function z3(t){return function(){this.textContent=t}}function R3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xm(t){return arguments.length?this.each(t==null?N3:(typeof t=="function"?R3:z3)(t)):this.node().textContent}function P3(){this.innerHTML=""}function I3(t){return function(){this.innerHTML=t}}function D3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ym(t){return arguments.length?this.each(t==null?P3:(typeof t=="function"?D3:I3)(t)):this.node().innerHTML}function q3(){this.nextSibling&&this.parentNode.appendChild(this)}function bm(){return this.each(q3)}function F3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vm(){return this.each(F3)}function _m(t){var e=typeof t=="function"?t:nr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function $3(){return null}function wm(t,e){var n=typeof t=="function"?t:nr(t),r=e==null?$3:typeof e=="function"?e:rr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function O3(){var t=this.parentNode;t&&t.removeChild(this)}function Mm(){return this.each(O3)}function L3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function B3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sm(t){return this.select(t?B3:L3)}function Tm(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Y3(t){return function(e){t.call(this,e,this.__data__)}}function U3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function V3(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function H3(t,e,n){return function(){var r=this.__on,i,o=Y3(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function km(t,e,n){var r=U3(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,u=s.length,c;f<u;++f)for(i=0,c=s[f];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?H3:V3,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Am(t,e,n){var r=Wi(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function W3(t,e){return function(){return Am(this,t,e)}}function X3(t,e){return function(){return Am(this,t,e.apply(this,arguments))}}function Em(t,e){return this.each((typeof e=="function"?X3:W3)(t,e))}function*Cm(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ca=[null];function _t(t,e){this._groups=t,this._parents=e}function Nm(){return new _t([[document.documentElement]],ca)}function j3(){return this}_t.prototype=Nm.prototype={constructor:_t,select:V0,selectAll:H0,selectChild:W0,selectChildren:X0,filter:j0,data:Z0,enter:G0,exit:K0,join:J0,merge:tm,selection:j3,order:em,sort:nm,call:rm,nodes:im,node:om,size:am,empty:sm,each:fm,attr:um,style:cm,property:lm,classed:gm,text:xm,html:ym,raise:bm,lower:vm,append:_m,insert:wm,remove:Mm,clone:Sm,datum:Tm,on:km,dispatch:Em,[Symbol.iterator]:Cm};var on=Nm;function nt(t){return typeof t=="string"?new _t([[document.querySelector(t)]],[document.documentElement]):new _t([[t]],ca)}function Zs(t){return nt(nr(t).call(document.documentElement))}var G3=0;function Ks(){return new Bl}function Bl(){this._="@"+(++G3).toString(36)}Bl.prototype=Ks.prototype={constructor:Bl,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Js(t){let e;for(;e=t.sourceEvent;)t=e;return t}function $t(t,e){if(t=Js(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function zm(t,e){return t.target&&(t=Js(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>$t(n,e))}function Rm(t){return typeof t=="string"?new _t([document.querySelectorAll(t)],[document.documentElement]):new _t([fa(t)],ca)}var Pm={passive:!1},Ur={capture:!0,passive:!1};function tf(t){t.stopImmediatePropagation()}function ir(t){t.preventDefault(),t.stopImmediatePropagation()}function or(t){var e=t.document.documentElement,n=nt(t).on("dragstart.drag",ir,Ur);"onselectstart"in e?n.on("selectstart.drag",ir,Ur):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ar(t,e){var n=t.document.documentElement,r=nt(t).on("dragstart.drag",null);e&&(r.on("click.drag",ir,Ur),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var la=t=>()=>t;function ha(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:f,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ha.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Q3(t){return!t.ctrlKey&&!t.button}function Z3(){return this.parentNode}function K3(t,e){return e??{x:t.x,y:t.y}}function J3(){return navigator.maxTouchPoints||"ontouchstart"in this}function Im(){var t=Q3,e=Z3,n=K3,r=J3,i={},o=Me("start","drag","end"),a=0,s,f,u,c,h=0;function l(y){y.on("mousedown.drag",p).filter(r).on("touchstart.drag",d).on("touchmove.drag",x,Pm).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,_){if(!(c||!t.call(this,y,_))){var w=b(this,e.call(this,y,_),y,_,"mouse");w&&(nt(y.view).on("mousemove.drag",m,Ur).on("mouseup.drag",g,Ur),or(y.view),tf(y),u=!1,s=y.clientX,f=y.clientY,w("start",y))}}function m(y){if(ir(y),!u){var _=y.clientX-s,w=y.clientY-f;u=_*_+w*w>h}i.mouse("drag",y)}function g(y){nt(y.view).on("mousemove.drag mouseup.drag",null),ar(y.view,u),ir(y),i.mouse("end",y)}function d(y,_){if(t.call(this,y,_)){var w=y.changedTouches,E=e.call(this,y,_),C=w.length,N,k;for(N=0;N<C;++N)(k=b(this,E,y,_,w[N].identifier,w[N]))&&(tf(y),k("start",y,w[N]))}}function x(y){var _=y.changedTouches,w=_.length,E,C;for(E=0;E<w;++E)(C=i[_[E].identifier])&&(ir(y),C("drag",y,_[E]))}function v(y){var _=y.changedTouches,w=_.length,E,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<w;++E)(C=i[_[E].identifier])&&(tf(y),C("end",y,_[E]))}function b(y,_,w,E,C,N){var k=o.copy(),S=$t(N||w,_),P,z,M;if((M=n.call(y,new ha("beforestart",{sourceEvent:w,target:l,identifier:C,active:a,x:S[0],y:S[1],dx:0,dy:0,dispatch:k}),E))!=null)return P=M.x-S[0]||0,z=M.y-S[1]||0,function T(A,R,q){var I=S,Y;switch(A){case"start":i[C]=T,Y=a++;break;case"end":delete i[C],--a;case"drag":S=$t(q||R,_),Y=a;break}k.call(A,y,new ha(A,{sourceEvent:R,subject:M,target:l,identifier:C,active:Y,x:S[0]+P,y:S[1]+z,dx:S[0]-I[0],dy:S[1]-I[1],dispatch:k}),E)}}return l.filter=function(y){return arguments.length?(t=typeof y=="function"?y:la(!!y),l):t},l.container=function(y){return arguments.length?(e=typeof y=="function"?y:la(y),l):e},l.subject=function(y){return arguments.length?(n=typeof y=="function"?y:la(y),l):n},l.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:la(!!y),l):r},l.on=function(){var y=o.on.apply(o,arguments);return y===o?l:y},l.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,l):Math.sqrt(h)},l}function Rn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sn(){}var fr=.7,Wr=1/fr,Xi="\\s*([+-]?\\d+)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t4=/^#([0-9a-f]{3,8})$/,e4=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),n4=new RegExp(`^rgb\\(${an},${an},${an}\\)$`),r4=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${pa}\\)$`),i4=new RegExp(`^rgba\\(${an},${an},${an},${pa}\\)$`),o4=new RegExp(`^hsl\\(${pa},${an},${an}\\)$`),a4=new RegExp(`^hsla\\(${pa},${an},${an},${pa}\\)$`),Dm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rn(sn,Gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qm,formatHex:qm,formatHex8:s4,formatHsl:f4,formatRgb:Fm,toString:Fm});function qm(){return this.rgb().formatHex()}function s4(){return this.rgb().formatHex8()}function f4(){return Um(this).formatHsl()}function Fm(){return this.rgb().formatRgb()}function Gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=t4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$m(e):n===3?new Pt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ef(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ef(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=e4.exec(t))?new Pt(e[1],e[2],e[3],1):(e=n4.exec(t))?new Pt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=r4.exec(t))?ef(e[1],e[2],e[3],e[4]):(e=i4.exec(t))?ef(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=o4.exec(t))?Bm(e[1],e[2]/100,e[3]/100,1):(e=a4.exec(t))?Bm(e[1],e[2]/100,e[3]/100,e[4]):Dm.hasOwnProperty(t)?$m(Dm[t]):t==="transparent"?new Pt(NaN,NaN,NaN,0):null}function $m(t){return new Pt(t>>16&255,t>>8&255,t&255,1)}function ef(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pt(t,e,n,r)}function da(t){return t instanceof sn||(t=Gt(t)),t?(t=t.rgb(),new Pt(t.r,t.g,t.b,t.opacity)):new Pt}function Pn(t,e,n,r){return arguments.length===1?da(t):new Pt(t,e,n,r??1)}function Pt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Rn(Pt,Pn,sr(sn,{brighter(t){return t=t==null?Wr:Math.pow(Wr,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pt(Hr(this.r),Hr(this.g),Hr(this.b),rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Om,formatHex:Om,formatHex8:u4,formatRgb:Lm,toString:Lm}));function Om(){return`#${Vr(this.r)}${Vr(this.g)}${Vr(this.b)}`}function u4(){return`#${Vr(this.r)}${Vr(this.g)}${Vr(this.b)}${Vr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lm(){let t=rf(this.opacity);return`${t===1?"rgb(":"rgba("}${Hr(this.r)}, ${Hr(this.g)}, ${Hr(this.b)}${t===1?")":`, ${t})`}`}function rf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vr(t){return t=Hr(t),(t<16?"0":"")+t.toString(16)}function Bm(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $e(t,e,n,r)}function Um(t){if(t instanceof $e)return new $e(t.h,t.s,t.l,t.opacity);if(t instanceof sn||(t=Gt(t)),!t)return new $e;if(t instanceof $e)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,f=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=f<.5?o+i:2-o-i,a*=60):s=f>0&&f<1?0:a,new $e(a,s,f,t.opacity)}function ur(t,e,n,r){return arguments.length===1?Um(t):new $e(t,e,n,r??1)}function $e(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rn($e,ur,sr(sn,{brighter(t){return t=t==null?Wr:Math.pow(Wr,t),new $e(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new $e(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pt(Yl(t>=240?t-240:t+120,i,r),Yl(t,i,r),Yl(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $e(Ym(this.h),nf(this.s),nf(this.l),rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=rf(this.opacity);return`${t===1?"hsl(":"hsla("}${Ym(this.h)}, ${nf(this.s)*100}%, ${nf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ym(t){return t=(t||0)%360,t<0?t+360:t}function nf(t){return Math.max(0,Math.min(1,t||0))}function Yl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var of=Math.PI/180,af=180/Math.PI;var sf=18,Vm=.96422,Hm=1,Wm=.82521,Xm=4/29,ji=6/29,jm=3*ji*ji,c4=ji*ji*ji;function Gm(t){if(t instanceof Oe)return new Oe(t.l,t.a,t.b,t.opacity);if(t instanceof fn)return Jm(t);t instanceof Pt||(t=da(t));var e=Wl(t.r),n=Wl(t.g),r=Wl(t.b),i=Ul((.2225045*e+.7168786*n+.0606169*r)/Hm),o,a;return e===n&&n===r?o=a=i:(o=Ul((.4360747*e+.3850649*n+.1430804*r)/Vm),a=Ul((.0139322*e+.0971045*n+.7141733*r)/Wm)),new Oe(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Qm(t,e){return new Oe(t,0,0,e??1)}function Xr(t,e,n,r){return arguments.length===1?Gm(t):new Oe(t,e,n,r??1)}function Oe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Rn(Oe,Xr,sr(sn,{brighter(t){return new Oe(this.l+sf*(t??1),this.a,this.b,this.opacity)},darker(t){return new Oe(this.l-sf*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Vm*Vl(e),t=Hm*Vl(t),n=Wm*Vl(n),new Pt(Hl(3.1338561*e-1.6168667*t-.4906146*n),Hl(-.9787684*e+1.9161415*t+.033454*n),Hl(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ul(t){return t>c4?Math.pow(t,1/3):t/jm+Xm}function Vl(t){return t>ji?t*t*t:jm*(t-Xm)}function Hl(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Wl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Zm(t){if(t instanceof fn)return new fn(t.h,t.c,t.l,t.opacity);if(t instanceof Oe||(t=Gm(t)),t.a===0&&t.b===0)return new fn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*af;return new fn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Km(t,e,n,r){return arguments.length===1?Zm(t):new fn(n,e,t,r??1)}function Gi(t,e,n,r){return arguments.length===1?Zm(t):new fn(t,e,n,r??1)}function fn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Jm(t){if(isNaN(t.h))return new Oe(t.l,0,0,t.opacity);var e=t.h*of;return new Oe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Rn(fn,Gi,sr(sn,{brighter(t){return new fn(this.h,this.c,this.l+sf*(t??1),this.opacity)},darker(t){return new fn(this.h,this.c,this.l-sf*(t??1),this.opacity)},rgb(){return Jm(this).rgb()}}));var r1=-.14861,Xl=1.78277,jl=-.29227,ff=-.90649,ma=1.97294,t1=ma*ff,e1=ma*Xl,n1=Xl*jl-ff*r1;function l4(t){if(t instanceof jr)return new jr(t.h,t.s,t.l,t.opacity);t instanceof Pt||(t=da(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(n1*r+t1*e-e1*n)/(n1+t1-e1),o=r-i,a=(ma*(n-i)-jl*o)/ff,s=Math.sqrt(a*a+o*o)/(ma*i*(1-i)),f=s?Math.atan2(a,o)*af-120:NaN;return new jr(f<0?f+360:f,s,i,t.opacity)}function Qt(t,e,n,r){return arguments.length===1?l4(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rn(jr,Qt,sr(sn,{brighter(t){return t=t==null?Wr:Math.pow(Wr,t),new jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fr:Math.pow(fr,t),new jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*of,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Pt(255*(e+n*(r1*r+Xl*i)),255*(e+n*(jl*r+ff*i)),255*(e+n*(ma*r)),this.opacity)}}));function Gl(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function uf(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Gl((n-r/e)*e,a,i,o,s)}}function cf(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Gl((n-r/e)*e,i,o,a,s)}}var Qi=t=>()=>t;function i1(t,e){return function(n){return t+n*e}}function h4(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cr(t,e){var n=e-t;return n?i1(t,n>180||n<-180?n-360*Math.round(n/360):n):Qi(isNaN(t)?e:t)}function o1(t){return(t=+t)==1?St:function(e,n){return n-e?h4(e,n,t):Qi(isNaN(e)?n:e)}}function St(t,e){var n=e-t;return n?i1(t,n):Qi(isNaN(t)?e:t)}var lr=function t(e){var n=o1(e);function r(i,o){var a=n((i=Pn(i)).r,(o=Pn(o)).r),s=n(i.g,o.g),f=n(i.b,o.b),u=St(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=f(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function a1(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Pn(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(f){return s.r=r(f),s.g=i(f),s.b=o(f),s+""}}}var lf=a1(uf),s1=a1(cf);function Zi(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function f1(t,e){return(hf(e)?Zi:Ql)(t,e)}function Ql(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Zt(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function pf(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ot(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function df(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zt(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Kl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=new RegExp(Kl.source,"g");function p4(t){return function(){return t}}function d4(t){return function(e){return t(e)+""}}function Ki(t,e){var n=Kl.lastIndex=Zl.lastIndex=0,r,i,o,a=-1,s=[],f=[];for(t=t+"",e=e+"";(r=Kl.exec(t))&&(i=Zl.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,f.push({i:a,x:Ot(r,i)})),n=Zl.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?f[0]?d4(f[0].x):p4(e):(e=f.length,function(u){for(var c=0,h;c<e;++c)s[(h=f[c]).i]=h.x(u);return s.join("")})}function Zt(t,e){var n=typeof e,r;return e==null||n==="boolean"?Qi(e):(n==="number"?Ot:n==="string"?(r=Gt(e))?(e=r,lr):Ki:e instanceof Gt?lr:e instanceof Date?pf:hf(e)?Zi:Array.isArray(e)?Ql:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?df:Ot)(t,e)}function u1(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function c1(t,e){var n=cr(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function hr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var l1=180/Math.PI,mf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jl(t,e,n,r,i,o){var a,s,f;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,f/=s),t*r<e*n&&(t=-t,e=-e,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*l1,skewX:Math.atan(f)*l1,scaleX:a,scaleY:s}}var gf;function h1(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mf:Jl(e.a,e.b,e.c,e.d,e.e,e.f)}function p1(t){return t==null?mf:(gf||(gf=document.createElementNS("http://www.w3.org/2000/svg","g")),gf.setAttribute("transform",t),(t=gf.transform.baseVal.consolidate())?(t=t.matrix,Jl(t.a,t.b,t.c,t.d,t.e,t.f)):mf)}function d1(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,l,p,m){if(u!==h||c!==l){var g=p.push("translate(",null,e,null,n);m.push({i:g-4,x:Ot(u,h)},{i:g-2,x:Ot(c,l)})}else(h||l)&&p.push("translate("+h+e+l+n)}function a(u,c,h,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ot(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,l){u!==c?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ot(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function f(u,c,h,l,p,m){if(u!==h||c!==l){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:Ot(u,h)},{i:g-2,x:Ot(c,l)})}else(h!==1||l!==1)&&p.push(i(p)+"scale("+h+","+l+")")}return function(u,c){var h=[],l=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,l),a(u.rotate,c.rotate,h,l),s(u.skewX,c.skewX,h,l),f(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,l),u=c=null,function(p){for(var m=-1,g=l.length,d;++m<g;)h[(d=l[m]).i]=d.x(p);return h.join("")}}}var xf=d1(h1,"px, ","px)","deg)"),yf=d1(p1,", ",")",")");var m4=1e-12;function m1(t){return((t=Math.exp(t))+1/t)/2}function g4(t){return((t=Math.exp(t))-1/t)/2}function x4(t){return((t=Math.exp(2*t))-1)/(t+1)}var bf=function t(e,n,r){function i(o,a){var s=o[0],f=o[1],u=o[2],c=a[0],h=a[1],l=a[2],p=c-s,m=h-f,g=p*p+m*m,d,x;if(g<m4)x=Math.log(l/u)/e,d=function(E){return[s+E*p,f+E*m,u*Math.exp(e*E*x)]};else{var v=Math.sqrt(g),b=(l*l-u*u+r*g)/(2*u*n*v),y=(l*l-u*u-r*g)/(2*l*n*v),_=Math.log(Math.sqrt(b*b+1)-b),w=Math.log(Math.sqrt(y*y+1)-y);x=(w-_)/e,d=function(E){var C=E*x,N=m1(_),k=u/(n*v)*(N*x4(e*C+_)-g4(_));return[s+k*p,f+k*m,u*N/m1(e*C+_)]}}return d.duration=x*1e3*e/Math.SQRT2,d}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,f=s*s;return t(a,s,f)},i}(Math.SQRT2,2,4);function g1(t){return function(e,n){var r=t((e=ur(e)).h,(n=ur(n)).h),i=St(e.s,n.s),o=St(e.l,n.l),a=St(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=o(s),e.opacity=a(s),e+""}}}var x1=g1(cr),y1=g1(St);function th(t,e){var n=St((t=Xr(t)).l,(e=Xr(e)).l),r=St(t.a,e.a),i=St(t.b,e.b),o=St(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function b1(t){return function(e,n){var r=t((e=Gi(e)).h,(n=Gi(n)).h),i=St(e.c,n.c),o=St(e.l,n.l),a=St(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=o(s),e.opacity=a(s),e+""}}}var v1=b1(cr),_1=b1(St);function w1(t){return function e(n){n=+n;function r(i,o){var a=t((i=Qt(i)).h,(o=Qt(o)).h),s=St(i.s,o.s),f=St(i.l,o.l),u=St(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=f(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}var M1=w1(cr),Gr=w1(St);function ga(t,e){e===void 0&&(e=t,t=Zt);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function S1(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Ji=0,ya=0,xa=0,k1=1e3,vf,ba,_f=0,Qr=0,wf=0,va=typeof performance=="object"&&performance.now?performance:Date,A1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pr(){return Qr||(A1(y4),Qr=va.now()+wf)}function y4(){Qr=0}function Zr(){this._call=this._time=this._next=null}Zr.prototype=Kr.prototype={constructor:Zr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?pr():+n)+(e==null?0:+e),!this._next&&ba!==this&&(ba?ba._next=this:vf=this,ba=this),this._call=t,this._time=n,eh()},stop:function(){this._call&&(this._call=null,this._time=1/0,eh())}};function Kr(t,e,n){var r=new Zr;return r.restart(t,e,n),r}function nh(){pr(),++Ji;for(var t=vf,e;t;)(e=Qr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ji}function T1(){Qr=(_f=va.now())+wf,Ji=ya=0;try{nh()}finally{Ji=0,v4(),Qr=0}}function b4(){var t=va.now(),e=t-_f;e>k1&&(wf-=e,_f=t)}function v4(){for(var t,e=vf,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:vf=n);ba=t,eh(r)}function eh(t){if(!Ji){ya&&(ya=clearTimeout(ya));var e=t-Qr;e>24?(t<1/0&&(ya=setTimeout(T1,t-va.now()-wf)),xa&&(xa=clearInterval(xa))):(xa||(_f=va.now(),xa=setInterval(b4,k1)),Ji=1,A1(T1))}}function _a(t,e,n){var r=new Zr;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function E1(t,e,n){var r=new Zr,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(o,a,s){a=+a,s=s==null?pr():+s,r._restart(function f(u){u+=i,r._restart(f,i+=a,s),o(u)},a,s)},r.restart(t,e,n),r)}var _4=Me("start","end","cancel","interrupt"),w4=[],N1=0,Sf=1,Tf=2,Mf=3,C1=4,kf=5,wa=6;function dr(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;M4(t,n,{name:e,index:r,group:i,on:_4,tween:w4,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:N1})}function Ma(t,e){var n=Dt(t,e);if(n.state>N1)throw new Error("too late; already scheduled");return n}function Ht(t,e){var n=Dt(t,e);if(n.state>Mf)throw new Error("too late; already running");return n}function Dt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function M4(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Kr(o,0,n.time);function o(u){n.state=Sf,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,l,p;if(n.state!==Sf)return f();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Mf)return _a(a);p.state===C1?(p.state=wa,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=wa,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(_a(function(){n.state===Mf&&(n.state=C1,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Tf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tf){for(n.state=Mf,i=new Array(l=n.tween.length),c=0,h=-1;c<l;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(f),n.state=kf,1),h=-1,l=i.length;++h<l;)i[h].call(t,c);n.state===kf&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=wa,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Le(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Tf&&r.state<kf,r.state=wa,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function z1(t){return this.each(function(){Le(this,t)})}function S4(t,e){var n,r;return function(){var i=Ht(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function T4(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ht(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},f=0,u=i.length;f<u;++f)if(i[f].name===e){i[f]=s;break}f===u&&i.push(s)}o.tween=i}}function R1(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Dt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?S4:T4)(n,t,e))}function to(t,e,n){var r=t._id;return t.each(function(){var i=Ht(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Dt(i,r).value[e]}}function Af(t,e){var n;return(typeof e=="number"?Ot:e instanceof Gt?lr:(n=Gt(e))?(e=n,lr):Ki)(t,e)}function k4(t){return function(){this.removeAttribute(t)}}function A4(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E4(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function C4(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function N4(t,e,n){var r,i,o;return function(){var a,s=n(this),f;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,s)))}}function z4(t,e,n){var r,i,o;return function(){var a,s=n(this),f;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=s+"",a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,s)))}}function P1(t,e){var n=rn(t),r=n==="transform"?yf:Af;return this.attrTween(t,typeof e=="function"?(n.local?z4:N4)(n,r,to(this,"attr."+t,e)):e==null?(n.local?A4:k4)(n):(n.local?C4:E4)(n,r,e))}function R4(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function P4(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function I4(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&P4(t,o)),n}return i._value=e,i}function D4(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&R4(t,o)),n}return i._value=e,i}function I1(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=rn(t);return this.tween(n,(r.local?I4:D4)(r,e))}function q4(t,e){return function(){Ma(this,t).delay=+e.apply(this,arguments)}}function F4(t,e){return e=+e,function(){Ma(this,t).delay=e}}function D1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?q4:F4)(e,t)):Dt(this.node(),e).delay}function $4(t,e){return function(){Ht(this,t).duration=+e.apply(this,arguments)}}function O4(t,e){return e=+e,function(){Ht(this,t).duration=e}}function q1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$4:O4)(e,t)):Dt(this.node(),e).duration}function L4(t,e){if(typeof e!="function")throw new Error;return function(){Ht(this,t).ease=e}}function F1(t){var e=this._id;return arguments.length?this.each(L4(e,t)):Dt(this.node(),e).ease}function B4(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,t).ease=n}}function $1(t){if(typeof t!="function")throw new Error;return this.each(B4(this._id,t))}function O1(t){typeof t!="function"&&(t=Hi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&s.push(f);return new Wt(r,this._parents,this._name,this._id)}function L1(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var f=e[s],u=n[s],c=f.length,h=a[s]=new Array(c),l,p=0;p<c;++p)(l=f[p]||u[p])&&(h[p]=l);for(;s<r;++s)a[s]=e[s];return new Wt(a,this._parents,this._name,this._id)}function Y4(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function U4(t,e,n){var r,i,o=Y4(e)?Ma:Ht;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function B1(t,e){var n=this._id;return arguments.length<2?Dt(this.node(),n).on.on(t):this.each(U4(n,t,e))}function V4(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Y1(){return this.on("end.remove",V4(this._id))}function U1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rr(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],f=s.length,u=o[a]=new Array(f),c,h,l=0;l<f;++l)(c=s[l])&&(h=t.call(c,c.__data__,l,s))&&("__data__"in c&&(h.__data__=c.__data__),u[l]=h,dr(u[l],e,n,l,u,Dt(c,n)));return new Wt(o,this._parents,e,n)}function V1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Vi(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var f=r[s],u=f.length,c,h=0;h<u;++h)if(c=f[h]){for(var l=t.call(c,c.__data__,h,f),p,m=Dt(c,n),g=0,d=l.length;g<d;++g)(p=l[g])&&dr(p,e,n,g,l,m);o.push(l),a.push(c)}return new Wt(o,a,e,n)}var H4=on.prototype.constructor;function H1(){return new H4(this._groups,this._parents)}function W4(t,e){var n,r,i;return function(){var o=zn(this,t),a=(this.style.removeProperty(t),zn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function W1(t){return function(){this.style.removeProperty(t)}}function X4(t,e,n){var r,i=n+"",o;return function(){var a=zn(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function j4(t,e,n){var r,i,o;return function(){var a=zn(this,t),s=n(this),f=s+"";return s==null&&(f=s=(this.style.removeProperty(t),zn(this,t))),a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,s))}}function G4(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var f=Ht(this,t),u=f.on,c=f.value[o]==null?s||(s=W1(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),f.on=r}}function X1(t,e,n){var r=(t+="")=="transform"?xf:Af;return e==null?this.styleTween(t,W4(t,r)).on("end.style."+t,W1(t)):typeof e=="function"?this.styleTween(t,j4(t,r,to(this,"style."+t,e))).each(G4(this._id,t)):this.styleTween(t,X4(t,r,e),n).on("end.style."+t,null)}function Q4(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Z4(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Q4(t,a,n)),r}return o._value=e,o}function j1(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Z4(t,e,n??""))}function K4(t){return function(){this.textContent=t}}function J4(t){return function(){var e=t(this);this.textContent=e??""}}function G1(t){return this.tween("text",typeof t=="function"?J4(to(this,"text",t)):K4(t==null?"":t+""))}function t5(t){return function(e){this.textContent=t.call(this,e)}}function e5(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&t5(i)),e}return r._value=t,r}function Q1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,e5(t))}function Z1(){for(var t=this._name,e=this._id,n=Ef(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,u=0;u<s;++u)if(f=a[u]){var c=Dt(f,e);dr(f,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wt(r,this._parents,t,n)}function K1(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},f={value:function(){--i===0&&o()}};n.each(function(){var u=Ht(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(f)),u.on=e}),i===0&&o()})}var n5=0;function Wt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function eo(t){return on().transition(t)}function Ef(){return++n5}var In=on.prototype;Wt.prototype=eo.prototype={constructor:Wt,select:U1,selectAll:V1,selectChild:In.selectChild,selectChildren:In.selectChildren,filter:O1,merge:L1,selection:H1,transition:Z1,call:In.call,nodes:In.nodes,node:In.node,size:In.size,empty:In.empty,each:In.each,on:B1,attr:P1,attrTween:I1,style:X1,styleTween:j1,text:G1,textTween:Q1,remove:Y1,tween:R1,delay:D1,duration:q1,ease:F1,easeVarying:$1,end:K1,[Symbol.iterator]:In[Symbol.iterator]};var J1=t=>+t;function tg(t){return t*t}function eg(t){return t*(2-t)}function rh(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ng(t){return t*t*t}function rg(t){return--t*t*t+1}function Sa(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ih=3,ig=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(ih),og=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(ih),oh=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(ih);var ag=Math.PI,sg=ag/2;function fg(t){return+t==1?1:1-Math.cos(t*sg)}function ug(t){return Math.sin(t*sg)}function ah(t){return(1-Math.cos(ag*t))/2}function un(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function cg(t){return un(1-+t)}function Cf(t){return 1-un(t)}function sh(t){return((t*=2)<=1?un(1-t):2-un(t-1))/2}function lg(t){return 1-Math.sqrt(1-t*t)}function hg(t){return Math.sqrt(1- --t*t)}function fh(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var uh=.36363636363636365,r5=6/11,i5=8/11,o5=3/4,a5=9/11,s5=10/11,f5=15/16,u5=21/22,c5=63/64,Nf=1/uh/uh;function pg(t){return 1-no(1-t)}function no(t){return(t=+t)<uh?Nf*t*t:t<i5?Nf*(t-=r5)*t+o5:t<s5?Nf*(t-=a5)*t+f5:Nf*(t-=u5)*t+c5}function dg(t){return((t*=2)<=1?1-no(1-t):no(t-1)+1)/2}var ch=1.70158,mg=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(ch),gg=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(ch),lh=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(ch);var ro=2*Math.PI,hh=1,ph=.3,xg=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ro);function i(o){return e*un(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return t(o,n*ro)},i.period=function(o){return t(e,o)},i}(hh,ph),dh=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ro);function i(o){return 1-e*un(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return t(o,n*ro)},i.period=function(o){return t(e,o)},i}(hh,ph),yg=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ro);function i(o){return((o=o*2-1)<0?e*un(-o)*Math.sin((r-o)/n):2-e*un(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return t(o,n*ro)},i.period=function(o){return t(e,o)},i}(hh,ph);var l5={time:null,delay:0,duration:250,ease:Sa};function h5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function bg(t){var e,n;t instanceof Wt?(e=t._id,t=t._name):(e=Ef(),(n=l5).time=pr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,f,u=0;u<s;++u)(f=a[u])&&dr(f,t,e,u,a,n||h5(f,e));return new Wt(r,this._parents,t,e)}on.prototype.interrupt=z1;on.prototype.transition=bg;var p5=[null];function vg(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>Sf&&r.name===e)return new Wt([[t]],p5,e,+i)}return null}var zf=t=>()=>t;function mh(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function _g(t){t.stopImmediatePropagation()}function Rf(t){t.preventDefault(),t.stopImmediatePropagation()}var wg={name:"drag"},gh={name:"space"},io={name:"handle"},oo={name:"center"},{abs:Mg,max:Kt,min:Jt}=Math;function Sg(t){return[+t[0],+t[1]]}function yh(t){return[Sg(t[0]),Sg(t[1])]}var Pf={name:"x",handles:["w","e"].map(Ta),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},If={name:"y",handles:["n","s"].map(Ta),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},d5={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ta),input:function(t){return t==null?null:yh(t)},output:function(t){return t}},Dn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Tg={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kg={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},m5={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},g5={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ta(t){return{type:t}}function x5(t){return!t.ctrlKey&&!t.button}function y5(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function b5(){return navigator.maxTouchPoints||"ontouchstart"in this}function xh(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function v5(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ag(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Df(){return bh(Pf)}function Eg(){return bh(If)}function Cg(){return bh(d5)}function bh(t){var e=y5,n=x5,r=b5,i=!0,o=Me("start","brush","end"),a=6,s;function f(d){var x=d.property("__brush",g).selectAll(".overlay").data([Ta("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Dn.overlay).merge(x).each(function(){var b=xh(this).extent;nt(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),d.selectAll(".selection").data([Ta("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Dn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=d.selectAll(".handle").data(t.handles,function(b){return b.type});v.exit().remove(),v.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return Dn[b.type]}),d.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",l).filter(r).on("touchstart.brush",l).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(d,x,v){d.tween?d.on("start.brush",function(b){c(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){c(this,arguments).end(b)}).tween("brush",function(){var b=this,y=b.__brush,_=c(b,arguments),w=y.selection,E=t.input(typeof x=="function"?x.apply(this,arguments):x,y.extent),C=Zt(w,E);function N(k){y.selection=k===1&&E===null?null:C(k),u.call(b),_.brush()}return w!==null&&E!==null?N:N(1)}):d.each(function(){var b=this,y=arguments,_=b.__brush,w=t.input(typeof x=="function"?x.apply(b,y):x,_.extent),E=c(b,y).beforestart();Le(b),_.selection=w===null?null:w,u.call(b),E.start(v).brush(v).end(v)})},f.clear=function(d,x){f.move(d,null,x)};function u(){var d=nt(this),x=xh(this).selection;x?(d.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),d.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?x[1][0]-a/2:x[0][0]-a/2}).attr("y",function(v){return v.type[0]==="s"?x[1][1]-a/2:x[0][1]-a/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?x[1][0]-x[0][0]+a:a}).attr("height",function(v){return v.type==="e"||v.type==="w"?x[1][1]-x[0][1]+a:a})):d.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(d,x,v){var b=d.__brush.emitter;return b&&(!v||!b.clean)?b:new h(d,x,v)}function h(d,x,v){this.that=d,this.args=x,this.state=d.__brush,this.active=0,this.clean=v}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(d,x){return this.starting?(this.starting=!1,this.emit("start",d,x)):this.emit("brush",d),this},brush:function(d,x){return this.emit("brush",d,x),this},end:function(d,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",d,x)),this},emit:function(d,x,v){var b=nt(this.that).datum();o.call(d,this.that,new mh(d,{sourceEvent:x,target:f,selection:t.output(this.state.selection),mode:v,dispatch:o}),b)}};function l(d){if(s&&!d.touches||!n.apply(this,arguments))return;var x=this,v=d.target.__data__.type,b=(i&&d.metaKey?v="overlay":v)==="selection"?wg:i&&d.altKey?oo:io,y=t===If?null:m5[v],_=t===Pf?null:g5[v],w=xh(x),E=w.extent,C=w.selection,N=E[0][0],k,S,P=E[0][1],z,M,T=E[1][0],A,R,q=E[1][1],I,Y,$=0,H=0,j,tt=y&&_&&i&&d.shiftKey,et,ct,ot=Array.from(d.touches||[d],Z=>{let Et=Z.identifier;return Z=$t(Z,x),Z.point0=Z.slice(),Z.identifier=Et,Z});Le(x);var vt=c(x,arguments,!0).beforestart();if(v==="overlay"){C&&(j=!0);let Z=[ot[0],ot[1]||ot[0]];w.selection=C=[[k=t===If?N:Jt(Z[0][0],Z[1][0]),z=t===Pf?P:Jt(Z[0][1],Z[1][1])],[A=t===If?T:Kt(Z[0][0],Z[1][0]),I=t===Pf?q:Kt(Z[0][1],Z[1][1])]],ot.length>1&&At(d)}else k=C[0][0],z=C[0][1],A=C[1][0],I=C[1][1];S=k,M=z,R=A,Y=I;var U=nt(x).attr("pointer-events","none"),K=U.selectAll(".overlay").attr("cursor",Dn[v]);if(d.touches)vt.moved=F,vt.ended=dt;else{var rt=nt(d.view).on("mousemove.brush",F,!0).on("mouseup.brush",dt,!0);i&&rt.on("keydown.brush",ne,!0).on("keyup.brush",re,!0),or(d.view)}u.call(x),vt.start(d,b.name);function F(Z){for(let Et of Z.changedTouches||[Z])for(let Vo of ot)Vo.identifier===Et.identifier&&(Vo.cur=$t(Et,x));if(tt&&!et&&!ct&&ot.length===1){let Et=ot[0];Mg(Et.cur[0]-Et[0])>Mg(Et.cur[1]-Et[1])?ct=!0:et=!0}for(let Et of ot)Et.cur&&(Et[0]=Et.cur[0],Et[1]=Et.cur[1]);j=!0,Rf(Z),At(Z)}function At(Z){let Et=ot[0],Vo=Et.point0;var Qn;switch($=Et[0]-Vo[0],H=Et[1]-Vo[1],b){case gh:case wg:{y&&($=Kt(N-k,Jt(T-A,$)),S=k+$,R=A+$),_&&(H=Kt(P-z,Jt(q-I,H)),M=z+H,Y=I+H);break}case io:{ot[1]?(y&&(S=Kt(N,Jt(T,ot[0][0])),R=Kt(N,Jt(T,ot[1][0])),y=1),_&&(M=Kt(P,Jt(q,ot[0][1])),Y=Kt(P,Jt(q,ot[1][1])),_=1)):(y<0?($=Kt(N-k,Jt(T-k,$)),S=k+$,R=A):y>0&&($=Kt(N-A,Jt(T-A,$)),S=k,R=A+$),_<0?(H=Kt(P-z,Jt(q-z,H)),M=z+H,Y=I):_>0&&(H=Kt(P-I,Jt(q-I,H)),M=z,Y=I+H));break}case oo:{y&&(S=Kt(N,Jt(T,k-$*y)),R=Kt(N,Jt(T,A+$*y))),_&&(M=Kt(P,Jt(q,z-H*_)),Y=Kt(P,Jt(q,I+H*_)));break}}R<S&&(y*=-1,Qn=k,k=A,A=Qn,Qn=S,S=R,R=Qn,v in Tg&&K.attr("cursor",Dn[v=Tg[v]])),Y<M&&(_*=-1,Qn=z,z=I,I=Qn,Qn=M,M=Y,Y=Qn,v in kg&&K.attr("cursor",Dn[v=kg[v]])),w.selection&&(C=w.selection),et&&(S=C[0][0],R=C[1][0]),ct&&(M=C[0][1],Y=C[1][1]),(C[0][0]!==S||C[0][1]!==M||C[1][0]!==R||C[1][1]!==Y)&&(w.selection=[[S,M],[R,Y]],u.call(x),vt.brush(Z,b.name))}function dt(Z){if(_g(Z),Z.touches){if(Z.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else ar(Z.view,j),rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),K.attr("cursor",Dn.overlay),w.selection&&(C=w.selection),v5(C)&&(w.selection=null,u.call(x)),vt.end(Z,b.name)}function ne(Z){switch(Z.keyCode){case 16:{tt=y&&_;break}case 18:{b===io&&(y&&(A=R-$*y,k=S+$*y),_&&(I=Y-H*_,z=M+H*_),b=oo,At(Z));break}case 32:{(b===io||b===oo)&&(y<0?A=R-$:y>0&&(k=S-$),_<0?I=Y-H:_>0&&(z=M-H),b=gh,K.attr("cursor",Dn.selection),At(Z));break}default:return}Rf(Z)}function re(Z){switch(Z.keyCode){case 16:{tt&&(et=ct=tt=!1,At(Z));break}case 18:{b===oo&&(y<0?A=R:y>0&&(k=S),_<0?I=Y:_>0&&(z=M),b=io,At(Z));break}case 32:{b===gh&&(Z.altKey?(y&&(A=R-$*y,k=S+$*y),_&&(I=Y-H*_,z=M+H*_),b=oo):(y<0?A=R:y>0&&(k=S),_<0?I=Y:_>0&&(z=M),b=io),K.attr("cursor",Dn[v]),At(Z));break}default:return}Rf(Z)}}function p(d){c(this,arguments).moved(d)}function m(d){c(this,arguments).ended(d)}function g(){var d=this.__brush||{selection:null};return d.extent=yh(e.apply(this,arguments)),d.dim=t,d}return f.extent=function(d){return arguments.length?(e=typeof d=="function"?d:zf(yh(d)),f):e},f.filter=function(d){return arguments.length?(n=typeof d=="function"?d:zf(!!d),f):n},f.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:zf(!!d),f):r},f.handleSize=function(d){return arguments.length?(a=+d,f):a},f.keyModifiers=function(d){return arguments.length?(i=!!d,f):i},f.on=function(){var d=o.on.apply(o,arguments);return d===o?f:d},f}var vh=Math.abs,Jr=Math.cos,ti=Math.sin,Ng=Math.PI,ka=Ng/2,_h=Ng*2,wh=Math.max,qf=1e-12;function Mh(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function _5(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function zg(){return Sh(!1,!1)}function Rg(){return Sh(!1,!0)}function Pg(){return Sh(!0,!1)}function Sh(t,e){var n=0,r=null,i=null,o=null;function a(s){var f=s.length,u=new Array(f),c=Mh(0,f),h=new Array(f*f),l=new Array(f),p=0,m;s=Float64Array.from({length:f*f},e?(g,d)=>s[d%f][d/f|0]:(g,d)=>s[d/f|0][d%f]);for(let g=0;g<f;++g){let d=0;for(let x=0;x<f;++x)d+=s[g*f+x]+t*s[x*f+g];p+=u[g]=d}p=wh(0,_h-n*f)/p,m=p?n:_h/f;{let g=0;r&&c.sort((d,x)=>r(u[d],u[x]));for(let d of c){let x=g;if(t){let v=Mh(~f+1,f).filter(b=>b<0?s[~b*f+d]:s[d*f+b]);i&&v.sort((b,y)=>i(b<0?-s[~b*f+d]:s[d*f+b],y<0?-s[~y*f+d]:s[d*f+y]));for(let b of v)if(b<0){let y=h[~b*f+d]||(h[~b*f+d]={source:null,target:null});y.target={index:d,startAngle:g,endAngle:g+=s[~b*f+d]*p,value:s[~b*f+d]}}else{let y=h[d*f+b]||(h[d*f+b]={source:null,target:null});y.source={index:d,startAngle:g,endAngle:g+=s[d*f+b]*p,value:s[d*f+b]}}l[d]={index:d,startAngle:x,endAngle:g,value:u[d]}}else{let v=Mh(0,f).filter(b=>s[d*f+b]||s[b*f+d]);i&&v.sort((b,y)=>i(s[d*f+b],s[d*f+y]));for(let b of v){let y;if(d<b?(y=h[d*f+b]||(h[d*f+b]={source:null,target:null}),y.source={index:d,startAngle:g,endAngle:g+=s[d*f+b]*p,value:s[d*f+b]}):(y=h[b*f+d]||(h[b*f+d]={source:null,target:null}),y.target={index:d,startAngle:g,endAngle:g+=s[d*f+b]*p,value:s[d*f+b]},d===b&&(y.source=y.target)),y.source&&y.target&&y.source.value<y.target.value){let _=y.source;y.source=y.target,y.target=_}}l[d]={index:d,startAngle:x,endAngle:g,value:u[d]}}g+=m}}return h=Object.values(h),h.groups=l,o?h.sort(o):h}return a.padAngle=function(s){return arguments.length?(n=wh(0,s),a):n},a.sortGroups=function(s){return arguments.length?(r=s,a):r},a.sortSubgroups=function(s){return arguments.length?(i=s,a):i},a.sortChords=function(s){return arguments.length?(s==null?o=null:(o=_5(s))._=s,a):o&&o._},a}var Th=Math.PI,kh=2*Th,ei=1e-6,w5=kh-ei;function Ig(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function M5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ig;let n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}var qn=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ig:M5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,f=r-e,u=i-n,c=a-e,h=s-n,l=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>ei)if(!(Math.abs(h*f-u*c)>ei)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=f*f+u*u,d=p*p+m*m,x=Math.sqrt(g),v=Math.sqrt(l),b=o*Math.tan((Th-Math.acos((g+l-d)/(2*x*v)))/2),y=b/v,_=b/x;Math.abs(y-1)>ei&&this._append`L${e+y*c},${n+y*h}`,this._append`A${o},${o},0,0,${+(h*p>c*m)},${this._x1=e+_*f},${this._y1=n+_*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),f=r*Math.sin(i),u=e+s,c=n+f,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ei||Math.abs(this._y1-c)>ei)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%kh+kh),l>w5?this._append`A${r},${r},0,1,${h},${e-s},${n-f}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:l>ei&&this._append`A${r},${r},0,${+(l>=Th)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Aa(){return new qn}Aa.prototype=qn.prototype;function Dg(t=3){return new qn(+t)}var qg=Array.prototype.slice;function mr(t){return function(){return t}}function S5(t){return t.source}function T5(t){return t.target}function Fg(t){return t.radius}function k5(t){return t.startAngle}function A5(t){return t.endAngle}function E5(){return 0}function C5(){return 10}function $g(t){var e=S5,n=T5,r=Fg,i=Fg,o=k5,a=A5,s=E5,f=null;function u(){var c,h=e.apply(this,arguments),l=n.apply(this,arguments),p=s.apply(this,arguments)/2,m=qg.call(arguments),g=+r.apply(this,(m[0]=h,m)),d=o.apply(this,m)-ka,x=a.apply(this,m)-ka,v=+i.apply(this,(m[0]=l,m)),b=o.apply(this,m)-ka,y=a.apply(this,m)-ka;if(f||(f=c=Aa()),p>qf&&(vh(x-d)>p*2+qf?x>d?(d+=p,x-=p):(d-=p,x+=p):d=x=(d+x)/2,vh(y-b)>p*2+qf?y>b?(b+=p,y-=p):(b-=p,y+=p):b=y=(b+y)/2),f.moveTo(g*Jr(d),g*ti(d)),f.arc(0,0,g,d,x),d!==b||x!==y)if(t){var _=+t.apply(this,arguments),w=v-_,E=(b+y)/2;f.quadraticCurveTo(0,0,w*Jr(b),w*ti(b)),f.lineTo(v*Jr(E),v*ti(E)),f.lineTo(w*Jr(y),w*ti(y))}else f.quadraticCurveTo(0,0,v*Jr(b),v*ti(b)),f.arc(0,0,v,b,y);if(f.quadraticCurveTo(0,0,g*Jr(d),g*ti(d)),f.closePath(),c)return f=null,c+""||null}return t&&(u.headRadius=function(c){return arguments.length?(t=typeof c=="function"?c:mr(+c),u):t}),u.radius=function(c){return arguments.length?(r=i=typeof c=="function"?c:mr(+c),u):r},u.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:mr(+c),u):r},u.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:mr(+c),u):i},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:mr(+c),u):o},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:mr(+c),u):a},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:mr(+c),u):s},u.source=function(c){return arguments.length?(e=c,u):e},u.target=function(c){return arguments.length?(n=c,u):n},u.context=function(c){return arguments.length?(f=c??null,u):f},u}function Og(){return $g()}function Lg(){return $g(C5)}var N5=Array.prototype,Ff=N5.slice;function Bg(t,e){return t-e}function Yg(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}var cn=t=>()=>t;function Ug(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=z5(t,e[n]))return i;return 0}function z5(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var f=t[o],u=f[0],c=f[1],h=t[s],l=h[0],p=h[1];if(R5(f,h,e))return 0;c>r!=p>r&&n<(l-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function R5(t,e,n){var r;return P5(t,e,n)&&I5(t[r=+(t[0]===e[0])],n[r],e[r])}function P5(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function I5(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function Vg(){}var Fn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ea(){var t=1,e=1,n=$r,r=f;function i(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(Bg);else{let h=An(u,D5);for(c=he(...Fr(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>o(u,h))}function o(u,c){let h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var l=[],p=[];return a(u,h,function(m){r(m,u,h),Yg(m)>0?l.push([m]):p.push(m)}),p.forEach(function(m){for(var g=0,d=l.length,x;g<d;++g)if(Ug((x=l[g])[0],m)!==-1){x.push(m);return}}),{type:"MultiPolygon",value:c,coordinates:l}}function a(u,c,h){var l=new Array,p=new Array,m,g,d,x,v,b;for(m=g=-1,x=ni(u[0],c),Fn[x<<1].forEach(y);++m<t-1;)d=x,x=ni(u[m+1],c),Fn[d|x<<1].forEach(y);for(Fn[x<<0].forEach(y);++g<e-1;){for(m=-1,x=ni(u[g*t+t],c),v=ni(u[g*t],c),Fn[x<<1|v<<2].forEach(y);++m<t-1;)d=x,x=ni(u[g*t+t+m+1],c),b=v,v=ni(u[g*t+m+1],c),Fn[d|x<<1|v<<2|b<<3].forEach(y);Fn[x|v<<3].forEach(y)}for(m=-1,v=u[g*t]>=c,Fn[v<<2].forEach(y);++m<t-1;)b=v,v=ni(u[g*t+m+1],c),Fn[v<<2|b<<3].forEach(y);Fn[v<<3].forEach(y);function y(_){var w=[_[0][0]+m,_[0][1]+g],E=[_[1][0]+m,_[1][1]+g],C=s(w),N=s(E),k,S;(k=p[C])?(S=l[N])?(delete p[k.end],delete l[S.start],k===S?(k.ring.push(E),h(k.ring)):l[k.start]=p[S.end]={start:k.start,end:S.end,ring:k.ring.concat(S.ring)}):(delete p[k.end],k.ring.push(E),p[k.end=N]=k):(k=l[N])?(S=p[C])?(delete l[k.start],delete p[S.end],k===S?(k.ring.push(E),h(k.ring)):l[S.start]=p[k.end]={start:S.start,end:k.end,ring:S.ring.concat(k.ring)}):(delete l[k.start],k.ring.unshift(w),l[k.start=C]=k):l[C]=p[N]={start:C,end:N,ring:[w,E]}}}function s(u){return u[0]*2+u[1]*(t+1)*4}function f(u,c,h){u.forEach(function(l){var p=l[0],m=l[1],g=p|0,d=m|0,x=Ah(c[d*t+g]);p>0&&p<t&&g===p&&(l[0]=Hg(p,Ah(c[d*t+g-1]),x,h)),m>0&&m<e&&d===m&&(l[1]=Hg(m,Ah(c[(d-1)*t+g]),x,h))})}return i.contour=o,i.size=function(u){if(!arguments.length)return[t,e];var c=Math.floor(u[0]),h=Math.floor(u[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,e=h,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?cn(Ff.call(u)):cn(u),i):n},i.smooth=function(u){return arguments.length?(r=u?f:Vg,i):r===f},i}function D5(t){return isFinite(t)?t:NaN}function ni(t,e){return t==null?!1:+t>=e}function Ah(t){return t==null||isNaN(t=+t)?-1/0:t}function Hg(t,e,n,r){let i=r-e,o=n-e,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function q5(t){return t[0]}function F5(t){return t[1]}function $5(){return 1}function Wg(){var t=q5,e=F5,n=$5,r=960,i=500,o=20,a=2,s=o*3,f=r+s*2>>a,u=i+s*2>>a,c=cn(20);function h(v){var b=new Float32Array(f*u),y=Math.pow(2,-a),_=-1;for(let z of v){var w=(t(z,++_,v)+s)*y,E=(e(z,_,v)+s)*y,C=+n(z,_,v);if(C&&w>=0&&w<f&&E>=0&&E<u){var N=Math.floor(w),k=Math.floor(E),S=w-N-.5,P=E-k-.5;b[N+k*f]+=(1-S)*(1-P)*C,b[N+1+k*f]+=S*(1-P)*C,b[N+1+(k+1)*f]+=S*P*C,b[N+(k+1)*f]+=(1-S)*P*C}}return Fs({data:b,width:f,height:u},o*y),b}function l(v){var b=h(v),y=c(b),_=Math.pow(2,2*a);return Array.isArray(y)||(y=he(Number.MIN_VALUE,Nn(b)/_,y)),Ea().size([f,u]).thresholds(y.map(w=>w*_))(b).map((w,E)=>(w.value=+y[E],p(w)))}l.contours=function(v){var b=h(v),y=Ea().size([f,u]),_=Math.pow(2,2*a),w=E=>{E=+E;var C=p(y.contour(b,E*_));return C.value=E,C};return Object.defineProperty(w,"max",{get:()=>Nn(b)/_}),w};function p(v){return v.coordinates.forEach(m),v}function m(v){v.forEach(g)}function g(v){v.forEach(d)}function d(v){v[0]=v[0]*Math.pow(2,a)-s,v[1]=v[1]*Math.pow(2,a)-s}function x(){return s=o*3,f=r+s*2>>a,u=i+s*2>>a,l}return l.x=function(v){return arguments.length?(t=typeof v=="function"?v:cn(+v),l):t},l.y=function(v){return arguments.length?(e=typeof v=="function"?v:cn(+v),l):e},l.weight=function(v){return arguments.length?(n=typeof v=="function"?v:cn(+v),l):n},l.size=function(v){if(!arguments.length)return[r,i];var b=+v[0],y=+v[1];if(!(b>=0&&y>=0))throw new Error("invalid size");return r=b,i=y,x()},l.cellSize=function(v){if(!arguments.length)return 1<<a;if(!((v=+v)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(v)/Math.LN2),x()},l.thresholds=function(v){return arguments.length?(c=typeof v=="function"?v:Array.isArray(v)?cn(Ff.call(v)):cn(v),l):c},l.bandwidth=function(v){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((v=+v)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*v*v+1)-1)/2,x()},l}var ft=11102230246251565e-32,It=134217729,Ca=(3+8*ft)*ft;function ri(t,e,n,r,i){let o,a,s,f,u=e[0],c=r[0],h=0,l=0;c>u==c>-u?(o=u,u=e[++h]):(o=c,c=r[++l]);let p=0;if(h<t&&l<n)for(c>u==c>-u?(a=u+o,s=o-(a-u),u=e[++h]):(a=c+o,s=o-(a-c),c=r[++l]),o=a,s!==0&&(i[p++]=s);h<t&&l<n;)c>u==c>-u?(a=o+u,f=a-o,s=o-(a-f)+(u-f),u=e[++h]):(a=o+c,f=a-o,s=o-(a-f)+(c-f),c=r[++l]),o=a,s!==0&&(i[p++]=s);for(;h<t;)a=o+u,f=a-o,s=o-(a-f)+(u-f),u=e[++h],o=a,s!==0&&(i[p++]=s);for(;l<n;)a=o+c,f=a-o,s=o-(a-f)+(c-f),c=r[++l],o=a,s!==0&&(i[p++]=s);return(o!==0||p===0)&&(i[p++]=o),p}function Na(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function D(t){return new Float64Array(t)}var O5=(3+16*ft)*ft,L5=(2+12*ft)*ft,B5=(9+64*ft)*ft*ft,ao=D(4),Xg=D(8),jg=D(12),Gg=D(16),ie=D(4);function Y5(t,e,n,r,i,o,a){let s,f,u,c,h,l,p,m,g,d,x,v,b,y,_,w,E,C,N=t-i,k=n-i,S=e-o,P=r-o;y=N*P,l=It*N,p=l-(l-N),m=N-p,l=It*P,g=l-(l-P),d=P-g,_=m*d-(y-p*g-m*g-p*d),w=S*k,l=It*S,p=l-(l-S),m=S-p,l=It*k,g=l-(l-k),d=k-g,E=m*d-(w-p*g-m*g-p*d),x=_-E,h=_-x,ao[0]=_-(x+h)+(h-E),v=y+x,h=v-y,b=y-(v-h)+(x-h),x=b-w,h=b-x,ao[1]=b-(x+h)+(h-w),C=v+x,h=C-v,ao[2]=v-(C-h)+(x-h),ao[3]=C;let z=Na(4,ao),M=L5*a;if(z>=M||-z>=M||(h=t-N,s=t-(N+h)+(h-i),h=n-k,u=n-(k+h)+(h-i),h=e-S,f=e-(S+h)+(h-o),h=r-P,c=r-(P+h)+(h-o),s===0&&f===0&&u===0&&c===0)||(M=B5*a+Ca*Math.abs(z),z+=N*c+P*s-(S*u+k*f),z>=M||-z>=M))return z;y=s*P,l=It*s,p=l-(l-s),m=s-p,l=It*P,g=l-(l-P),d=P-g,_=m*d-(y-p*g-m*g-p*d),w=f*k,l=It*f,p=l-(l-f),m=f-p,l=It*k,g=l-(l-k),d=k-g,E=m*d-(w-p*g-m*g-p*d),x=_-E,h=_-x,ie[0]=_-(x+h)+(h-E),v=y+x,h=v-y,b=y-(v-h)+(x-h),x=b-w,h=b-x,ie[1]=b-(x+h)+(h-w),C=v+x,h=C-v,ie[2]=v-(C-h)+(x-h),ie[3]=C;let T=ri(4,ao,4,ie,Xg);y=N*c,l=It*N,p=l-(l-N),m=N-p,l=It*c,g=l-(l-c),d=c-g,_=m*d-(y-p*g-m*g-p*d),w=S*u,l=It*S,p=l-(l-S),m=S-p,l=It*u,g=l-(l-u),d=u-g,E=m*d-(w-p*g-m*g-p*d),x=_-E,h=_-x,ie[0]=_-(x+h)+(h-E),v=y+x,h=v-y,b=y-(v-h)+(x-h),x=b-w,h=b-x,ie[1]=b-(x+h)+(h-w),C=v+x,h=C-v,ie[2]=v-(C-h)+(x-h),ie[3]=C;let A=ri(T,Xg,4,ie,jg);y=s*c,l=It*s,p=l-(l-s),m=s-p,l=It*c,g=l-(l-c),d=c-g,_=m*d-(y-p*g-m*g-p*d),w=f*u,l=It*f,p=l-(l-f),m=f-p,l=It*u,g=l-(l-u),d=u-g,E=m*d-(w-p*g-m*g-p*d),x=_-E,h=_-x,ie[0]=_-(x+h)+(h-E),v=y+x,h=v-y,b=y-(v-h)+(x-h),x=b-w,h=b-x,ie[1]=b-(x+h)+(h-w),C=v+x,h=C-v,ie[2]=v-(C-h)+(x-h),ie[3]=C;let R=ri(A,jg,4,ie,Gg);return Gg[R-1]}function so(t,e,n,r,i,o){let a=(e-o)*(n-i),s=(t-i)*(r-o),f=a-s,u=Math.abs(a+s);return Math.abs(f)>=O5*u?f:-Y5(t,e,n,r,i,o,u)}var bI=(7+56*ft)*ft,vI=(3+28*ft)*ft,_I=(26+288*ft)*ft*ft,wI=D(4),MI=D(4),SI=D(4),TI=D(4),kI=D(4),AI=D(4),EI=D(4),CI=D(4),NI=D(4),zI=D(8),RI=D(8),PI=D(8),II=D(4),DI=D(8),qI=D(8),FI=D(8),$I=D(12),OI=D(192),LI=D(192);var UI=(10+96*ft)*ft,VI=(4+48*ft)*ft,HI=(44+576*ft)*ft*ft,WI=D(4),XI=D(4),jI=D(4),GI=D(4),QI=D(4),ZI=D(4),KI=D(4),JI=D(4),tD=D(8),eD=D(8),nD=D(8),rD=D(8),iD=D(8),oD=D(8),aD=D(8),sD=D(8),fD=D(8),uD=D(4),cD=D(4),lD=D(4),hD=D(8),pD=D(16),dD=D(16),mD=D(16),gD=D(32),xD=D(32),yD=D(48),bD=D(64),vD=D(1152),_D=D(1152);var TD=(16+224*ft)*ft,kD=(5+72*ft)*ft,AD=(71+1408*ft)*ft*ft,ED=D(4),CD=D(4),ND=D(4),zD=D(4),RD=D(4),PD=D(4),ID=D(4),DD=D(4),qD=D(4),FD=D(4),$D=D(24),OD=D(24),LD=D(24),BD=D(24),YD=D(24),UD=D(24),VD=D(24),HD=D(24),WD=D(24),XD=D(24),jD=D(1152),GD=D(1152),QD=D(1152),ZD=D(1152),KD=D(1152),JD=D(2304),tq=D(2304),eq=D(3456),nq=D(5760),rq=D(8),iq=D(8),oq=D(8),aq=D(16),sq=D(24),fq=D(48),uq=D(48),cq=D(96),lq=D(192),hq=D(384),pq=D(384),dq=D(384),mq=D(768);var gq=D(96),xq=D(96),yq=D(96),bq=D(1152);var Zg=Math.pow(2,-52),$f=new Uint32Array(512),Ra=class t{static from(e,n=j5,r=G5){let i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){let s=e[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new t(o)}constructor(e){let n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1,s=1/0,f=1/0,u=-1/0,c=-1/0;for(let N=0;N<a;N++){let k=e[2*N],S=e[2*N+1];k<s&&(s=k),S<f&&(f=S),k>u&&(u=k),S>c&&(c=S),this._ids[N]=N}let h=(s+u)/2,l=(f+c)/2,p,m,g;for(let N=0,k=1/0;N<a;N++){let S=Eh(h,l,e[2*N],e[2*N+1]);S<k&&(p=N,k=S)}let d=e[2*p],x=e[2*p+1];for(let N=0,k=1/0;N<a;N++){if(N===p)continue;let S=Eh(d,x,e[2*N],e[2*N+1]);S<k&&S>0&&(m=N,k=S)}let v=e[2*m],b=e[2*m+1],y=1/0;for(let N=0;N<a;N++){if(N===p||N===m)continue;let k=W5(d,x,v,b,e[2*N],e[2*N+1]);k<y&&(g=N,y=k)}let _=e[2*g],w=e[2*g+1];if(y===1/0){for(let S=0;S<a;S++)this._dists[S]=e[2*S]-e[0]||e[2*S+1]-e[1];fo(this._ids,this._dists,0,a-1);let N=new Uint32Array(a),k=0;for(let S=0,P=-1/0;S<a;S++){let z=this._ids[S],M=this._dists[z];M>P&&(N[k++]=z,P=M)}this.hull=N.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(so(d,x,v,b,_,w)<0){let N=m,k=v,S=b;m=g,v=_,b=w,g=N,_=k,w=S}let E=X5(d,x,v,b,_,w);this._cx=E.x,this._cy=E.y;for(let N=0;N<a;N++)this._dists[N]=Eh(e[2*N],e[2*N+1],E.x,E.y);fo(this._ids,this._dists,0,a-1),this._hullStart=p;let C=3;r[p]=n[g]=m,r[m]=n[p]=g,r[g]=n[m]=p,i[p]=0,i[m]=1,i[g]=2,o.fill(-1),o[this._hashKey(d,x)]=p,o[this._hashKey(v,b)]=m,o[this._hashKey(_,w)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let N=0,k,S;N<this._ids.length;N++){let P=this._ids[N],z=e[2*P],M=e[2*P+1];if(N>0&&Math.abs(z-k)<=Zg&&Math.abs(M-S)<=Zg||(k=z,S=M,P===p||P===m||P===g))continue;let T=0;for(let Y=0,$=this._hashKey(z,M);Y<this._hashSize&&(T=o[($+Y)%this._hashSize],!(T!==-1&&T!==r[T]));Y++);T=n[T];let A=T,R;for(;R=r[A],so(z,M,e[2*A],e[2*A+1],e[2*R],e[2*R+1])>=0;)if(A=R,A===T){A=-1;break}if(A===-1)continue;let q=this._addTriangle(A,P,r[A],-1,-1,i[A]);i[P]=this._legalize(q+2),i[A]=q,C++;let I=r[A];for(;R=r[I],so(z,M,e[2*I],e[2*I+1],e[2*R],e[2*R+1])<0;)q=this._addTriangle(I,P,R,i[P],-1,i[I]),i[P]=this._legalize(q+2),r[I]=I,C--,I=R;if(A===T)for(;R=n[A],so(z,M,e[2*R],e[2*R+1],e[2*A],e[2*A+1])<0;)q=this._addTriangle(R,P,A,-1,i[A],i[R]),this._legalize(q+2),i[R]=q,r[A]=A,C--,A=R;this._hullStart=n[P]=A,r[A]=n[I]=P,r[P]=I,o[this._hashKey(z,M)]=P,o[this._hashKey(e[2*A],e[2*A+1])]=A}this.hull=new Uint32Array(C);for(let N=0,k=this._hullStart;N<C;N++)this.hull[N]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(V5(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:n,_halfedges:r,coords:i}=this,o=0,a=0;for(;;){let s=r[e],f=e-e%3;if(a=f+(e+2)%3,s===-1){if(o===0)break;e=$f[--o];continue}let u=s-s%3,c=f+(e+1)%3,h=u+(s+2)%3,l=n[a],p=n[e],m=n[c],g=n[h];if(H5(i[2*l],i[2*l+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){n[e]=g,n[s]=l;let x=r[h];if(x===-1){let b=this._hullStart;do{if(this._hullTri[b]===h){this._hullTri[b]=e;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(e,x),this._link(s,r[a]),this._link(a,h);let v=u+(s+1)%3;o<$f.length&&($f[o++]=v)}else{if(o===0)break;e=$f[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){let s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}};function V5(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Eh(t,e,n,r){let i=t-n,o=e-r;return i*i+o*o}function H5(t,e,n,r,i,o,a,s){let f=t-a,u=e-s,c=n-a,h=r-s,l=i-a,p=o-s,m=f*f+u*u,g=c*c+h*h,d=l*l+p*p;return f*(h*d-g*p)-u*(c*d-g*l)+m*(c*p-h*l)<0}function W5(t,e,n,r,i,o){let a=n-t,s=r-e,f=i-t,u=o-e,c=a*a+s*s,h=f*f+u*u,l=.5/(a*u-s*f),p=(u*c-s*h)*l,m=(a*h-f*c)*l;return p*p+m*m}function X5(t,e,n,r,i,o){let a=n-t,s=r-e,f=i-t,u=o-e,c=a*a+s*s,h=f*f+u*u,l=.5/(a*u-s*f),p=t+(u*c-s*h)*l,m=e+(a*h-f*c)*l;return{x:p,y:m}}function fo(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let o=t[i],a=e[o],s=i-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{let i=n+r>>1,o=n+1,a=r;za(t,i,o),e[t[n]]>e[t[r]]&&za(t,n,r),e[t[o]]>e[t[r]]&&za(t,o,r),e[t[n]]>e[t[o]]&&za(t,n,o);let s=t[o],f=e[s];for(;;){do o++;while(e[t[o]]<f);do a--;while(e[t[a]]>f);if(a<o)break;za(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(fo(t,e,o,r),fo(t,e,n,a-1)):(fo(t,e,n,a-1),fo(t,e,o,r))}}function za(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function j5(t){return t[0]}function G5(t){return t[1]}var Be=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;let i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}};var ii=class{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}};var uo=class{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this,o,a,s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,d=0,x=r.length,v,b;g<x;g+=3,d+=2){let y=r[g]*2,_=r[g+1]*2,w=r[g+2]*2,E=e[y],C=e[y+1],N=e[_],k=e[_+1],S=e[w],P=e[w+1],z=N-E,M=k-C,T=S-E,A=P-C,R=(z*A-M*T)*2;if(Math.abs(R)<1e-9){if(o===void 0){o=a=0;for(let I of n)o+=e[I*2],a+=e[I*2+1];o/=n.length,a/=n.length}let q=1e9*Math.sign((o-E)*A-(a-C)*T);v=(E+S)/2-q*A,b=(C+P)/2+q*T}else{let q=1/R,I=z*z+M*M,Y=T*T+A*A;v=E+(A*I-M*Y)*q,b=C+(z*Y-T*I)*q}s[d]=v,s[d+1]=b}let f=n[n.length-1],u,c=f*4,h,l=e[2*f],p,m=e[2*f+1];i.fill(0);for(let g=0;g<n.length;++g)f=n[g],u=c,h=l,p=m,c=f*4,l=e[2*f],m=e[2*f+1],i[u+2]=i[c]=p-m,i[u+3]=i[c+1]=l-h}render(e){let n=e==null?e=new Be:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let c=0,h=r.length;c<h;++c){let l=r[c];if(l<c)continue;let p=Math.floor(c/3)*2,m=Math.floor(l/3)*2,g=a[p],d=a[p+1],x=a[m],v=a[m+1];this._renderSegment(g,d,x,v,e)}let f,u=o[o.length-1];for(let c=0;c<o.length;++c){f=u,u=o[c];let h=Math.floor(i[u]/3)*2,l=a[h],p=a[h+1],m=f*4,g=this._project(l,p,s[m+2],s[m+3]);g&&this._renderSegment(l,p,g[0],g[1],e)}return n&&n.value()}renderBounds(e){let n=e==null?e=new Be:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){let r=n==null?n=new Be:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){let i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){let n=new ii;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a,s=this._regioncode(e,n),f=this._regioncode(r,i);s===0&&f===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,f))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){let n=this._clip(e);if(n)for(let r of this.delaunay.neighbors(e)){let i=this._clip(r);if(i){t:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,f=i.length;s<f;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+f-2)%f]&&n[(o+3)%a]===i[(s+f-1)%f]){yield r;break t}}}}_cell(e){let{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;let s=[],f=a;do{let u=Math.floor(f/3);if(s.push(n[u*2],n[u*2+1]),f=f%3===2?f-2:f+1,o[f]!==e)break;f=i[f]}while(f!==a&&f!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(e);if(n===null)return null;let{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){let r=n.length,i=null,o,a,s=n[r-2],f=n[r-1],u,c=this._regioncode(s,f),h,l=0;for(let p=0;p<r;p+=2)if(o=s,a=f,s=n[p],f=n[p+1],u=c,c=this._regioncode(s,f),u===0&&c===0)h=l,l=0,i?i.push(s,f):i=[s,f];else{let m,g,d,x,v;if(u===0){if((m=this._clipSegment(o,a,s,f,u,c))===null)continue;[g,d,x,v]=m}else{if((m=this._clipSegment(s,f,o,a,c,u))===null)continue;[x,v,g,d]=m,h=l,l=this._edgecode(g,d),h&&l&&this._edge(e,h,l,i,i.length),i?i.push(g,d):i=[g,d]}h=l,l=this._edgecode(x,v),h&&l&&this._edge(e,h,l,i,i.length),i?i.push(x,v):i=[x,v]}if(i)h=l,l=this._edgecode(i[0],i[1]),h&&l&&this._edge(e,h,l,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){let s=o<a;for(s&&([e,n,r,i,o,a]=[r,i,e,n,a,o]);;){if(o===0&&a===0)return s?[r,i,e,n]:[e,n,r,i];if(o&a)return null;let f,u,c=o||a;c&8?(f=e+(r-e)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(f=e+(r-e)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-e)/(r-e),f=this.xmax):(u=n+(i-n)*(this.xmin-e)/(r-e),f=this.xmin),o?(e=f,n=u,o=this._regioncode(e,n)):(r=f,i=u,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let s=Array.from(n),f;if((f=this._project(s[0],s[1],r,i))&&s.unshift(f[0],f[1]),(f=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(f[0],f[1]),s=this._clipFinite(e,s))for(let u=0,c=s.length,h,l=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)h=l,l=this._edgecode(s[u],s[u+1]),h&&l&&(u=this._edge(e,h,l,s,u),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,n,r,i){let o=1/0,a,s,f;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(f=this.ymin,s=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(f=this.ymax,s=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,f=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,f=n+(o=a)*i)}return[s,f]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){let r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}};var Q5=2*Math.PI,co=Math.pow;function Z5(t){return t[0]}function K5(t){return t[1]}function J5(t){let{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){let i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function t6(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var Of=class t{static from(e,n=Z5,r=K5,i){return new t("length"in e?e6(e,n,r,i):Float64Array.from(n6(e,n,r,i)))}constructor(e){this._delaunator=new Ra(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&J5(e)){this.collinear=Int32Array.from({length:n.length/2},(l,p)=>p).sort((l,p)=>n[2*l]-n[2*p]||n[2*l+1]-n[2*p+1]);let f=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*f],n[2*f+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let l=0,p=n.length/2;l<p;++l){let m=t6(n[2*l],n[2*l+1],h);n[2*l]=m[0],n[2*l+1]=m[1]}this._delaunator=new Ra(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let f=0,u=r.length;f<u;++f){let c=o[f%3===2?f-2:f+1];(r[f]===-1||a[c]===-1)&&(a[c]=f)}for(let f=0,u=i.length;f<u;++f)s[i[f]]=f;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new uo(this,e)}*neighbors(e){let{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){let h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}let f=n[e];if(f===-1)return;let u=f,c=-1;do{if(yield c=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=o[u],u===-1){let h=r[(i[e]+1)%r.length];h!==c&&(yield h);return}}while(u!==f)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;let i=r,o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){let{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:f,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,h=co(n-u[e*2],2)+co(r-u[e*2+1],2),l=i[e],p=l;do{let m=f[p],g=co(n-u[m*2],2)+co(r-u[m*2+1],2);if(g<h&&(h=g,c=m),p=p%3===2?p-2:p+1,f[p]!==e)break;if(p=s[p],p===-1){if(p=o[(a[e]+1)%o.length],p!==m&&co(n-u[p*2],2)+co(r-u[p*2+1],2)<h)return p;break}}while(p!==l);return c}render(e){let n=e==null?e=new Be:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){let f=i[a];if(f<a)continue;let u=o[a]*2,c=o[f]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;let r=e==null?e=new Be:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){let s=i[o],f=i[o+1];e.moveTo(s+n,f),e.arc(s,f,n,0,Q5)}return r&&r.value()}renderHull(e){let n=e==null?e=new Be:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){let f=2*r[s];e.lineTo(i[f],i[f+1])}return e.closePath(),n&&n.value()}hullPolygon(){let e=new ii;return this.renderHull(e),e.value()}renderTriangle(e,n){let r=n==null?n=new Be:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,f=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[f],i[f+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){let n=new ii;return this.renderTriangle(e,n),n.value()}};function e6(t,e,n,r){let i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){let s=t[a];o[a*2]=e.call(r,s,a,t),o[a*2+1]=n.call(r,s,a,t)}return o}function*n6(t,e,n,r){let i=0;for(let o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}var Kg={},Ch={},Nh=34,Pa=10,zh=13;function tx(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function r6(t,e){var n=tx(t);return function(r,i){return e(n(r),i,t)}}function Jg(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function de(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function i6(t){return t<0?"-"+de(-t,6):t>9999?"+"+de(t,6):de(t,4)}function o6(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":i6(t.getUTCFullYear(),4)+"-"+de(t.getUTCMonth()+1,2)+"-"+de(t.getUTCDate(),2)+(i?"T"+de(e,2)+":"+de(n,2)+":"+de(r,2)+"."+de(i,3)+"Z":r?"T"+de(e,2)+":"+de(n,2)+":"+de(r,2)+"Z":n||e?"T"+de(e,2)+":"+de(n,2)+"Z":"")}function gr(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,l){var p,m,g=i(h,function(d,x){if(p)return p(d,x-1);m=d,p=l?r6(d,l):tx(d)});return g.columns=m||[],g}function i(h,l){var p=[],m=h.length,g=0,d=0,x,v=m<=0,b=!1;h.charCodeAt(m-1)===Pa&&--m,h.charCodeAt(m-1)===zh&&--m;function y(){if(v)return Ch;if(b)return b=!1,Kg;var w,E=g,C;if(h.charCodeAt(E)===Nh){for(;g++<m&&h.charCodeAt(g)!==Nh||h.charCodeAt(++g)===Nh;);return(w=g)>=m?v=!0:(C=h.charCodeAt(g++))===Pa?b=!0:C===zh&&(b=!0,h.charCodeAt(g)===Pa&&++g),h.slice(E+1,w-1).replace(/""/g,'"')}for(;g<m;){if((C=h.charCodeAt(w=g++))===Pa)b=!0;else if(C===zh)b=!0,h.charCodeAt(g)===Pa&&++g;else if(C!==n)continue;return h.slice(E,w)}return v=!0,h.slice(E,m)}for(;(x=y())!==Ch;){for(var _=[];x!==Kg&&x!==Ch;)_.push(x),x=y();l&&(_=l(_,d++))==null||p.push(_)}return p}function o(h,l){return h.map(function(p){return l.map(function(m){return c(p[m])}).join(t)})}function a(h,l){return l==null&&(l=Jg(h)),[l.map(c).join(t)].concat(o(h,l)).join(`
`)}function s(h,l){return l==null&&(l=Jg(h)),o(h,l).join(`
`)}function f(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?o6(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:f,formatRow:u,formatValue:c}}var oi=gr(","),Lf=oi.parse,ex=oi.parseRows,nx=oi.format,rx=oi.formatBody,ix=oi.formatRows,ox=oi.formatRow,ax=oi.formatValue;var ai=gr("	"),Bf=ai.parse,sx=ai.parseRows,fx=ai.format,ux=ai.formatBody,cx=ai.formatRows,lx=ai.formatRow,hx=ai.formatValue;function Rh(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))a6&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var a6=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function s6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function px(t,e){return fetch(t,e).then(s6)}function f6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function dx(t,e){return fetch(t,e).then(f6)}function u6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function si(t,e){return fetch(t,e).then(u6)}function mx(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),si(e,n).then(function(i){return t(i,r)})}}function Ph(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=gr(t);return si(e,n).then(function(o){return i.parse(o,r)})}var gx=mx(Lf),xx=mx(Bf);function yx(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function c6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function bx(t,e){return fetch(t,e).then(c6)}function Ih(t){return(e,n)=>si(e,n).then(r=>new DOMParser().parseFromString(r,t))}var vx=Ih("application/xml"),_x=Ih("text/html"),wx=Ih("image/svg+xml");function Mx(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,s,f=0,u=0;for(o=0;o<a;++o)s=n[o],f+=s.x,u+=s.y;for(f=(f/a-t)*r,u=(u/a-e)*r,o=0;o<a;++o)s=n[o],s.x-=f,s.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Sx(t){let e=+this._x.call(null,t),n=+this._y.call(null,t);return Tx(this.cover(e,n),e,n,t)}function Tx(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},s=t._x0,f=t._y0,u=t._x1,c=t._y1,h,l,p,m,g,d,x,v;if(!o)return t._root=a,t;for(;o.length;)if((g=e>=(h=(s+u)/2))?s=h:u=h,(d=n>=(l=(f+c)/2))?f=l:c=l,i=o,!(o=o[x=d<<1|g]))return i[x]=a,t;if(p=+t._x.call(null,o.data),m=+t._y.call(null,o.data),e===p&&n===m)return a.next=o,i?i[x]=a:t._root=a,t;do i=i?i[x]=new Array(4):t._root=new Array(4),(g=e>=(h=(s+u)/2))?s=h:u=h,(d=n>=(l=(f+c)/2))?f=l:c=l;while((x=d<<1|g)===(v=(m>=l)<<1|p>=h));return i[v]=o,i[x]=a,t}function kx(t){var e,n,r=t.length,i,o,a=new Array(r),s=new Array(r),f=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<f&&(f=i),i>c&&(c=i),o<u&&(u=o),o>h&&(h=o));if(f>c||u>h)return this;for(this.cover(f,u).cover(c,h),n=0;n<r;++n)Tx(this,a[n],s[n],t[n]);return this}function Ax(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,s=this._root,f,u;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,f=new Array(4),f[u]=s,s=f,a*=2,u){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Ex(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Cx(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Lt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Nx(t,e,n){var r,i=this._x0,o=this._y0,a,s,f,u,c=this._x1,h=this._y1,l=[],p=this._root,m,g;for(p&&l.push(new Lt(p,i,o,c,h)),n==null?n=1/0:(i=t-n,o=e-n,c=t+n,h=e+n,n*=n);m=l.pop();)if(!(!(p=m.node)||(a=m.x0)>c||(s=m.y0)>h||(f=m.x1)<i||(u=m.y1)<o))if(p.length){var d=(a+f)/2,x=(s+u)/2;l.push(new Lt(p[3],d,x,f,u),new Lt(p[2],a,x,d,u),new Lt(p[1],d,s,f,x),new Lt(p[0],a,s,d,x)),(g=(e>=x)<<1|t>=d)&&(m=l[l.length-1],l[l.length-1]=l[l.length-1-g],l[l.length-1-g]=m)}else{var v=t-+this._x.call(null,p.data),b=e-+this._y.call(null,p.data),y=v*v+b*b;if(y<n){var _=Math.sqrt(n=y);i=t-_,o=e-_,c=t+_,h=e+_,r=p.data}}return r}function zx(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,f=this._x1,u=this._y1,c,h,l,p,m,g,d,x;if(!n)return this;if(n.length)for(;;){if((m=c>=(l=(a+f)/2))?a=l:f=l,(g=h>=(p=(s+u)/2))?s=p:u=p,e=n,!(n=n[d=g<<1|m]))return this;if(!n.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(r=e,x=d)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[d]=o:delete e[d],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=o,this)}function Rx(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Px(){return this._root}function Ix(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Dx(t){var e=[],n,r=this._root,i,o,a,s,f;for(r&&e.push(new Lt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.x1,f=n.y1)&&r.length){var u=(o+s)/2,c=(a+f)/2;(i=r[3])&&e.push(new Lt(i,u,c,s,f)),(i=r[2])&&e.push(new Lt(i,o,c,u,f)),(i=r[1])&&e.push(new Lt(i,u,a,s,c)),(i=r[0])&&e.push(new Lt(i,o,a,u,c))}return this}function qx(t){var e=[],n=[],r;for(this._root&&e.push(new Lt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,f=r.x1,u=r.y1,c=(a+f)/2,h=(s+u)/2;(o=i[0])&&e.push(new Lt(o,a,s,c,h)),(o=i[1])&&e.push(new Lt(o,c,s,f,h)),(o=i[2])&&e.push(new Lt(o,a,h,c,u)),(o=i[3])&&e.push(new Lt(o,c,h,f,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Fx(t){return t[0]}function $x(t){return arguments.length?(this._x=t,this):this._x}function Ox(t){return t[1]}function Lx(t){return arguments.length?(this._y=t,this):this._y}function xr(t,e,n){var r=new Dh(e??Fx,n??Ox,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Dh(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Bx(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var oe=xr.prototype=Dh.prototype;oe.copy=function(){var t=new Dh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Bx(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Bx(r));return t};oe.add=Sx;oe.addAll=kx;oe.cover=Ax;oe.data=Ex;oe.extent=Cx;oe.find=Nx;oe.remove=zx;oe.removeAll=Rx;oe.root=Px;oe.size=Ix;oe.visit=Dx;oe.visitAfter=qx;oe.x=$x;oe.y=Lx;function wt(t){return function(){return t}}function Ye(t){return(t()-.5)*1e-6}function l6(t){return t.x+t.vx}function h6(t){return t.y+t.vy}function Yx(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=wt(t==null?1:+t));function a(){for(var u,c=e.length,h,l,p,m,g,d,x=0;x<o;++x)for(h=xr(e,l6,h6).visitAfter(s),u=0;u<c;++u)l=e[u],g=n[l.index],d=g*g,p=l.x+l.vx,m=l.y+l.vy,h.visit(v);function v(b,y,_,w,E){var C=b.data,N=b.r,k=g+N;if(C){if(C.index>l.index){var S=p-C.x-C.vx,P=m-C.y-C.vy,z=S*S+P*P;z<k*k&&(S===0&&(S=Ye(r),z+=S*S),P===0&&(P=Ye(r),z+=P*P),z=(k-(z=Math.sqrt(z)))/z*i,l.vx+=(S*=z)*(k=(N*=N)/(d+N)),l.vy+=(P*=z)*k,C.vx-=S*(k=1-k),C.vy-=P*k)}return}return y>p+k||w<p-k||_>m+k||E<m-k}}function s(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function f(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return a.initialize=function(u,c){e=u,r=c,f()},a.iterations=function(u){return arguments.length?(o=+u,a):o},a.strength=function(u){return arguments.length?(i=+u,a):i},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),f(),a):t},a}function p6(t){return t.index}function Ux(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Vx(t){var e=p6,n=h,r,i=wt(30),o,a,s,f,u,c=1;t==null&&(t=[]);function h(d){return 1/Math.min(s[d.source.index],s[d.target.index])}function l(d){for(var x=0,v=t.length;x<c;++x)for(var b=0,y,_,w,E,C,N,k;b<v;++b)y=t[b],_=y.source,w=y.target,E=w.x+w.vx-_.x-_.vx||Ye(u),C=w.y+w.vy-_.y-_.vy||Ye(u),N=Math.sqrt(E*E+C*C),N=(N-o[b])/N*d*r[b],E*=N,C*=N,w.vx-=E*(k=f[b]),w.vy-=C*k,_.vx+=E*(k=1-k),_.vy+=C*k}function p(){if(a){var d,x=a.length,v=t.length,b=new Map(a.map((_,w)=>[e(_,w,a),_])),y;for(d=0,s=new Array(x);d<v;++d)y=t[d],y.index=d,typeof y.source!="object"&&(y.source=Ux(b,y.source)),typeof y.target!="object"&&(y.target=Ux(b,y.target)),s[y.source.index]=(s[y.source.index]||0)+1,s[y.target.index]=(s[y.target.index]||0)+1;for(d=0,f=new Array(v);d<v;++d)y=t[d],f[d]=s[y.source.index]/(s[y.source.index]+s[y.target.index]);r=new Array(v),m(),o=new Array(v),g()}}function m(){if(a)for(var d=0,x=t.length;d<x;++d)r[d]=+n(t[d],d,t)}function g(){if(a)for(var d=0,x=t.length;d<x;++d)o[d]=+i(t[d],d,t)}return l.initialize=function(d,x){a=d,u=x,p()},l.links=function(d){return arguments.length?(t=d,p(),l):t},l.id=function(d){return arguments.length?(e=d,l):e},l.iterations=function(d){return arguments.length?(c=+d,l):c},l.strength=function(d){return arguments.length?(n=typeof d=="function"?d:wt(+d),m(),l):n},l.distance=function(d){return arguments.length?(i=typeof d=="function"?d:wt(+d),g(),l):i},l}function Hx(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function Wx(t){return t.x}function Xx(t){return t.y}var d6=10,m6=Math.PI*(3-Math.sqrt(5));function jx(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,f=Kr(h),u=Me("tick","end"),c=Hx();t==null&&(t=[]);function h(){l(),u.call("tick",e),n<r&&(f.stop(),u.call("end",e))}function l(g){var d,x=t.length,v;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(o-n)*i,s.forEach(function(y){y(n)}),d=0;d<x;++d)v=t[d],v.fx==null?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return e}function p(){for(var g=0,d=t.length,x;g<d;++g){if(x=t[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var v=d6*Math.sqrt(.5+g),b=g*m6;x.x=v*Math.cos(b),x.y=v*Math.sin(b)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function m(g){return g.initialize&&g.initialize(t,c),g}return p(),e={tick:l,restart:function(){return f.restart(h),e},stop:function(){return f.stop(),e},nodes:function(g){return arguments.length?(t=g,p(),s.forEach(m),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(i=+g,e):+i},alphaTarget:function(g){return arguments.length?(o=+g,e):o},velocityDecay:function(g){return arguments.length?(a=1-g,e):1-a},randomSource:function(g){return arguments.length?(c=g,s.forEach(m),e):c},force:function(g,d){return arguments.length>1?(d==null?s.delete(g):s.set(g,m(d)),e):s.get(g)},find:function(g,d,x){var v=0,b=t.length,y,_,w,E,C;for(x==null?x=1/0:x*=x,v=0;v<b;++v)E=t[v],y=g-E.x,_=d-E.y,w=y*y+_*_,w<x&&(C=E,x=w);return C},on:function(g,d){return arguments.length>1?(u.on(g,d),e):u.on(g)}}}function Gx(){var t,e,n,r,i=wt(-30),o,a=1,s=1/0,f=.81;function u(p){var m,g=t.length,d=xr(t,Wx,Xx).visitAfter(h);for(r=p,m=0;m<g;++m)e=t[m],d.visit(l)}function c(){if(t){var p,m=t.length,g;for(o=new Array(m),p=0;p<m;++p)g=t[p],o[g.index]=+i(g,p,t)}}function h(p){var m=0,g,d,x=0,v,b,y;if(p.length){for(v=b=y=0;y<4;++y)(g=p[y])&&(d=Math.abs(g.value))&&(m+=g.value,x+=d,v+=d*g.x,b+=d*g.y);p.x=v/x,p.y=b/x}else{g=p,g.x=g.data.x,g.y=g.data.y;do m+=o[g.data.index];while(g=g.next)}p.value=m}function l(p,m,g,d){if(!p.value)return!0;var x=p.x-e.x,v=p.y-e.y,b=d-m,y=x*x+v*v;if(b*b/f<y)return y<s&&(x===0&&(x=Ye(n),y+=x*x),v===0&&(v=Ye(n),y+=v*v),y<a&&(y=Math.sqrt(a*y)),e.vx+=x*p.value*r/y,e.vy+=v*p.value*r/y),!0;if(p.length||y>=s)return;(p.data!==e||p.next)&&(x===0&&(x=Ye(n),y+=x*x),v===0&&(v=Ye(n),y+=v*v),y<a&&(y=Math.sqrt(a*y)));do p.data!==e&&(b=o[p.data.index]*r/y,e.vx+=x*b,e.vy+=v*b);while(p=p.next)}return u.initialize=function(p,m){t=p,n=m,c()},u.strength=function(p){return arguments.length?(i=typeof p=="function"?p:wt(+p),c(),u):i},u.distanceMin=function(p){return arguments.length?(a=p*p,u):Math.sqrt(a)},u.distanceMax=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u.theta=function(p){return arguments.length?(f=p*p,u):Math.sqrt(f)},u}function Qx(t,e,n){var r,i=wt(.1),o,a;typeof t!="function"&&(t=wt(+t)),e==null&&(e=0),n==null&&(n=0);function s(u){for(var c=0,h=r.length;c<h;++c){var l=r[c],p=l.x-e||1e-6,m=l.y-n||1e-6,g=Math.sqrt(p*p+m*m),d=(a[c]-g)*o[c]*u/g;l.vx+=p*d,l.vy+=m*d}}function f(){if(r){var u,c=r.length;for(o=new Array(c),a=new Array(c),u=0;u<c;++u)a[u]=+t(r[u],u,r),o[u]=isNaN(a[u])?0:+i(r[u],u,r)}}return s.initialize=function(u){r=u,f()},s.strength=function(u){return arguments.length?(i=typeof u=="function"?u:wt(+u),f(),s):i},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),f(),s):t},s.x=function(u){return arguments.length?(e=+u,s):e},s.y=function(u){return arguments.length?(n=+u,s):n},s}function Zx(t){var e=wt(.1),n,r,i;typeof t!="function"&&(t=wt(t==null?0:+t));function o(s){for(var f=0,u=n.length,c;f<u;++f)c=n[f],c.vx+=(i[f]-c.x)*r[f]*s}function a(){if(n){var s,f=n.length;for(r=new Array(f),i=new Array(f),s=0;s<f;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:wt(+s),a(),o):e},o.x=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),a(),o):t},o}function Kx(t){var e=wt(.1),n,r,i;typeof t!="function"&&(t=wt(t==null?0:+t));function o(s){for(var f=0,u=n.length,c;f<u;++f)c=n[f],c.vy+=(i[f]-c.y)*r[f]*s}function a(){if(n){var s,f=n.length;for(r=new Array(f),i=new Array(f),s=0;s<f;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:wt(+s),a(),o):e},o.y=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),a(),o):t},o}function Jx(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ln(t){return t=fi(Math.abs(t)),t?t[1]:NaN}function t2(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],f=0;i>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),o.push(n.substring(i-=s,i+s)),!((f+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function e2(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var g6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ue(t){if(!(e=g6.exec(t)))throw new Error("invalid format: "+t);var e;return new Ia({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ue.prototype=Ia.prototype;function Ia(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ia.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function n2(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qh;function r2(t,e){var n=fi(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(qh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fi(t,Math.max(0,e+o-1))[0]}function Fh(t,e){var n=fi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var $h={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jx,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Fh(t*100,e),r:Fh,s:r2,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Oh(t){return t}var i2=Array.prototype.map,o2=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Yf(t){var e=t.grouping===void 0||t.thousands===void 0?Oh:t2(i2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Oh:e2(i2.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Ue(h);var l=h.fill,p=h.align,m=h.sign,g=h.symbol,d=h.zero,x=h.width,v=h.comma,b=h.precision,y=h.trim,_=h.type;_==="n"?(v=!0,_="g"):$h[_]||(b===void 0&&(b=12),y=!0,_="g"),(d||l==="0"&&p==="=")&&(d=!0,l="0",p="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=g==="$"?r:/[%p]/.test(_)?a:"",C=$h[_],N=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(S){var P=w,z=E,M,T,A;if(_==="c")z=C(S)+z,S="";else{S=+S;var R=S<0||1/S<0;if(S=isNaN(S)?f:C(Math.abs(S),b),y&&(S=n2(S)),R&&+S==0&&m!=="+"&&(R=!1),P=(R?m==="("?m:s:m==="-"||m==="("?"":m)+P,z=(_==="s"?o2[8+qh/3]:"")+z+(R&&m==="("?")":""),N){for(M=-1,T=S.length;++M<T;)if(A=S.charCodeAt(M),48>A||A>57){z=(A===46?i+S.slice(M+1):S.slice(M))+z,S=S.slice(0,M);break}}}v&&!d&&(S=e(S,1/0));var q=P.length+S.length+z.length,I=q<x?new Array(x-q+1).join(l):"";switch(v&&d&&(S=e(I+S,I.length?x-z.length:1/0),I=""),p){case"<":S=P+S+z+I;break;case"=":S=P+I+S+z;break;case"^":S=I.slice(0,q=I.length>>1)+P+S+z+I.slice(q);break;default:S=I+P+S+z;break}return o(S)}return k.toString=function(){return h+""},k}function c(h,l){var p=u((h=Ue(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(ln(l)/3)))*3,g=Math.pow(10,-m),d=o2[8+m/3];return function(x){return p(g*x)+d}}return{format:u,formatPrefix:c}}var Uf,$n,Da;Vf({thousands:",",grouping:[3],currency:["$",""]});function Vf(t){return Uf=Yf(t),$n=Uf.format,Da=Uf.formatPrefix,Uf}function Hf(t){return Math.max(0,-ln(Math.abs(t)))}function Wf(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ln(e)/3)))*3-ln(Math.abs(t)))}function Xf(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ln(e)-ln(t))+1}var V=1e-6,On=1e-12,J=Math.PI,xt=J/2,lo=J/4,zt=J*2,st=180/J,W=J/180,G=Math.abs,Se=Math.atan,yt=Math.atan2,L=Math.cos,qa=Math.ceil,jf=Math.exp;var Gf=Math.hypot,ui=Math.log,Qf=Math.pow,O=Math.sin,te=Math.sign||function(t){return t>0?1:t<0?-1:0},lt=Math.sqrt,ho=Math.tan;function Zf(t){return t>1?0:t<-1?J:Math.acos(t)}function bt(t){return t>1?xt:t<-1?-xt:Math.asin(t)}function Lh(t){return(t=O(t/2))*t}function ht(){}function Kf(t,e){t&&s2.hasOwnProperty(t.type)&&s2[t.type](t,e)}var a2={Feature:function(t,e){Kf(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Kf(n[r].geometry,e)}},s2={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Bh(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Bh(n[r],e,0)},Polygon:function(t,e){f2(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)f2(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Kf(n[r],e)}};function Bh(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function f2(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Bh(t[n],e,1);e.polygonEnd()}function Bt(t,e){t&&a2.hasOwnProperty(t.type)?a2[t.type](t,e):Kf(t,e)}var Fa=new mt,Jf=new mt,u2,c2,Yh,Uh,Vh,Ve={point:ht,lineStart:ht,lineEnd:ht,polygonStart:function(){Fa=new mt,Ve.lineStart=x6,Ve.lineEnd=y6},polygonEnd:function(){var t=+Fa;Jf.add(t<0?zt+t:t),this.lineStart=this.lineEnd=this.point=ht},sphere:function(){Jf.add(zt)}};function x6(){Ve.point=b6}function y6(){l2(u2,c2)}function b6(t,e){Ve.point=l2,u2=t,c2=e,t*=W,e*=W,Yh=t,Uh=L(e=e/2+lo),Vh=O(e)}function l2(t,e){t*=W,e*=W,e=e/2+lo;var n=t-Yh,r=n>=0?1:-1,i=r*n,o=L(e),a=O(e),s=Vh*a,f=Uh*o+s*L(i),u=s*r*O(i);Fa.add(yt(u,f)),Yh=t,Uh=o,Vh=a}function h2(t){return Jf=new mt,Bt(t,Ve),Jf*2}function ci(t){return[yt(t[1],t[0]),bt(t[2])]}function Te(t){var e=t[0],n=t[1],r=L(n);return[r*L(e),r*O(e),O(n)]}function $a(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ln(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Oa(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function li(t){var e=lt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var kt,me,Ct,be,hi,g2,x2,po,La,yr,Yn,Bn={point:Hh,lineStart:p2,lineEnd:d2,polygonStart:function(){Bn.point=b2,Bn.lineStart=v6,Bn.lineEnd=_6,La=new mt,Ve.polygonStart()},polygonEnd:function(){Ve.polygonEnd(),Bn.point=Hh,Bn.lineStart=p2,Bn.lineEnd=d2,Fa<0?(kt=-(Ct=180),me=-(be=90)):La>V?be=90:La<-V&&(me=-90),Yn[0]=kt,Yn[1]=Ct},sphere:function(){kt=-(Ct=180),me=-(be=90)}};function Hh(t,e){yr.push(Yn=[kt=t,Ct=t]),e<me&&(me=e),e>be&&(be=e)}function y2(t,e){var n=Te([t*W,e*W]);if(po){var r=Ln(po,n),i=[r[1],-r[0],0],o=Ln(i,r);li(o),o=ci(o);var a=t-hi,s=a>0?1:-1,f=o[0]*st*s,u,c=G(a)>180;c^(s*hi<f&&f<s*t)?(u=o[1]*st,u>be&&(be=u)):(f=(f+360)%360-180,c^(s*hi<f&&f<s*t)?(u=-o[1]*st,u<me&&(me=u)):(e<me&&(me=e),e>be&&(be=e))),c?t<hi?ye(kt,t)>ye(kt,Ct)&&(Ct=t):ye(t,Ct)>ye(kt,Ct)&&(kt=t):Ct>=kt?(t<kt&&(kt=t),t>Ct&&(Ct=t)):t>hi?ye(kt,t)>ye(kt,Ct)&&(Ct=t):ye(t,Ct)>ye(kt,Ct)&&(kt=t)}else yr.push(Yn=[kt=t,Ct=t]);e<me&&(me=e),e>be&&(be=e),po=n,hi=t}function p2(){Bn.point=y2}function d2(){Yn[0]=kt,Yn[1]=Ct,Bn.point=Hh,po=null}function b2(t,e){if(po){var n=t-hi;La.add(G(n)>180?n+(n>0?360:-360):n)}else g2=t,x2=e;Ve.point(t,e),y2(t,e)}function v6(){Ve.lineStart()}function _6(){b2(g2,x2),Ve.lineEnd(),G(La)>V&&(kt=-(Ct=180)),Yn[0]=kt,Yn[1]=Ct,po=null}function ye(t,e){return(e-=t)<0?e+360:e}function w6(t,e){return t[0]-e[0]}function m2(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function v2(t){var e,n,r,i,o,a,s;if(be=Ct=-(kt=me=1/0),yr=[],Bt(t,Bn),n=yr.length){for(yr.sort(w6),e=1,r=yr[0],o=[r];e<n;++e)i=yr[e],m2(r,i[0])||m2(r,i[1])?(ye(r[0],i[1])>ye(r[0],r[1])&&(r[1]=i[1]),ye(i[0],r[1])>ye(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=ye(r[1],i[0]))>a&&(a=s,kt=i[0],Ct=r[1])}return yr=Yn=null,kt===1/0||me===1/0?[[NaN,NaN],[NaN,NaN]]:[[kt,me],[Ct,be]]}var Ba,eu,nu,ru,iu,ou,au,su,Wh,Xh,jh,M2,S2,ae,se,fe,He={sphere:ht,point:Gh,lineStart:_2,lineEnd:w2,polygonStart:function(){He.lineStart=T6,He.lineEnd=k6},polygonEnd:function(){He.lineStart=_2,He.lineEnd=w2}};function Gh(t,e){t*=W,e*=W;var n=L(e);Ya(n*L(t),n*O(t),O(e))}function Ya(t,e,n){++Ba,nu+=(t-nu)/Ba,ru+=(e-ru)/Ba,iu+=(n-iu)/Ba}function _2(){He.point=M6}function M6(t,e){t*=W,e*=W;var n=L(e);ae=n*L(t),se=n*O(t),fe=O(e),He.point=S6,Ya(ae,se,fe)}function S6(t,e){t*=W,e*=W;var n=L(e),r=n*L(t),i=n*O(t),o=O(e),a=yt(lt((a=se*o-fe*i)*a+(a=fe*r-ae*o)*a+(a=ae*i-se*r)*a),ae*r+se*i+fe*o);eu+=a,ou+=a*(ae+(ae=r)),au+=a*(se+(se=i)),su+=a*(fe+(fe=o)),Ya(ae,se,fe)}function w2(){He.point=Gh}function T6(){He.point=A6}function k6(){T2(M2,S2),He.point=Gh}function A6(t,e){M2=t,S2=e,t*=W,e*=W,He.point=T2;var n=L(e);ae=n*L(t),se=n*O(t),fe=O(e),Ya(ae,se,fe)}function T2(t,e){t*=W,e*=W;var n=L(e),r=n*L(t),i=n*O(t),o=O(e),a=se*o-fe*i,s=fe*r-ae*o,f=ae*i-se*r,u=Gf(a,s,f),c=bt(u),h=u&&-c/u;Wh.add(h*a),Xh.add(h*s),jh.add(h*f),eu+=c,ou+=c*(ae+(ae=r)),au+=c*(se+(se=i)),su+=c*(fe+(fe=o)),Ya(ae,se,fe)}function k2(t){Ba=eu=nu=ru=iu=ou=au=su=0,Wh=new mt,Xh=new mt,jh=new mt,Bt(t,He);var e=+Wh,n=+Xh,r=+jh,i=Gf(e,n,r);return i<On&&(e=ou,n=au,r=su,eu<V&&(e=nu,n=ru,r=iu),i=Gf(e,n,r),i<On)?[NaN,NaN]:[yt(n,e)*st,bt(r/i)*st]}function pi(t){return function(){return t}}function Ua(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Qh(t,e){return G(t)>J&&(t-=Math.round(t/zt)*zt),[t,e]}Qh.invert=Qh;function Va(t,e,n){return(t%=zt)?e||n?Ua(E2(t),C2(e,n)):E2(t):e||n?C2(e,n):Qh}function A2(t){return function(e,n){return e+=t,G(e)>J&&(e-=Math.round(e/zt)*zt),[e,n]}}function E2(t){var e=A2(t);return e.invert=A2(-t),e}function C2(t,e){var n=L(t),r=O(t),i=L(e),o=O(e);function a(s,f){var u=L(f),c=L(s)*u,h=O(s)*u,l=O(f),p=l*n+c*r;return[yt(h*i-p*o,c*n-l*r),bt(p*i+h*o)]}return a.invert=function(s,f){var u=L(f),c=L(s)*u,h=O(s)*u,l=O(f),p=l*i-h*o;return[yt(h*i+l*o,c*n+p*r),bt(p*n-c*r)]},a}function fu(t){t=Va(t[0]*W,t[1]*W,t.length>2?t[2]*W:0);function e(n){return n=t(n[0]*W,n[1]*W),n[0]*=st,n[1]*=st,n}return e.invert=function(n){return n=t.invert(n[0]*W,n[1]*W),n[0]*=st,n[1]*=st,n},e}function Zh(t,e,n,r,i,o){if(n){var a=L(e),s=O(e),f=r*n;i==null?(i=e+r*zt,o=e-f/2):(i=N2(a,i),o=N2(a,o),(r>0?i<o:i>o)&&(i+=r*zt));for(var u,c=i;r>0?c>o:c<o;c-=f)u=ci([a,-s*L(c),-s*O(c)]),t.point(u[0],u[1])}}function N2(t,e){e=Te(e),e[0]-=t,li(e);var n=Zf(-e[1]);return((-e[2]<0?-n:n)+zt-V)%zt}function z2(){var t=pi([0,0]),e=pi(90),n=pi(2),r,i,o={point:a};function a(f,u){r.push(f=i(f,u)),f[0]*=st,f[1]*=st}function s(){var f=t.apply(this,arguments),u=e.apply(this,arguments)*W,c=n.apply(this,arguments)*W;return r=[],i=Va(-f[0]*W,-f[1]*W,0).invert,Zh(o,u,c,1),f={type:"Polygon",coordinates:[r]},r=i=null,f}return s.center=function(f){return arguments.length?(t=typeof f=="function"?f:pi([+f[0],+f[1]]),s):t},s.radius=function(f){return arguments.length?(e=typeof f=="function"?f:pi(+f),s):e},s.precision=function(f){return arguments.length?(n=typeof f=="function"?f:pi(+f),s):n},s}function uu(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:ht,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function mo(t,e){return G(t[0]-e[0])<V&&G(t[1]-e[1])<V}function cu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function lu(t,e,n,r,i){var o=[],a=[],s,f;if(t.forEach(function(m){if(!((g=m.length-1)<=0)){var g,d=m[0],x=m[g],v;if(mo(d,x)){if(!d[2]&&!x[2]){for(i.lineStart(),s=0;s<g;++s)i.point((d=m[s])[0],d[1]);i.lineEnd();return}x[0]+=2*V}o.push(v=new cu(d,m,null,!0)),a.push(v.o=new cu(d,null,v,!1)),o.push(v=new cu(x,m,null,!1)),a.push(v.o=new cu(x,null,v,!0))}}),!!o.length){for(a.sort(e),R2(o),R2(a),s=0,f=a.length;s<f;++s)a[s].e=n=!n;for(var u=o[0],c,h;;){for(var l=u,p=!0;l.v;)if((l=l.n)===u)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(p)for(s=0,f=c.length;s<f;++s)i.point((h=c[s])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(p)for(c=l.p.z,s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,c=l.z,p=!p}while(!l.v);i.lineEnd()}}}function R2(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Kh(t){return G(t[0])<=J?t[0]:te(t[0])*((G(t[0])+J)%zt-J)}function hu(t,e){var n=Kh(e),r=e[1],i=O(r),o=[O(n),-L(n),0],a=0,s=0,f=new mt;i===1?r=xt+V:i===-1&&(r=-xt-V);for(var u=0,c=t.length;u<c;++u)if(l=(h=t[u]).length)for(var h,l,p=h[l-1],m=Kh(p),g=p[1]/2+lo,d=O(g),x=L(g),v=0;v<l;++v,m=y,d=w,x=E,p=b){var b=h[v],y=Kh(b),_=b[1]/2+lo,w=O(_),E=L(_),C=y-m,N=C>=0?1:-1,k=N*C,S=k>J,P=d*w;if(f.add(yt(P*N*O(k),x*E+P*L(k))),a+=S?C+N*zt:C,S^m>=n^y>=n){var z=Ln(Te(p),Te(b));li(z);var M=Ln(o,z);li(M);var T=(S^C>=0?-1:1)*bt(M[2]);(r>T||r===T&&(z[0]||z[1]))&&(s+=S^C>=0?1:-1)}}return(a<-V||a<V&&f<-On)^s&1}function pu(t,e,n,r){return function(i){var o=e(i),a=uu(),s=e(a),f=!1,u,c,h,l={point:p,lineStart:g,lineEnd:d,polygonStart:function(){l.point=x,l.lineStart=v,l.lineEnd=b,c=[],u=[]},polygonEnd:function(){l.point=p,l.lineStart=g,l.lineEnd=d,c=Yr(c);var y=hu(u,r);c.length?(f||(i.polygonStart(),f=!0),lu(c,C6,y,n,i)):y&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(y,_){t(y,_)&&i.point(y,_)}function m(y,_){o.point(y,_)}function g(){l.point=m,o.lineStart()}function d(){l.point=p,o.lineEnd()}function x(y,_){h.push([y,_]),s.point(y,_)}function v(){s.lineStart(),h=[]}function b(){x(h[0][0],h[0][1]),s.lineEnd();var y=s.clean(),_=a.result(),w,E=_.length,C,N,k;if(h.pop(),u.push(h),h=null,!!E){if(y&1){if(N=_[0],(C=N.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),w=0;w<C;++w)i.point((k=N[w])[0],k[1]);i.lineEnd()}return}E>1&&y&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(E6))}}return l}}function E6(t){return t.length>1}function C6(t,e){return((t=t.x)[0]<0?t[1]-xt-V:xt-t[1])-((e=e.x)[0]<0?e[1]-xt-V:xt-e[1])}var Ha=pu(function(){return!0},N6,R6,[-J,-xt]);function N6(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?J:-J,f=G(o-e);G(f-J)<V?(t.point(e,n=(n+a)/2>0?xt:-xt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&f>=J&&(G(e-r)<V&&(e-=r*V),G(o-s)<V&&(o-=s*V),n=z6(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function z6(t,e,n,r){var i,o,a=O(t-n);return G(a)>V?Se((O(e)*(o=L(r))*O(n)-O(r)*(i=L(e))*O(t))/(i*o*a)):(e+r)/2}function R6(t,e,n,r){var i;if(t==null)i=n*xt,r.point(-J,i),r.point(0,i),r.point(J,i),r.point(J,0),r.point(J,-i),r.point(0,-i),r.point(-J,-i),r.point(-J,0),r.point(-J,i);else if(G(t[0]-e[0])>V){var o=t[0]<e[0]?J:-J;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function du(t){var e=L(t),n=2*W,r=e>0,i=G(e)>V;function o(c,h,l,p){Zh(p,t,n,l,c,h)}function a(c,h){return L(c)*L(h)>e}function s(c){var h,l,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(d,x){var v=[d,x],b,y=a(d,x),_=r?y?0:u(d,x):y?u(d+(d<0?J:-J),x):0;if(!h&&(m=p=y)&&c.lineStart(),y!==p&&(b=f(h,v),(!b||mo(h,b)||mo(v,b))&&(v[2]=1)),y!==p)g=0,y?(c.lineStart(),b=f(v,h),c.point(b[0],b[1])):(b=f(h,v),c.point(b[0],b[1],2),c.lineEnd()),h=b;else if(i&&h&&r^y){var w;!(_&l)&&(w=f(v,h,!0))&&(g=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}y&&(!h||!mo(h,v))&&c.point(v[0],v[1]),h=v,p=y,l=_},lineEnd:function(){p&&c.lineEnd(),h=null},clean:function(){return g|(m&&p)<<1}}}function f(c,h,l){var p=Te(c),m=Te(h),g=[1,0,0],d=Ln(p,m),x=$a(d,d),v=d[0],b=x-v*v;if(!b)return!l&&c;var y=e*x/b,_=-e*v/b,w=Ln(g,d),E=Oa(g,y),C=Oa(d,_);tu(E,C);var N=w,k=$a(E,N),S=$a(N,N),P=k*k-S*($a(E,E)-1);if(!(P<0)){var z=lt(P),M=Oa(N,(-k-z)/S);if(tu(M,E),M=ci(M),!l)return M;var T=c[0],A=h[0],R=c[1],q=h[1],I;A<T&&(I=T,T=A,A=I);var Y=A-T,$=G(Y-J)<V,H=$||Y<V;if(!$&&q<R&&(I=R,R=q,q=I),H?$?R+q>0^M[1]<(G(M[0]-T)<V?R:q):R<=M[1]&&M[1]<=q:Y>J^(T<=M[0]&&M[0]<=A)){var j=Oa(N,(-k+z)/S);return tu(j,E),[M,ci(j)]}}}function u(c,h){var l=r?t:J-t,p=0;return c<-l?p|=1:c>l&&(p|=2),h<-l?p|=4:h>l&&(p|=8),p}return pu(a,s,o,r?[0,-t]:[-J,t-J])}function P2(t,e,n,r,i,o){var a=t[0],s=t[1],f=e[0],u=e[1],c=0,h=1,l=f-a,p=u-s,m;if(m=n-a,!(!l&&m>0)){if(m/=l,l<0){if(m<c)return;m<h&&(h=m)}else if(l>0){if(m>h)return;m>c&&(c=m)}if(m=i-a,!(!l&&m<0)){if(m/=l,l<0){if(m>h)return;m>c&&(c=m)}else if(l>0){if(m<c)return;m<h&&(h=m)}if(m=r-s,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<h&&(h=m)}else if(p>0){if(m>h)return;m>c&&(c=m)}if(m=o-s,!(!p&&m<0)){if(m/=p,p<0){if(m>h)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<h&&(h=m)}return c>0&&(t[0]=a+c*l,t[1]=s+c*p),h<1&&(e[0]=a+h*l,e[1]=s+h*p),!0}}}}}var Wa=1e9,mu=-Wa;function Un(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function o(u,c,h,l){var p=0,m=0;if(u==null||(p=a(u,h))!==(m=a(c,h))||f(u,c)<0^h>0)do l.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+h+4)%4)!==m);else l.point(c[0],c[1])}function a(u,c){return G(u[0]-t)<V?c>0?0:3:G(u[0]-n)<V?c>0?2:1:G(u[1]-e)<V?c>0?1:0:c>0?3:2}function s(u,c){return f(u.x,c.x)}function f(u,c){var h=a(u,1),l=a(c,1);return h!==l?h-l:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=uu(),l,p,m,g,d,x,v,b,y,_,w,E={point:C,lineStart:P,lineEnd:z,polygonStart:k,polygonEnd:S};function C(T,A){i(T,A)&&c.point(T,A)}function N(){for(var T=0,A=0,R=p.length;A<R;++A)for(var q=p[A],I=1,Y=q.length,$=q[0],H,j,tt=$[0],et=$[1];I<Y;++I)H=tt,j=et,$=q[I],tt=$[0],et=$[1],j<=r?et>r&&(tt-H)*(r-j)>(et-j)*(t-H)&&++T:et<=r&&(tt-H)*(r-j)<(et-j)*(t-H)&&--T;return T}function k(){c=h,l=[],p=[],w=!0}function S(){var T=N(),A=w&&T,R=(l=Yr(l)).length;(A||R)&&(u.polygonStart(),A&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),R&&lu(l,s,T,o,u),u.polygonEnd()),c=u,l=p=m=null}function P(){E.point=M,p&&p.push(m=[]),_=!0,y=!1,v=b=NaN}function z(){l&&(M(g,d),x&&y&&h.rejoin(),l.push(h.result())),E.point=C,y&&c.lineEnd()}function M(T,A){var R=i(T,A);if(p&&m.push([T,A]),_)g=T,d=A,x=R,_=!1,R&&(c.lineStart(),c.point(T,A));else if(R&&y)c.point(T,A);else{var q=[v=Math.max(mu,Math.min(Wa,v)),b=Math.max(mu,Math.min(Wa,b))],I=[T=Math.max(mu,Math.min(Wa,T)),A=Math.max(mu,Math.min(Wa,A))];P2(q,I,t,e,n,r)?(y||(c.lineStart(),c.point(q[0],q[1])),c.point(I[0],I[1]),R||c.lineEnd(),w=!1):R&&(c.lineStart(),c.point(T,A),w=!1)}v=T,b=A,y=R}return E}}function I2(){var t=0,e=0,n=960,r=500,i,o,a;return a={stream:function(s){return i&&o===s?i:i=Un(t,e,n,r)(o=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=o=null,a):[[t,e],[n,r]]}}}var Jh,tp,gu,xu,go={sphere:ht,point:ht,lineStart:P6,lineEnd:ht,polygonStart:ht,polygonEnd:ht};function P6(){go.point=D6,go.lineEnd=I6}function I6(){go.point=go.lineEnd=ht}function D6(t,e){t*=W,e*=W,tp=t,gu=O(e),xu=L(e),go.point=q6}function q6(t,e){t*=W,e*=W;var n=O(e),r=L(e),i=G(t-tp),o=L(i),a=O(i),s=r*a,f=xu*n-gu*r*o,u=gu*n+xu*r*o;Jh.add(yt(lt(s*s+f*f),u)),tp=t,gu=n,xu=r}function yu(t){return Jh=new mt,Bt(t,go),+Jh}var ep=[null,null],F6={type:"LineString",coordinates:ep};function xo(t,e){return ep[0]=t,ep[1]=e,yu(F6)}var D2={Feature:function(t,e){return bu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(bu(n[r].geometry,e))return!0;return!1}},q2={Sphere:function(){return!0},Point:function(t,e){return F2(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(F2(n[r],e))return!0;return!1},LineString:function(t,e){return $2(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($2(n[r],e))return!0;return!1},Polygon:function(t,e){return O2(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(O2(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(bu(n[r],e))return!0;return!1}};function bu(t,e){return t&&q2.hasOwnProperty(t.type)?q2[t.type](t,e):!1}function F2(t,e){return xo(t,e)===0}function $2(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=xo(t[o],e),r===0||o>0&&(i=xo(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<On*i))return!0;n=r}return!1}function O2(t,e){return!!hu(t.map($6),L2(e))}function $6(t){return t=t.map(L2),t.pop(),t}function L2(t){return[t[0]*W,t[1]*W]}function B2(t,e){return(t&&D2.hasOwnProperty(t.type)?D2[t.type]:bu)(t,e)}function Y2(t,e,n){var r=pe(t,e-V,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function U2(t,e,n){var r=pe(t,e-V,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function vu(){var t,e,n,r,i,o,a,s,f=10,u=f,c=90,h=360,l,p,m,g,d=2.5;function x(){return{type:"MultiLineString",coordinates:v()}}function v(){return pe(qa(r/c)*c,n,c).map(m).concat(pe(qa(s/h)*h,a,h).map(g)).concat(pe(qa(e/f)*f,t,f).filter(function(b){return G(b%c)>V}).map(l)).concat(pe(qa(o/u)*u,i,u).filter(function(b){return G(b%h)>V}).map(p))}return x.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},x.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(a).slice(1),m(n).reverse().slice(1),g(s).reverse().slice(1))]}},x.extent=function(b){return arguments.length?x.extentMajor(b).extentMinor(b):x.extentMinor()},x.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],a=+b[1][1],r>n&&(b=r,r=n,n=b),s>a&&(b=s,s=a,a=b),x.precision(d)):[[r,s],[n,a]]},x.extentMinor=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],o=+b[0][1],i=+b[1][1],e>t&&(b=e,e=t,t=b),o>i&&(b=o,o=i,i=b),x.precision(d)):[[e,o],[t,i]]},x.step=function(b){return arguments.length?x.stepMajor(b).stepMinor(b):x.stepMinor()},x.stepMajor=function(b){return arguments.length?(c=+b[0],h=+b[1],x):[c,h]},x.stepMinor=function(b){return arguments.length?(f=+b[0],u=+b[1],x):[f,u]},x.precision=function(b){return arguments.length?(d=+b,l=Y2(o,i,90),p=U2(e,t,d),m=Y2(s,a,90),g=U2(r,n,d),x):d},x.extentMajor([[-180,-90+V],[180,90-V]]).extentMinor([[-180,-80-V],[180,80+V]])}function V2(){return vu()()}function H2(t,e){var n=t[0]*W,r=t[1]*W,i=e[0]*W,o=e[1]*W,a=L(r),s=O(r),f=L(o),u=O(o),c=a*L(n),h=a*O(n),l=f*L(i),p=f*O(i),m=2*bt(lt(Lh(o-r)+a*f*Lh(i-n))),g=O(m),d=m?function(x){var v=O(x*=m)/g,b=O(m-x)/g,y=b*c+v*l,_=b*h+v*p,w=b*s+v*u;return[yt(_,y)*st,yt(w,lt(y*y+_*_))*st]}:function(){return[n*st,r*st]};return d.distance=m,d}var br=t=>t;var np=new mt,rp=new mt,W2,X2,ip,op,vr={point:ht,lineStart:ht,lineEnd:ht,polygonStart:function(){vr.lineStart=O6,vr.lineEnd=B6},polygonEnd:function(){vr.lineStart=vr.lineEnd=vr.point=ht,np.add(G(rp)),rp=new mt},result:function(){var t=np/2;return np=new mt,t}};function O6(){vr.point=L6}function L6(t,e){vr.point=j2,W2=ip=t,X2=op=e}function j2(t,e){rp.add(op*t-ip*e),ip=t,op=e}function B6(){j2(W2,X2)}var ap=vr;var yo=1/0,_u=yo,Xa=-yo,wu=Xa,Y6={point:U6,lineStart:ht,lineEnd:ht,polygonStart:ht,polygonEnd:ht,result:function(){var t=[[yo,_u],[Xa,wu]];return Xa=wu=-(_u=yo=1/0),t}};function U6(t,e){t<yo&&(yo=t),t>Xa&&(Xa=t),e<_u&&(_u=e),e>wu&&(wu=e)}var bo=Y6;var sp=0,fp=0,ja=0,Mu=0,Su=0,vo=0,up=0,cp=0,Ga=0,Z2,K2,hn,pn,We={point:di,lineStart:G2,lineEnd:Q2,polygonStart:function(){We.lineStart=W6,We.lineEnd=X6},polygonEnd:function(){We.point=di,We.lineStart=G2,We.lineEnd=Q2},result:function(){var t=Ga?[up/Ga,cp/Ga]:vo?[Mu/vo,Su/vo]:ja?[sp/ja,fp/ja]:[NaN,NaN];return sp=fp=ja=Mu=Su=vo=up=cp=Ga=0,t}};function di(t,e){sp+=t,fp+=e,++ja}function G2(){We.point=V6}function V6(t,e){We.point=H6,di(hn=t,pn=e)}function H6(t,e){var n=t-hn,r=e-pn,i=lt(n*n+r*r);Mu+=i*(hn+t)/2,Su+=i*(pn+e)/2,vo+=i,di(hn=t,pn=e)}function Q2(){We.point=di}function W6(){We.point=j6}function X6(){J2(Z2,K2)}function j6(t,e){We.point=J2,di(Z2=hn=t,K2=pn=e)}function J2(t,e){var n=t-hn,r=e-pn,i=lt(n*n+r*r);Mu+=i*(hn+t)/2,Su+=i*(pn+e)/2,vo+=i,i=pn*t-hn*e,up+=i*(hn+t),cp+=i*(pn+e),Ga+=i*3,di(hn=t,pn=e)}var lp=We;function Tu(t){this._context=t}Tu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,zt);break}}},result:ht};var pp=new mt,hp,ty,ey,Qa,Za,ku={point:ht,lineStart:function(){ku.point=G6},lineEnd:function(){hp&&ny(ty,ey),ku.point=ht},polygonStart:function(){hp=!0},polygonEnd:function(){hp=null},result:function(){var t=+pp;return pp=new mt,t}};function G6(t,e){ku.point=ny,ty=Qa=t,ey=Za=e}function ny(t,e){Qa-=t,Za-=e,pp.add(lt(Qa*Qa+Za*Za)),Qa=t,Za=e}var dp=ku;var ry,Au,iy,oy,Ka=class{constructor(e){this._append=e==null?ay:Q6(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==iy||this._append!==Au){let r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,iy=r,Au=this._append,oy=this._,this._=i}this._+=oy;break}}}result(){let e=this._;return this._="",e.length?e:null}};function ay(t){let e=1;this._+=t[0];for(let n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Q6(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return ay;if(e!==ry){let n=10**e;ry=e,Au=function(i){let o=1;this._+=i[0];for(let a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Au}function sy(t,e){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Bt(s,i(o))),o.result()}return a.area=function(s){return Bt(s,i(ap)),ap.result()},a.measure=function(s){return Bt(s,i(dp)),dp.result()},a.bounds=function(s){return Bt(s,i(bo)),bo.result()},a.centroid=function(s){return Bt(s,i(lp)),lp.result()},a.projection=function(s){return arguments.length?(i=s==null?(t=null,br):(t=s).stream,a):t},a.context=function(s){return arguments.length?(o=s==null?(e=null,new Ka(n)):new Tu(e=s),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{let f=Math.floor(s);if(!(f>=0))throw new RangeError(`invalid digits: ${s}`);n=f}return e===null&&(o=new Ka(n)),a},a.projection(t).digits(n).context(e)}function fy(t){return{stream:_r(t)}}function _r(t){return function(e){var n=new mp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function mp(){}mp.prototype={constructor:mp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function gp(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Bt(n,t.stream(bo)),e(bo.result()),r!=null&&t.clipExtent(r),t}function mi(t,e,n){return gp(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,f=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,f])},n)}function _o(t,e,n){return mi(t,[[0,0],e],n)}function wo(t,e,n){return gp(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function Mo(t,e,n){return gp(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var uy=16,Z6=L(30*W);function xp(t,e){return+e?J6(t,e):K6(t)}function K6(t){return _r({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function J6(t,e){function n(r,i,o,a,s,f,u,c,h,l,p,m,g,d){var x=u-r,v=c-i,b=x*x+v*v;if(b>4*e&&g--){var y=a+l,_=s+p,w=f+m,E=lt(y*y+_*_+w*w),C=bt(w/=E),N=G(G(w)-1)<V||G(o-h)<V?(o+h)/2:yt(_,y),k=t(N,C),S=k[0],P=k[1],z=S-r,M=P-i,T=v*z-x*M;(T*T/b>e||G((x*z+v*M)/b-.5)>.3||a*l+s*p+f*m<Z6)&&(n(r,i,o,a,s,f,S,P,N,y/=E,_/=E,w,g,d),d.point(S,P),n(S,P,N,y,_,w,u,c,h,l,p,m,g,d))}}return function(r){var i,o,a,s,f,u,c,h,l,p,m,g,d={point:x,lineStart:v,lineEnd:y,polygonStart:function(){r.polygonStart(),d.lineStart=_},polygonEnd:function(){r.polygonEnd(),d.lineStart=v}};function x(C,N){C=t(C,N),r.point(C[0],C[1])}function v(){h=NaN,d.point=b,r.lineStart()}function b(C,N){var k=Te([C,N]),S=t(C,N);n(h,l,c,p,m,g,h=S[0],l=S[1],c=C,p=k[0],m=k[1],g=k[2],uy,r),r.point(h,l)}function y(){d.point=x,r.lineEnd()}function _(){v(),d.point=w,d.lineEnd=E}function w(C,N){b(i=C,N),o=h,a=l,s=p,f=m,u=g,d.point=b}function E(){n(h,l,c,p,m,g,o,a,i,s,f,u,uy,r),d.lineEnd=y,y()}return d}}var t8=_r({point:function(t,e){this.stream.point(t*W,e*W)}});function e8(t){return _r({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function n8(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function cy(t,e,n,r,i,o){if(!o)return n8(t,e,n,r,i);var a=L(o),s=O(o),f=a*t,u=s*t,c=a/t,h=s/t,l=(s*n-a*e)/t,p=(s*e+a*n)/t;function m(g,d){return g*=r,d*=i,[f*g-u*d+e,n-u*g-f*d]}return m.invert=function(g,d){return[r*(c*g-h*d+l),i*(p-h*g-c*d)]},m}function Rt(t){return Ja(function(){return t})()}function Ja(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,f=0,u=0,c,h=0,l=1,p=1,m=null,g=Ha,d=null,x,v,b,y=br,_=.5,w,E,C,N,k;function S(T){return C(T[0]*W,T[1]*W)}function P(T){return T=C.invert(T[0],T[1]),T&&[T[0]*st,T[1]*st]}S.stream=function(T){return N&&k===T?N:N=t8(e8(c)(g(w(y(k=T)))))},S.preclip=function(T){return arguments.length?(g=T,m=void 0,M()):g},S.postclip=function(T){return arguments.length?(y=T,d=x=v=b=null,M()):y},S.clipAngle=function(T){return arguments.length?(g=+T?du(m=T*W):(m=null,Ha),M()):m*st},S.clipExtent=function(T){return arguments.length?(y=T==null?(d=x=v=b=null,br):Un(d=+T[0][0],x=+T[0][1],v=+T[1][0],b=+T[1][1]),M()):d==null?null:[[d,x],[v,b]]},S.scale=function(T){return arguments.length?(n=+T,z()):n},S.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],z()):[r,i]},S.center=function(T){return arguments.length?(o=T[0]%360*W,a=T[1]%360*W,z()):[o*st,a*st]},S.rotate=function(T){return arguments.length?(s=T[0]%360*W,f=T[1]%360*W,u=T.length>2?T[2]%360*W:0,z()):[s*st,f*st,u*st]},S.angle=function(T){return arguments.length?(h=T%360*W,z()):h*st},S.reflectX=function(T){return arguments.length?(l=T?-1:1,z()):l<0},S.reflectY=function(T){return arguments.length?(p=T?-1:1,z()):p<0},S.precision=function(T){return arguments.length?(w=xp(E,_=T*T),M()):lt(_)},S.fitExtent=function(T,A){return mi(S,T,A)},S.fitSize=function(T,A){return _o(S,T,A)},S.fitWidth=function(T,A){return wo(S,T,A)},S.fitHeight=function(T,A){return Mo(S,T,A)};function z(){var T=cy(n,0,0,l,p,h).apply(null,e(o,a)),A=cy(n,r-T[0],i-T[1],l,p,h);return c=Va(s,f,u),E=Ua(e,A),C=Ua(c,E),w=xp(E,_),M()}function M(){return N=k=null,S}return function(){return e=t.apply(this,arguments),S.invert=e.invert&&P,z()}}function So(t){var e=0,n=J/3,r=Ja(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*W,n=o[1]*W):[e*st,n*st]},i}function ly(t){var e=L(t);function n(r,i){return[r*e,O(i)/e]}return n.invert=function(r,i){return[r/e,bt(i*e)]},n}function yp(t,e){var n=O(t),r=(n+O(e))/2;if(G(r)<V)return ly(t);var i=1+n*(2*r-n),o=lt(i)/r;function a(s,f){var u=lt(i-2*r*O(f))/r;return[u*O(s*=r),o-u*L(s)]}return a.invert=function(s,f){var u=o-f,c=yt(s,G(u))*te(u);return u*r<0&&(c-=J*te(s)*te(u)),[c/r,bt((i-(s*s+u*u)*r*r)/(2*r))]},a}function gi(){return So(yp).scale(155.424).center([0,33.6442])}function Eu(){return gi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function r8(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function hy(){var t,e,n=Eu(),r,i=gi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=gi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,f,u={point:function(l,p){f=[l,p]}};function c(l){var p=l[0],m=l[1];return f=null,r.point(p,m),f||(o.point(p,m),f)||(s.point(p,m),f)}c.invert=function(l){var p=n.scale(),m=n.translate(),g=(l[0]-m[0])/p,d=(l[1]-m[1])/p;return(d>=.12&&d<.234&&g>=-.425&&g<-.214?i:d>=.166&&d<.234&&g>=-.214&&g<-.115?a:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=r8([n.stream(e=l),i.stream(l),a.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),h()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var p=n.scale(),m=+l[0],g=+l[1];return r=n.translate(l).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(u),o=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+V,g+.12*p+V],[m-.214*p-V,g+.234*p-V]]).stream(u),s=a.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+V,g+.166*p+V],[m-.115*p-V,g+.234*p-V]]).stream(u),h()},c.fitExtent=function(l,p){return mi(c,l,p)},c.fitSize=function(l,p){return _o(c,l,p)},c.fitWidth=function(l,p){return wo(c,l,p)},c.fitHeight=function(l,p){return Mo(c,l,p)};function h(){return t=e=null,c}return c.scale(1070)}function Cu(t){return function(e,n){var r=L(e),i=L(n),o=t(r*i);return o===1/0?[2,0]:[o*i*O(e),o*O(n)]}}function dn(t){return function(e,n){var r=lt(e*e+n*n),i=t(r),o=O(i),a=L(i);return[yt(e*o,r*a),bt(r&&n*o/r)]}}var Nu=Cu(function(t){return lt(2/(1+t))});Nu.invert=dn(function(t){return 2*bt(t/2)});function py(){return Rt(Nu).scale(124.75).clipAngle(180-.001)}var zu=Cu(function(t){return(t=Zf(t))&&t/O(t)});zu.invert=dn(function(t){return t});function dy(){return Rt(zu).scale(79.4188).clipAngle(180-.001)}function xi(t,e){return[t,ui(ho((xt+e)/2))]}xi.invert=function(t,e){return[t,2*Se(jf(e))-xt]};function my(){return bp(xi).scale(961/zt)}function bp(t){var e=Rt(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,s,f,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(i(h),c()):i()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=s=f=u=null:(a=+h[0][0],s=+h[0][1],f=+h[1][0],u=+h[1][1]),c()):a==null?null:[[a,s],[f,u]]};function c(){var h=J*r(),l=e(fu(e.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===xi?[[Math.max(l[0]-h,a),s],[Math.min(l[0]+h,f),u]]:[[a,Math.max(l[1]-h,s)],[f,Math.min(l[1]+h,u)]])}return c()}function Ru(t){return ho((xt+t)/2)}function vp(t,e){var n=L(t),r=t===e?O(t):ui(n/L(e))/ui(Ru(e)/Ru(t)),i=n*Qf(Ru(t),r)/r;if(!r)return xi;function o(a,s){i>0?s<-xt+V&&(s=-xt+V):s>xt-V&&(s=xt-V);var f=i/Qf(Ru(s),r);return[f*O(r*a),i-f*L(r*a)]}return o.invert=function(a,s){var f=i-s,u=te(r)*lt(a*a+f*f),c=yt(a,G(f))*te(f);return f*r<0&&(c-=J*te(a)*te(f)),[c/r,2*Se(Qf(i/u,1/r))-xt]},o}function gy(){return So(vp).scale(109.5).parallels([30,30])}function yi(t,e){return[t,e]}yi.invert=yi;function xy(){return Rt(yi).scale(152.63)}function _p(t,e){var n=L(t),r=t===e?O(t):(n-L(e))/(e-t),i=n/r+t;if(G(r)<V)return yi;function o(a,s){var f=i-s,u=r*a;return[f*O(u),i-f*L(u)]}return o.invert=function(a,s){var f=i-s,u=yt(a,G(f))*te(f);return f*r<0&&(u-=J*te(a)*te(f)),[u/r,i-te(r)*lt(a*a+f*f)]},o}function yy(){return So(_p).scale(131.154).center([0,13.9389])}var ts=1.340264,es=-.081106,ns=893e-6,rs=.003796,Pu=lt(3)/2,i8=12;function Iu(t,e){var n=bt(Pu*O(e)),r=n*n,i=r*r*r;return[t*L(n)/(Pu*(ts+3*es*r+i*(7*ns+9*rs*r))),n*(ts+es*r+i*(ns+rs*r))]}Iu.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,s,f;o<i8&&(s=n*(ts+es*r+i*(ns+rs*r))-e,f=ts+3*es*r+i*(7*ns+9*rs*r),n-=a=s/f,r=n*n,i=r*r*r,!(G(a)<On));++o);return[Pu*t*(ts+3*es*r+i*(7*ns+9*rs*r))/L(n),bt(O(n)/Pu)]};function by(){return Rt(Iu).scale(177.158)}function Du(t,e){var n=L(e),r=L(t)*n;return[n*O(t)/r,O(e)/r]}Du.invert=dn(Se);function vy(){return Rt(Du).scale(144.049).clipAngle(60)}function _y(){var t=1,e=0,n=0,r=1,i=1,o=0,a,s,f=null,u,c,h,l=1,p=1,m=_r({point:function(y,_){var w=b([y,_]);this.stream.point(w[0],w[1])}}),g=br,d,x;function v(){return l=t*r,p=t*i,d=x=null,b}function b(y){var _=y[0]*l,w=y[1]*p;if(o){var E=w*a-_*s;_=_*a+w*s,w=E}return[_+e,w+n]}return b.invert=function(y){var _=y[0]-e,w=y[1]-n;if(o){var E=w*a+_*s;_=_*a-w*s,w=E}return[_/l,w/p]},b.stream=function(y){return d&&x===y?d:d=m(g(x=y))},b.postclip=function(y){return arguments.length?(g=y,f=u=c=h=null,v()):g},b.clipExtent=function(y){return arguments.length?(g=y==null?(f=u=c=h=null,br):Un(f=+y[0][0],u=+y[0][1],c=+y[1][0],h=+y[1][1]),v()):f==null?null:[[f,u],[c,h]]},b.scale=function(y){return arguments.length?(t=+y,v()):t},b.translate=function(y){return arguments.length?(e=+y[0],n=+y[1],v()):[e,n]},b.angle=function(y){return arguments.length?(o=y%360*W,s=O(o),a=L(o),v()):o*st},b.reflectX=function(y){return arguments.length?(r=y?-1:1,v()):r<0},b.reflectY=function(y){return arguments.length?(i=y?-1:1,v()):i<0},b.fitExtent=function(y,_){return mi(b,y,_)},b.fitSize=function(y,_){return _o(b,y,_)},b.fitWidth=function(y,_){return wo(b,y,_)},b.fitHeight=function(y,_){return Mo(b,y,_)},b}function qu(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}qu.invert=function(t,e){var n=e,r=25,i;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(G(i)>V&&--r>0);return[t/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function wy(){return Rt(qu).scale(175.295)}function Fu(t,e){return[L(e)*O(t),O(e)]}Fu.invert=dn(bt);function My(){return Rt(Fu).scale(249.5).clipAngle(90+V)}function $u(t,e){var n=L(e),r=1+L(t)*n;return[n*O(t)/r,O(e)/r]}$u.invert=dn(function(t){return 2*Se(t)});function Sy(){return Rt($u).scale(250).clipAngle(142)}function Ou(t,e){return[ui(ho((xt+e)/2)),-t]}Ou.invert=function(t,e){return[-e,2*Se(jf(t))-xt]};function Ty(){var t=bp(Ou),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function o8(t,e){return t.parent===e.parent?1:2}function a8(t){return t.reduce(s8,0)/t.length}function s8(t,e){return t+e.x}function f8(t){return 1+t.reduce(u8,0)}function u8(t,e){return Math.max(t,e.y)}function c8(t){for(var e;e=t.children;)t=e[0];return t}function l8(t){for(var e;e=t.children;)t=e[e.length-1];return t}function ky(){var t=o8,e=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(l){var p=l.children;p?(l.x=a8(p),l.y=f8(p)):(l.x=a?s+=t(l,a):0,l.y=0,a=l)});var f=c8(o),u=l8(o),c=f.x-t(f,u)/2,h=u.x+t(u,f)/2;return o.eachAfter(r?function(l){l.x=(l.x-o.x)*e,l.y=(o.y-l.y)*n}:function(l){l.x=(l.x-c)/(h-c)*e,l.y=(1-(o.y?l.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,e=+o[0],n=+o[1],i):r?null:[e,n]},i.nodeSize=function(o){return arguments.length?(r=!0,e=+o[0],n=+o[1],i):r?[e,n]:null},i}function h8(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Ay(){return this.eachAfter(h8)}function Ey(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this}function Cy(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Ny(t,e){for(var n=this,r=[n],i=[],o,a,s,f=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++f,this);return this}function zy(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r}function Ry(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Py(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Iy(t){for(var e=this,n=p8(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function p8(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Dy(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function qy(){return Array.from(this)}function Fy(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function $y(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Oy(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function is(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=g8)):e===void 0&&(e=m8);for(var n=new mn(t),r,i=[n],o,a,s,f;r=i.pop();)if((a=e(r.data))&&(f=(a=Array.from(a)).length))for(r.children=a,s=f-1;s>=0;--s)i.push(o=a[s]=new mn(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(wp)}function d8(){return is(this).eachBefore(x8)}function m8(t){return t.children}function g8(t){return Array.isArray(t)?t[1]:null}function x8(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function wp(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function mn(t){this.data=t,this.depth=this.height=0,this.parent=null}mn.prototype=is.prototype={constructor:mn,count:Ay,each:Ey,eachAfter:Ny,eachBefore:Cy,find:zy,sum:Ry,sort:Py,path:Iy,ancestors:Dy,descendants:qy,leaves:Fy,links:$y,copy:d8,[Symbol.iterator]:Oy};function To(t){return t==null?null:Mp(t)}function Mp(t){if(typeof t!="function")throw new Error;return t}function Vn(){return 0}function wr(t){return function(){return t}}function ko(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function Ly(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function By(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function Yy(t){return Tp(t,ko())}function Tp(t,e){for(var n=0,r=(t=By(Array.from(t),e)).length,i=[],o,a;n<r;)o=t[n],a&&Uy(a,o)?++n:(a=b8(i=y8(i,o)),n=0);return a}function y8(t,e){var n,r;if(Sp(e,t))return[e];for(n=0;n<t.length;++n)if(Lu(e,t[n])&&Sp(os(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Lu(os(t[n],t[r]),e)&&Lu(os(t[n],e),t[r])&&Lu(os(t[r],e),t[n])&&Sp(Vy(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Lu(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Uy(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Sp(t,e){for(var n=0;n<e.length;++n)if(!Uy(t,e[n]))return!1;return!0}function b8(t){switch(t.length){case 1:return v8(t[0]);case 2:return os(t[0],t[1]);case 3:return Vy(t[0],t[1],t[2])}}function v8(t){return{x:t.x,y:t.y,r:t.r}}function os(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,f=o-n,u=a-r,c=s-i,h=Math.sqrt(f*f+u*u);return{x:(n+o+f/h*c)/2,y:(r+a+u/h*c)/2,r:(h+i+s)/2}}function Vy(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,f=e.r,u=n.x,c=n.y,h=n.r,l=r-a,p=r-u,m=i-s,g=i-c,d=f-o,x=h-o,v=r*r+i*i-o*o,b=v-a*a-s*s+f*f,y=v-u*u-c*c+h*h,_=p*m-l*g,w=(m*y-g*b)/(_*2)-r,E=(g*d-m*x)/_,C=(p*b-l*y)/(_*2)-i,N=(l*x-p*d)/_,k=E*E+N*N-1,S=2*(o+w*E+C*N),P=w*w+C*C-o*o,z=-(Math.abs(k)>1e-6?(S+Math.sqrt(S*S-4*k*P))/(2*k):P/S);return{x:r+w+E*z,y:i+C+N*z,r:z}}function Hy(t,e,n){var r=t.x-e.x,i,o,a=t.y-e.y,s,f,u=r*r+a*a;u?(o=e.r+n.r,o*=o,f=t.r+n.r,f*=f,o>f?(i=(u+f-o)/(2*u),s=Math.sqrt(Math.max(0,f/u-i*i)),n.x=t.x-i*r-s*a,n.y=t.y-i*a+s*r):(i=(u+o-f)/(2*u),s=Math.sqrt(Math.max(0,o/u-i*i)),n.x=e.x+i*r-s*a,n.y=e.y+i*a+s*r)):(n.x=e.x+n.r,n.y=e.y)}function Wy(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Xy(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Bu(t){this._=t,this.next=null,this.previous=null}function kp(t,e){if(!(o=(t=Ly(t)).length))return 0;var n,r,i,o,a,s,f,u,c,h,l;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Hy(r,n,i=t[2]),n=new Bu(n),r=new Bu(r),i=new Bu(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(f=3;f<o;++f){Hy(n._,r._,i=t[f]),i=new Bu(i),u=r.next,c=n.previous,h=r._.r,l=n._.r;do if(h<=l){if(Wy(u._,i._)){r=u,n.next=r,r.previous=n,--f;continue t}h+=u._.r,u=u.next}else{if(Wy(c._,i._)){n=c,n.next=r,r.previous=n,--f;continue t}l+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=Xy(n);(i=i.next)!==r;)(s=Xy(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Tp(n,e),f=0;f<o;++f)n=t[f],n.x-=i.x,n.y-=i.y;return i.r}function jy(t){return kp(t,ko()),t}function _8(t){return Math.sqrt(t.value)}function Zy(){var t=null,e=1,n=1,r=Vn;function i(o){let a=ko();return o.x=e/2,o.y=n/2,t?o.eachBefore(Gy(t)).eachAfter(Ap(r,.5,a)).eachBefore(Qy(1)):o.eachBefore(Gy(_8)).eachAfter(Ap(Vn,1,a)).eachAfter(Ap(r,o.r/Math.min(e,n),a)).eachBefore(Qy(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=To(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:wr(+o),i):r},i}function Gy(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ap(t,e,n){return function(r){if(i=r.children){var i,o,a=i.length,s=t(r)*e||0,f;if(s)for(o=0;o<a;++o)i[o].r+=s;if(f=kp(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=f+s}}}function Qy(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Yu(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function gn(t,e,n,r,i){for(var o=t.children,a,s=-1,f=o.length,u=t.value&&(r-e)/t.value;++s<f;)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function Ky(){var t=1,e=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(o(e,s)),r&&a.eachBefore(Yu),a}function o(a,s){return function(f){f.children&&gn(f,f.x0,a*(f.depth+1)/s,f.x1,a*(f.depth+2)/s);var u=f.x0,c=f.y0,h=f.x1-n,l=f.y1-n;h<u&&(u=h=(u+h)/2),l<c&&(c=l=(c+l)/2),f.x0=u,f.y0=c,f.x1=h,f.y1=l}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var w8={depth:-1},Jy={},Ep={};function M8(t){return t.id}function S8(t){return t.parentId}function eb(){var t=M8,e=S8,n;function r(i){var o=Array.from(i),a=t,s=e,f,u,c,h,l,p,m,g,d=new Map;if(n!=null){let x=o.map((y,_)=>T8(n(y,_,i))),v=x.map(tb),b=new Set(x).add("");for(let y of v)b.has(y)||(b.add(y),x.push(y),v.push(tb(y)),o.push(Ep));a=(y,_)=>x[_],s=(y,_)=>v[_]}for(c=0,f=o.length;c<f;++c)u=o[c],p=o[c]=new mn(u),(m=a(u,c,i))!=null&&(m+="")&&(g=p.id=m,d.set(g,d.has(g)?Jy:p)),(m=s(u,c,i))!=null&&(m+="")&&(p.parent=m);for(c=0;c<f;++c)if(p=o[c],m=p.parent){if(l=d.get(m),!l)throw new Error("missing: "+m);if(l===Jy)throw new Error("ambiguous: "+m);l.children?l.children.push(p):l.children=[p],p.parent=l}else{if(h)throw new Error("multiple roots");h=p}if(!h)throw new Error("no root");if(n!=null){for(;h.data===Ep&&h.children.length===1;)h=h.children[0],--f;for(let x=o.length-1;x>=0&&(p=o[x],p.data===Ep);--x)p.data=null}if(h.parent=w8,h.eachBefore(function(x){x.depth=x.parent.depth+1,--f}).eachBefore(wp),h.parent=null,f>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=To(i),r):t},r.parentId=function(i){return arguments.length?(e=To(i),r):e},r.path=function(i){return arguments.length?(n=To(i),r):n},r}function T8(t){t=`${t}`;let e=t.length;return Cp(t,e-1)&&!Cp(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function tb(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Cp(t,e););return t.slice(0,e)}function Cp(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function k8(t,e){return t.parent===e.parent?1:2}function Np(t){var e=t.children;return e?e[0]:t.t}function zp(t){var e=t.children;return e?e[e.length-1]:t.t}function A8(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function E8(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function C8(t,e,n){return t.a.parent===e.parent?t.a:n}function Uu(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Uu.prototype=Object.create(mn.prototype);function N8(t){for(var e=new Uu(t,0),n,r=[e],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new Uu(o[a],a)),i.parent=n;return(e.parent=new Uu(null,0)).children=[e],e}function nb(){var t=k8,e=1,n=1,r=null;function i(u){var c=N8(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(f);else{var h=u,l=u,p=u;u.eachBefore(function(v){v.x<h.x&&(h=v),v.x>l.x&&(l=v),v.depth>p.depth&&(p=v)});var m=h===l?1:t(h,l)/2,g=m-h.x,d=e/(l.x+m+g),x=n/(p.depth||1);u.eachBefore(function(v){v.x=(v.x+g)*d,v.y=v.depth*x})}return u}function o(u){var c=u.children,h=u.parent.children,l=u.i?h[u.i-1]:null;if(c){E8(u);var p=(c[0].z+c[c.length-1].z)/2;l?(u.z=l.z+t(u._,l._),u.m=u.z-p):u.z=p}else l&&(u.z=l.z+t(u._,l._));u.parent.A=s(u,l,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var l=u,p=u,m=c,g=l.parent.children[0],d=l.m,x=p.m,v=m.m,b=g.m,y;m=zp(m),l=Np(l),m&&l;)g=Np(g),p=zp(p),p.a=u,y=m.z+v-l.z-d+t(m._,l._),y>0&&(A8(C8(m,u,h),u,y),d+=y,x+=y),v+=m.m,d+=l.m,b+=g.m,x+=p.m;m&&!zp(p)&&(p.t=m,p.m+=v-x),l&&!Np(g)&&(g.t=l,g.m+=d-b,h=u)}return h}function f(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function Mr(t,e,n,r,i){for(var o=t.children,a,s=-1,f=o.length,u=t.value&&(i-n)/t.value;++s<f;)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var Rp=(1+Math.sqrt(5))/2;function Pp(t,e,n,r,i,o){for(var a=[],s=e.children,f,u,c=0,h=0,l=s.length,p,m,g=e.value,d,x,v,b,y,_,w;c<l;){p=i-n,m=o-r;do d=s[h++].value;while(!d&&h<l);for(x=v=d,_=Math.max(m/p,p/m)/(g*t),w=d*d*_,y=Math.max(v/w,w/x);h<l;++h){if(d+=u=s[h].value,u<x&&(x=u),u>v&&(v=u),w=d*d*_,b=Math.max(v/w,w/x),b>y){d-=u;break}y=b}a.push(f={value:d,dice:p<m,children:s.slice(c,h)}),f.dice?gn(f,n,r,i,g?r+=m*d/g:o):Mr(f,n,r,g?n+=p*d/g:i,o),g-=d,c=h}return a}var Vu=function t(e){function n(r,i,o,a,s){Pp(e,r,i,o,a,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Rp);function rb(){var t=Vu,e=!1,n=1,r=1,i=[0],o=Vn,a=Vn,s=Vn,f=Vn,u=Vn;function c(l){return l.x0=l.y0=0,l.x1=n,l.y1=r,l.eachBefore(h),i=[0],e&&l.eachBefore(Yu),l}function h(l){var p=i[l.depth],m=l.x0+p,g=l.y0+p,d=l.x1-p,x=l.y1-p;d<m&&(m=d=(m+d)/2),x<g&&(g=x=(g+x)/2),l.x0=m,l.y0=g,l.x1=d,l.y1=x,l.children&&(p=i[l.depth+1]=o(l)/2,m+=u(l)-p,g+=a(l)-p,d-=s(l)-p,x-=f(l)-p,d<m&&(m=d=(m+d)/2),x<g&&(g=x=(g+x)/2),t(l,m,g,d,x))}return c.round=function(l){return arguments.length?(e=!!l,c):e},c.size=function(l){return arguments.length?(n=+l[0],r=+l[1],c):[n,r]},c.tile=function(l){return arguments.length?(t=Mp(l),c):t},c.padding=function(l){return arguments.length?c.paddingInner(l).paddingOuter(l):c.paddingInner()},c.paddingInner=function(l){return arguments.length?(o=typeof l=="function"?l:wr(+l),c):o},c.paddingOuter=function(l){return arguments.length?c.paddingTop(l).paddingRight(l).paddingBottom(l).paddingLeft(l):c.paddingTop()},c.paddingTop=function(l){return arguments.length?(a=typeof l=="function"?l:wr(+l),c):a},c.paddingRight=function(l){return arguments.length?(s=typeof l=="function"?l:wr(+l),c):s},c.paddingBottom=function(l){return arguments.length?(f=typeof l=="function"?l:wr(+l),c):f},c.paddingLeft=function(l){return arguments.length?(u=typeof l=="function"?l:wr(+l),c):u},c}function ib(t,e,n,r,i){var o=t.children,a,s=o.length,f,u=new Array(s+1);for(u[0]=f=a=0;a<s;++a)u[a+1]=f+=o[a].value;c(0,s,t.value,e,n,r,i);function c(h,l,p,m,g,d,x){if(h>=l-1){var v=o[h];v.x0=m,v.y0=g,v.x1=d,v.y1=x;return}for(var b=u[h],y=p/2+b,_=h+1,w=l-1;_<w;){var E=_+w>>>1;u[E]<y?_=E+1:w=E}y-u[_-1]<u[_]-y&&h+1<_&&--_;var C=u[_]-b,N=p-C;if(d-m>x-g){var k=p?(m*N+d*C)/p:d;c(h,_,C,m,g,k,x),c(_,l,N,k,g,d,x)}else{var S=p?(g*N+x*C)/p:x;c(h,_,C,m,g,d,S),c(_,l,N,m,S,d,x)}}}function ob(t,e,n,r,i){(t.depth&1?Mr:gn)(t,e,n,r,i)}var ab=function t(e){function n(r,i,o,a,s){if((f=r._squarify)&&f.ratio===e)for(var f,u,c,h,l=-1,p,m=f.length,g=r.value;++l<m;){for(u=f[l],c=u.children,h=u.value=0,p=c.length;h<p;++h)u.value+=c[h].value;u.dice?gn(u,i,o,a,g?o+=(s-o)*u.value/g:s):Mr(u,i,o,g?i+=(a-i)*u.value/g:a,s),g-=u.value}else r._squarify=f=Pp(e,r,i,o,a,s),f.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Rp);function sb(t){for(var e=-1,n=t.length,r,i=t[n-1],o=0;++e<n;)r=i,i=t[e],o+=r[1]*i[0]-r[0]*i[1];return o/2}function fb(t){for(var e=-1,n=t.length,r=0,i=0,o,a=t[n-1],s,f=0;++e<n;)o=a,a=t[e],f+=s=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*s,i+=(o[1]+a[1])*s;return f*=3,[r/f,i/f]}function ub(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function z8(t,e){return t[0]-e[0]||t[1]-e[1]}function cb(t){let e=t.length,n=[0,1],r=2,i;for(i=2;i<e;++i){for(;r>1&&ub(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function lb(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(z8),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=cb(r),a=cb(i),s=a[0]===o[0],f=a[a.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[r[o[e]][2]]);for(e=+s;e<a.length-f;++e)u.push(t[r[a[e]][2]]);return u}function hb(t,e){for(var n=t.length,r=t[n-1],i=e[0],o=e[1],a=r[0],s=r[1],f,u,c=!1,h=0;h<n;++h)r=t[h],f=r[0],u=r[1],u>o!=s>o&&i<(a-f)*(o-u)/(s-u)+f&&(c=!c),a=f,s=u;return c}function pb(t){for(var e=-1,n=t.length,r=t[n-1],i,o,a=r[0],s=r[1],f=0;++e<n;)i=a,o=s,r=t[e],a=r[0],s=r[1],i-=a,o-=s,f+=Math.hypot(i,o);return f}var ut=Math.random;var db=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(ut);var mb=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(ut);var Ao=function t(e){function n(r,i){var o,a;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(o!=null)s=o,o=null;else do o=e()*2-1,s=e()*2-1,a=o*o+s*s;while(!a||a>1);return r+i*s*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n}(ut);var gb=function t(e){var n=Ao.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(ut);var Hu=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=e();return i+o*e()}}return n.source=t,n}(ut);var xb=function t(e){var n=Hu.source(e);function r(i){if((i=+i)==0)return e;var o=n(i);return function(){return o()/i}}return r.source=t,r}(ut);var yb=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(ut);var bb=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(ut);var vb=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(ut);var Wu=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(ut);var Eo=function t(e){var n=Ao.source(e)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-e())*o;var a=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(a)),f=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var u=n(),c=1+s*u;while(c<=0);c*=c*c;var h=1-e()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+a*(1-c+Math.log(c)));return a*c*f()*o}}return r.source=t,r}(ut);var Xu=function t(e){var n=Eo.source(e);function r(i,o){var a=n(i),s=n(o);return function(){var f=a();return f===0?0:f/(f+s())}}return r.source=t,r}(ut);var ju=function t(e){var n=Wu.source(e),r=Xu.source(e);function i(o,a){return o=+o,(a=+a)>=1?()=>o:a<=0?()=>0:function(){for(var s=0,f=o,u=a;f*u>16&&f*(1-u)>16;){var c=Math.floor((f+1)*u),h=r(c,f-c+1)();h<=u?(s+=c,f-=c,u=(u-h)/(1-h)):(f=c-1,u/=h)}for(var l=u<.5,p=l?u:1-u,m=n(p),g=m(),d=0;g<=f;++d)g+=m();return s+(l?d:f-d)}}return i.source=t,i}(ut);var _b=function t(e){function n(r,i,o){var a;return(r=+r)==0?a=s=>-Math.log(s):(r=1/r,a=s=>Math.pow(s,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*a(-Math.log1p(-e()))}}return n.source=t,n}(ut);var wb=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(ut);var Mb=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=e();return r+i*Math.log(o/(1-o))}}return n.source=t,n}(ut);var Sb=function t(e){var n=Eo.source(e),r=ju.source(e);function i(o){return function(){for(var a=0,s=o;s>16;){var f=Math.floor(.875*s),u=n(f)();if(u>s)return a+r(f-1,s/u)();a+=f,s-=u}for(var c=-Math.log1p(-e()),h=0;c<=s;++h)c-=Math.log1p(-e());return a+h}}return i.source=t,i}(ut);var Tb=23283064365386963e-26;function Ip(t=Math.random()){let e=(0<=t&&t<1?t/Tb:Math.abs(t))|0;return()=>(e=1664525*e+1013904223|0,Tb*(e>>>0))}function Tt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ke(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var Gu=Symbol("implicit");function Sr(){var t=new qe,e=[],n=[],r=Gu;function i(o){let a=t.get(o);if(a===void 0){if(r!==Gu)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new qe;for(let a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Sr(e,n).unknown(r)},Tt.apply(i,arguments),i}function as(){var t=Sr().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,f=0,u=0,c=.5;delete t.unknown;function h(){var l=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,l-f+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(l-f))*c,a=o*(1-f),s&&(m=Math.round(m),a=Math.round(a));var d=pe(l).map(function(x){return m+o*x});return n(p?d.reverse():d)}return t.domain=function(l){return arguments.length?(e(l),h()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(s=!!l,h()):s},t.padding=function(l){return arguments.length?(f=Math.min(1,u=+l),h()):f},t.paddingInner=function(l){return arguments.length?(f=Math.min(1,l),h()):f},t.paddingOuter=function(l){return arguments.length?(u=+l,h()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),h()):c},t.copy=function(){return as(e(),[r,i]).round(s).paddingInner(f).paddingOuter(u).align(c)},Tt.apply(h(),arguments)}function kb(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kb(e())},t}function Ab(){return kb(as.apply(null,arguments).paddingInner(1))}function Dp(t){return function(){return t}}function Tr(t){return+t}var Eb=[0,1];function qt(t){return t}function qp(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Dp(isNaN(e)?NaN:.5)}function R8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function P8(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=qp(i,r),o=n(a,o)):(r=qp(r,i),o=n(o,a)),function(s){return o(r(s))}}function I8(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=qp(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var f=ce(t,s,1,r)-1;return o[f](i[f](s))}}function xn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bi(){var t=Eb,e=Eb,n=Zt,r,i,o,a=qt,s,f,u;function c(){var l=Math.min(t.length,e.length);return a!==qt&&(a=R8(t[0],t[l-1])),s=l>2?I8:P8,f=u=null,h}function h(l){return l==null||isNaN(l=+l)?o:(f||(f=s(t.map(r),e,n)))(r(a(l)))}return h.invert=function(l){return a(i((u||(u=s(e,t.map(r),Ot)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,Tr),c()):t.slice()},h.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},h.rangeRound=function(l){return e=Array.from(l),n=hr,c()},h.clamp=function(l){return arguments.length?(a=l?!0:qt,c()):a!==qt},h.interpolate=function(l){return arguments.length?(n=l,c()):n},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,p){return r=l,i=p,c()}}function vi(){return bi()(qt,qt)}function ss(t,e,n,r){var i=qr(t,e,n),o;switch(r=Ue(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Wf(i,a))&&(r.precision=o),Da(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xf(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Hf(i))&&(r.precision=o-(r.type==="%")*2);break}}return $n(r)}function ue(t){var e=t.domain;return t.ticks=function(n){var r=e();return he(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ss(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],f,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Fe(a,s,n),u===f)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;f=u}return t},t}function Co(){var t=vi();return t.copy=function(){return xn(t,Co())},Tt.apply(t,arguments),ue(t)}function Qu(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tr),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Qu(t).unknown(e)},t=arguments.length?Array.from(t,Tr):[0,1],ue(n)}function fs(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Cb(t){return Math.log(t)}function Nb(t){return Math.exp(t)}function D8(t){return-Math.log(-t)}function q8(t){return-Math.exp(-t)}function F8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $8(t){return t===10?F8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function O8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zb(t){return(e,n)=>-t(-e,n)}function us(t){let e=t(Cb,Nb),n=e.domain,r=10,i,o;function a(){return i=O8(r),o=$8(r),n()[0]<0?(i=zb(i),o=zb(o),t(D8,q8)):t(Cb,Nb),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{let f=n(),u=f[0],c=f[f.length-1],h=c<u;h&&([u,c]=[c,u]);let l=i(u),p=i(c),m,g,d=s==null?10:+s,x=[];if(!(r%1)&&p-l<d){if(l=Math.floor(l),p=Math.ceil(p),u>0){for(;l<=p;++l)for(m=1;m<r;++m)if(g=l<0?m/o(-l):m*o(l),!(g<u)){if(g>c)break;x.push(g)}}else for(;l<=p;++l)for(m=r-1;m>=1;--m)if(g=l>0?m/o(-l):m*o(l),!(g<u)){if(g>c)break;x.push(g)}x.length*2<d&&(x=he(u,c,d))}else x=he(l,p,Math.min(p-l,d)).map(o);return h?x.reverse():x},e.tickFormat=(s,f)=>{if(s==null&&(s=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Ue(f)).precision==null&&(f.trim=!0),f=$n(f)),s===1/0)return f;let u=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?f(c):""}},e.nice=()=>n(fs(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Zu(){let t=us(bi()).domain([1,10]);return t.copy=()=>xn(t,Zu()).base(t.base()),Tt.apply(t,arguments),t}function Rb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Pb(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cs(t){var e=1,n=t(Rb(e),Pb(e));return n.constant=function(r){return arguments.length?t(Rb(e=+r),Pb(e)):e},ue(n)}function Ku(){var t=cs(bi());return t.copy=function(){return xn(t,Ku()).constant(t.constant())},Tt.apply(t,arguments)}function Ib(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function L8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function B8(t){return t<0?-t*t:t*t}function ls(t){var e=t(qt,qt),n=1;function r(){return n===1?t(qt,qt):n===.5?t(L8,B8):t(Ib(n),Ib(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ue(e)}function hs(){var t=ls(bi());return t.copy=function(){return xn(t,hs()).exponent(t.exponent())},Tt.apply(t,arguments),t}function Db(){return hs.apply(null,arguments).exponent(.5)}function qb(t){return Math.sign(t)*t*t}function Y8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ju(){var t=vi(),e=[0,1],n=!1,r;function i(o){var a=Y8(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(qb(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Tr)).map(qb)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ju(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Tt.apply(i,arguments),ue(i)}function tc(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Bs(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[ce(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(at),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return tc().domain(t).range(e).unknown(r)},Tt.apply(o,arguments)}function ec(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(f){return f!=null&&f<=f?i[ce(r,f,0,n)]:o}function s(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return a}return a.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,s()):[t,e]},a.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,s()):i.slice()},a.invertExtent=function(f){var u=i.indexOf(f);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(f){return arguments.length&&(o=f),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ec().domain([t,e]).range(i).unknown(o)},Tt.apply(ue(a),arguments)}function nc(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[ce(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return nc().domain(t).range(e).unknown(n)},Tt.apply(i,arguments)}var Fp=new Date,$p=new Date;function gt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{let a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{let f=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return f;let u;do f.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return f},i.filter=o=>gt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Fp.setTime(+o),$p.setTime(+a),t(Fp),t($p),Math.floor(n(Fp,$p))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}var kr=gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kr.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kr);var Op=kr.range;var ve=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),Lp=ve.range;var wi=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),Fb=wi.range,Mi=gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),$b=Mi.range;var Ti=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),Ob=Ti.range,ki=gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),Lb=ki.range;var bn=gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),Bb=bn.range,Ar=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),Yb=Ar.range,ds=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),Ub=ds.range;function Ai(t){return gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var vn=Ai(0),Ei=Ai(1),Bp=Ai(2),Yp=Ai(3),Hn=Ai(4),Up=Ai(5),Vp=Ai(6),Hp=vn.range,Hb=Ei.range,Wb=Bp.range,Xb=Yp.range,jb=Hn.range,Gb=Up.range,Qb=Vp.range;function Ci(t){return gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var _n=Ci(0),Ni=Ci(1),Wp=Ci(2),Xp=Ci(3),Wn=Ci(4),jp=Ci(5),Gp=Ci(6),Qp=_n.range,Zb=Ni.range,Kb=Wp.range,Jb=Xp.range,tv=Wn.range,ev=jp.range,nv=Gp.range;var zi=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),rv=zi.range,Ri=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),iv=Ri.range;var ge=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ge.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var ov=ge.range,xe=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xe.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var av=xe.range;function fv(t,e,n,r,i,o){let a=[[ve,1,1e3],[ve,5,5*1e3],[ve,15,15*1e3],[ve,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function s(u,c,h){let l=c<u;l&&([u,c]=[c,u]);let p=h&&typeof h.range=="function"?h:f(u,c,h),m=p?p.range(u,+c+1):[];return l?m.reverse():m}function f(u,c,h){let l=Math.abs(c-u)/h,p=tr(([,,d])=>d).right(a,l);if(p===a.length)return t.every(qr(u/31536e6,c/31536e6,h));if(p===0)return kr.every(Math.max(qr(u,c,h),1));let[m,g]=a[l/a[p-1][2]<a[p][2]/l?p-1:p];return m.every(g)}return[s,f]}var[rc,ic]=fv(xe,Ri,_n,ds,ki,Mi),[oc,ac]=fv(ge,zi,vn,bn,Ti,wi);function Zp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ms(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ys(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,f=t.shortMonths,u=gs(i),c=xs(i),h=gs(o),l=xs(o),p=gs(a),m=xs(a),g=gs(s),d=xs(s),x=gs(f),v=xs(f),b={a:R,A:q,b:I,B:Y,c:null,d:dv,e:dv,f:h7,g:w7,G:S7,H:u7,I:c7,j:l7,L:bv,m:p7,M:d7,p:$,q:H,Q:xv,s:yv,S:m7,u:g7,U:x7,V:y7,w:b7,W:v7,x:null,X:null,y:_7,Y:M7,Z:T7,"%":gv},y={a:j,A:tt,b:et,B:ct,c:null,d:mv,e:mv,f:C7,g:O7,G:B7,H:k7,I:A7,j:E7,L:_v,m:N7,M:z7,p:ot,q:vt,Q:xv,s:yv,S:R7,u:P7,U:I7,V:D7,w:q7,W:F7,x:null,X:null,y:$7,Y:L7,Z:Y7,"%":gv},_={a:k,A:S,b:P,B:z,c:M,d:hv,e:hv,f:o7,g:lv,G:cv,H:pv,I:pv,j:e7,L:i7,m:t7,M:n7,p:N,q:J8,Q:s7,s:f7,S:r7,u:j8,U:G8,V:Q8,w:X8,W:Z8,x:T,X:A,y:lv,Y:cv,Z:K8,"%":a7};b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),y.x=w(n,y),y.X=w(r,y),y.c=w(e,y);function w(U,K){return function(rt){var F=[],At=-1,dt=0,ne=U.length,re,Z,Et;for(rt instanceof Date||(rt=new Date(+rt));++At<ne;)U.charCodeAt(At)===37&&(F.push(U.slice(dt,At)),(Z=uv[re=U.charAt(++At)])!=null?re=U.charAt(++At):Z=re==="e"?" ":"0",(Et=K[re])&&(re=Et(rt,Z)),F.push(re),dt=At+1);return F.push(U.slice(dt,At)),F.join("")}}function E(U,K){return function(rt){var F=ms(1900,void 0,1),At=C(F,U,rt+="",0),dt,ne;if(At!=rt.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(K&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(dt=Kp(ms(F.y,0,1)),ne=dt.getUTCDay(),dt=ne>4||ne===0?Ni.ceil(dt):Ni(dt),dt=Ar.offset(dt,(F.V-1)*7),F.y=dt.getUTCFullYear(),F.m=dt.getUTCMonth(),F.d=dt.getUTCDate()+(F.w+6)%7):(dt=Zp(ms(F.y,0,1)),ne=dt.getDay(),dt=ne>4||ne===0?Ei.ceil(dt):Ei(dt),dt=bn.offset(dt,(F.V-1)*7),F.y=dt.getFullYear(),F.m=dt.getMonth(),F.d=dt.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),ne="Z"in F?Kp(ms(F.y,0,1)).getUTCDay():Zp(ms(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(ne+5)%7:F.w+F.U*7-(ne+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Kp(F)):Zp(F)}}function C(U,K,rt,F){for(var At=0,dt=K.length,ne=rt.length,re,Z;At<dt;){if(F>=ne)return-1;if(re=K.charCodeAt(At++),re===37){if(re=K.charAt(At++),Z=_[re in uv?K.charAt(At++):re],!Z||(F=Z(U,rt,F))<0)return-1}else if(re!=rt.charCodeAt(F++))return-1}return F}function N(U,K,rt){var F=u.exec(K.slice(rt));return F?(U.p=c.get(F[0].toLowerCase()),rt+F[0].length):-1}function k(U,K,rt){var F=p.exec(K.slice(rt));return F?(U.w=m.get(F[0].toLowerCase()),rt+F[0].length):-1}function S(U,K,rt){var F=h.exec(K.slice(rt));return F?(U.w=l.get(F[0].toLowerCase()),rt+F[0].length):-1}function P(U,K,rt){var F=x.exec(K.slice(rt));return F?(U.m=v.get(F[0].toLowerCase()),rt+F[0].length):-1}function z(U,K,rt){var F=g.exec(K.slice(rt));return F?(U.m=d.get(F[0].toLowerCase()),rt+F[0].length):-1}function M(U,K,rt){return C(U,e,K,rt)}function T(U,K,rt){return C(U,n,K,rt)}function A(U,K,rt){return C(U,r,K,rt)}function R(U){return a[U.getDay()]}function q(U){return o[U.getDay()]}function I(U){return f[U.getMonth()]}function Y(U){return s[U.getMonth()]}function $(U){return i[+(U.getHours()>=12)]}function H(U){return 1+~~(U.getMonth()/3)}function j(U){return a[U.getUTCDay()]}function tt(U){return o[U.getUTCDay()]}function et(U){return f[U.getUTCMonth()]}function ct(U){return s[U.getUTCMonth()]}function ot(U){return i[+(U.getUTCHours()>=12)]}function vt(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var K=w(U+="",b);return K.toString=function(){return U},K},parse:function(U){var K=E(U+="",!1);return K.toString=function(){return U},K},utcFormat:function(U){var K=w(U+="",y);return K.toString=function(){return U},K},utcParse:function(U){var K=E(U+="",!0);return K.toString=function(){return U},K}}}var uv={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,V8=/^%/,H8=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function W8(t){return t.replace(H8,"\\$&")}function gs(t){return new RegExp("^(?:"+t.map(W8).join("|")+")","i")}function xs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function X8(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function j8(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function G8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Q8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Z8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cv(t,e,n){var r=Yt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function lv(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function K8(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function J8(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function t7(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hv(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function e7(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pv(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function n7(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function r7(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function i7(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function o7(t,e,n){var r=Yt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function a7(t,e,n){var r=V8.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function s7(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function f7(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function dv(t,e){return pt(t.getDate(),e,2)}function u7(t,e){return pt(t.getHours(),e,2)}function c7(t,e){return pt(t.getHours()%12||12,e,2)}function l7(t,e){return pt(1+bn.count(ge(t),t),e,3)}function bv(t,e){return pt(t.getMilliseconds(),e,3)}function h7(t,e){return bv(t,e)+"000"}function p7(t,e){return pt(t.getMonth()+1,e,2)}function d7(t,e){return pt(t.getMinutes(),e,2)}function m7(t,e){return pt(t.getSeconds(),e,2)}function g7(t){var e=t.getDay();return e===0?7:e}function x7(t,e){return pt(vn.count(ge(t)-1,t),e,2)}function vv(t){var e=t.getDay();return e>=4||e===0?Hn(t):Hn.ceil(t)}function y7(t,e){return t=vv(t),pt(Hn.count(ge(t),t)+(ge(t).getDay()===4),e,2)}function b7(t){return t.getDay()}function v7(t,e){return pt(Ei.count(ge(t)-1,t),e,2)}function _7(t,e){return pt(t.getFullYear()%100,e,2)}function w7(t,e){return t=vv(t),pt(t.getFullYear()%100,e,2)}function M7(t,e){return pt(t.getFullYear()%1e4,e,4)}function S7(t,e){var n=t.getDay();return t=n>=4||n===0?Hn(t):Hn.ceil(t),pt(t.getFullYear()%1e4,e,4)}function T7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function mv(t,e){return pt(t.getUTCDate(),e,2)}function k7(t,e){return pt(t.getUTCHours(),e,2)}function A7(t,e){return pt(t.getUTCHours()%12||12,e,2)}function E7(t,e){return pt(1+Ar.count(xe(t),t),e,3)}function _v(t,e){return pt(t.getUTCMilliseconds(),e,3)}function C7(t,e){return _v(t,e)+"000"}function N7(t,e){return pt(t.getUTCMonth()+1,e,2)}function z7(t,e){return pt(t.getUTCMinutes(),e,2)}function R7(t,e){return pt(t.getUTCSeconds(),e,2)}function P7(t){var e=t.getUTCDay();return e===0?7:e}function I7(t,e){return pt(_n.count(xe(t)-1,t),e,2)}function wv(t){var e=t.getUTCDay();return e>=4||e===0?Wn(t):Wn.ceil(t)}function D7(t,e){return t=wv(t),pt(Wn.count(xe(t),t)+(xe(t).getUTCDay()===4),e,2)}function q7(t){return t.getUTCDay()}function F7(t,e){return pt(Ni.count(xe(t)-1,t),e,2)}function $7(t,e){return pt(t.getUTCFullYear()%100,e,2)}function O7(t,e){return t=wv(t),pt(t.getUTCFullYear()%100,e,2)}function L7(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function B7(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wn(t):Wn.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function Y7(){return"+0000"}function gv(){return"%"}function xv(t){return+t}function yv(t){return Math.floor(+t/1e3)}var No,bs,Jp,Pi,vs;sc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sc(t){return No=ys(t),bs=No.format,Jp=No.parse,Pi=No.utcFormat,vs=No.utcParse,No}var td="%Y-%m-%dT%H:%M:%S.%LZ";function U7(t){return t.toISOString()}var V7=Date.prototype.toISOString?U7:Pi(td),Mv=V7;function H7(t){var e=new Date(t);return isNaN(e)?null:e}var W7=+new Date("2000-01-01T00:00:00.000Z")?H7:vs(td),Sv=W7;function X7(t){return new Date(t)}function j7(t){return t instanceof Date?+t:+new Date(+t)}function fc(t,e,n,r,i,o,a,s,f,u){var c=vi(),h=c.invert,l=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),d=u("%I %p"),x=u("%a %d"),v=u("%b %d"),b=u("%B"),y=u("%Y");function _(w){return(f(w)<w?p:s(w)<w?m:a(w)<w?g:o(w)<w?d:r(w)<w?i(w)<w?x:v:n(w)<w?b:y)(w)}return c.invert=function(w){return new Date(h(w))},c.domain=function(w){return arguments.length?l(Array.from(w,j7)):l().map(X7)},c.ticks=function(w){var E=l();return t(E[0],E[E.length-1],w??10)},c.tickFormat=function(w,E){return E==null?_:u(E)},c.nice=function(w){var E=l();return(!w||typeof w.range!="function")&&(w=e(E[0],E[E.length-1],w??10)),w?l(fs(E,w)):c},c.copy=function(){return xn(c,fc(t,e,n,r,i,o,a,s,f,u))},c}function ed(){return Tt.apply(fc(oc,ac,ge,zi,vn,bn,Ti,wi,ve,bs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nd(){return Tt.apply(fc(rc,ic,xe,Ri,_n,Ar,ki,Mi,ve,Pi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uc(){var t=0,e=1,n,r,i,o,a=qt,s=!1,f;function u(h){return h==null||isNaN(h=+h)?f:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(l){var p,m;return arguments.length?([p,m]=l,a=h(p,m),u):[a(0),a(1)]}}return u.range=c(Zt),u.rangeRound=c(hr),u.unknown=function(h){return arguments.length?(f=h,u):f},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Xn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cc(){var t=ue(uc()(qt));return t.copy=function(){return Xn(t,cc())},ke.apply(t,arguments)}function rd(){var t=us(uc()).domain([1,10]);return t.copy=function(){return Xn(t,rd()).base(t.base())},ke.apply(t,arguments)}function id(){var t=cs(uc());return t.copy=function(){return Xn(t,id()).constant(t.constant())},ke.apply(t,arguments)}function lc(){var t=ls(uc());return t.copy=function(){return Xn(t,lc()).exponent(t.exponent())},ke.apply(t,arguments)}function Tv(){return lc.apply(null,arguments).exponent(.5)}function hc(){var t=[],e=qt;function n(r){if(r!=null&&!isNaN(r=+r))return e((ce(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(at),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>nn(t,o/r))},n.copy=function(){return hc(e).domain(t)},ke.apply(n,arguments)}function pc(){var t=0,e=.5,n=1,r=1,i,o,a,s,f,u=qt,c,h=!1,l;function p(g){return isNaN(g=+g)?l:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:f),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(d){var x,v,b;return arguments.length?([x,v,b]=d,u=ga(g,[x,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(Zt),p.rangeRound=m(hr),p.unknown=function(g){return arguments.length?(l=g,p):l},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function dc(){var t=ue(pc()(qt));return t.copy=function(){return Xn(t,dc())},ke.apply(t,arguments)}function od(){var t=us(pc()).domain([.1,1,10]);return t.copy=function(){return Xn(t,od()).base(t.base())},ke.apply(t,arguments)}function ad(){var t=cs(pc());return t.copy=function(){return Xn(t,ad()).constant(t.constant())},ke.apply(t,arguments)}function mc(){var t=ls(pc());return t.copy=function(){return Xn(t,mc()).exponent(t.exponent())},ke.apply(t,arguments)}function kv(){return mc.apply(null,arguments).exponent(.5)}function B(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var Av=B("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Ev=B("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var Cv=B("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var Nv=B("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var zv=B("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var Rv=B("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var Pv=B("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var Iv=B("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var Dv=B("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var qv=B("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Fv=B("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var X=t=>lf(t[t.length-1]);var sd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(B),$v=X(sd);var fd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(B),Ov=X(fd);var ud=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(B),Lv=X(ud);var cd=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(B),Bv=X(cd);var ld=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(B),Yv=X(ld);var hd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(B),Uv=X(hd);var pd=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(B),Vv=X(pd);var dd=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(B),Hv=X(dd);var md=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(B),Wv=X(md);var gd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(B),Xv=X(gd);var xd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(B),jv=X(xd);var yd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(B),Gv=X(yd);var bd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(B),Qv=X(bd);var vd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(B),Zv=X(vd);var _d=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(B),Kv=X(_d);var wd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(B),Jv=X(wd);var Md=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(B),t_=X(Md);var Sd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(B),e_=X(Sd);var Td=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(B),n_=X(Td);var kd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(B),r_=X(kd);var Ad=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(B),i_=X(Ad);var Ed=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(B),o_=X(Ed);var Cd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(B),a_=X(Cd);var Nd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(B),s_=X(Nd);var zd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(B),f_=X(zd);var Rd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(B),u_=X(Rd);var Pd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(B),c_=X(Pd);function l_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var h_=Gr(Qt(300,.5,0),Qt(-240,.5,1));var p_=Gr(Qt(-100,.75,.35),Qt(80,1.5,.8)),d_=Gr(Qt(260,.75,.35),Qt(80,1.5,.8)),gc=Qt();function m_(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return gc.h=360*t-100,gc.s=1.5-1.5*e,gc.l=.8-.9*e,gc+""}var xc=Pn(),G7=Math.PI/3,Q7=Math.PI*2/3;function g_(t){var e;return t=(.5-t)*Math.PI,xc.r=255*(e=Math.sin(t))*e,xc.g=255*(e=Math.sin(t+G7))*e,xc.b=255*(e=Math.sin(t+Q7))*e,xc+""}function x_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function yc(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var y_=yc(B("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),b_=yc(B("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),v_=yc(B("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),__=yc(B("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Q(t){return function(){return t}}var Id=Math.abs,Xt=Math.atan2,Xe=Math.cos,w_=Math.max,wn=Math.min,ee=Math.sin,it=Math.sqrt,Ut=1e-12,je=Math.PI,_s=je/2,Ae=2*je;function M_(t){return t>1?0:t<-1?je:Math.acos(t)}function Dd(t){return t>=1?_s:t<=-1?-_s:Math.asin(t)}function Mn(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qn(e)}function Z7(t){return t.innerRadius}function K7(t){return t.outerRadius}function J7(t){return t.startAngle}function t9(t){return t.endAngle}function e9(t){return t&&t.padAngle}function n9(t,e,n,r,i,o,a,s){var f=n-t,u=r-e,c=a-i,h=s-o,l=h*f-c*u;if(!(l*l<Ut))return l=(c*(e-o)-h*(t-i))/l,[t+l*f,e+l*u]}function bc(t,e,n,r,i,o,a){var s=t-n,f=e-r,u=(a?o:-o)/it(s*s+f*f),c=u*f,h=-u*s,l=t+c,p=e+h,m=n+c,g=r+h,d=(l+m)/2,x=(p+g)/2,v=m-l,b=g-p,y=v*v+b*b,_=i-o,w=l*g-m*p,E=(b<0?-1:1)*it(w_(0,_*_*y-w*w)),C=(w*b-v*E)/y,N=(-w*v-b*E)/y,k=(w*b+v*E)/y,S=(-w*v+b*E)/y,P=C-d,z=N-x,M=k-d,T=S-x;return P*P+z*z>M*M+T*T&&(C=k,N=S),{cx:C,cy:N,x01:-c,y01:-h,x11:C*(i/_-1),y11:N*(i/_-1)}}function S_(){var t=Z7,e=K7,n=Q(0),r=null,i=J7,o=t9,a=e9,s=null,f=Mn(u);function u(){var c,h,l=+t.apply(this,arguments),p=+e.apply(this,arguments),m=i.apply(this,arguments)-_s,g=o.apply(this,arguments)-_s,d=Id(g-m),x=g>m;if(s||(s=c=f()),p<l&&(h=p,p=l,l=h),!(p>Ut))s.moveTo(0,0);else if(d>Ae-Ut)s.moveTo(p*Xe(m),p*ee(m)),s.arc(0,0,p,m,g,!x),l>Ut&&(s.moveTo(l*Xe(g),l*ee(g)),s.arc(0,0,l,g,m,x));else{var v=m,b=g,y=m,_=g,w=d,E=d,C=a.apply(this,arguments)/2,N=C>Ut&&(r?+r.apply(this,arguments):it(l*l+p*p)),k=wn(Id(p-l)/2,+n.apply(this,arguments)),S=k,P=k,z,M;if(N>Ut){var T=Dd(N/l*ee(C)),A=Dd(N/p*ee(C));(w-=T*2)>Ut?(T*=x?1:-1,y+=T,_-=T):(w=0,y=_=(m+g)/2),(E-=A*2)>Ut?(A*=x?1:-1,v+=A,b-=A):(E=0,v=b=(m+g)/2)}var R=p*Xe(v),q=p*ee(v),I=l*Xe(_),Y=l*ee(_);if(k>Ut){var $=p*Xe(b),H=p*ee(b),j=l*Xe(y),tt=l*ee(y),et;if(d<je)if(et=n9(R,q,j,tt,$,H,I,Y)){var ct=R-et[0],ot=q-et[1],vt=$-et[0],U=H-et[1],K=1/ee(M_((ct*vt+ot*U)/(it(ct*ct+ot*ot)*it(vt*vt+U*U)))/2),rt=it(et[0]*et[0]+et[1]*et[1]);S=wn(k,(l-rt)/(K-1)),P=wn(k,(p-rt)/(K+1))}else S=P=0}E>Ut?P>Ut?(z=bc(j,tt,R,q,p,P,x),M=bc($,H,I,Y,p,P,x),s.moveTo(z.cx+z.x01,z.cy+z.y01),P<k?s.arc(z.cx,z.cy,P,Xt(z.y01,z.x01),Xt(M.y01,M.x01),!x):(s.arc(z.cx,z.cy,P,Xt(z.y01,z.x01),Xt(z.y11,z.x11),!x),s.arc(0,0,p,Xt(z.cy+z.y11,z.cx+z.x11),Xt(M.cy+M.y11,M.cx+M.x11),!x),s.arc(M.cx,M.cy,P,Xt(M.y11,M.x11),Xt(M.y01,M.x01),!x))):(s.moveTo(R,q),s.arc(0,0,p,v,b,!x)):s.moveTo(R,q),!(l>Ut)||!(w>Ut)?s.lineTo(I,Y):S>Ut?(z=bc(I,Y,$,H,l,-S,x),M=bc(R,q,j,tt,l,-S,x),s.lineTo(z.cx+z.x01,z.cy+z.y01),S<k?s.arc(z.cx,z.cy,S,Xt(z.y01,z.x01),Xt(M.y01,M.x01),!x):(s.arc(z.cx,z.cy,S,Xt(z.y01,z.x01),Xt(z.y11,z.x11),!x),s.arc(0,0,l,Xt(z.cy+z.y11,z.cx+z.x11),Xt(M.cy+M.y11,M.cx+M.x11),x),s.arc(M.cx,M.cy,S,Xt(M.y11,M.x11),Xt(M.y01,M.x01),!x))):s.arc(0,0,l,_,y,x)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-je/2;return[Xe(h)*c,ee(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Q(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Q(+c),u):e},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Q(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Q(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Q(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Q(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Q(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var T_=Array.prototype.slice;function Er(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k_(t){this._context=t}k_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cr(t){return new k_(t)}function zo(t){return t[0]}function Ro(t){return t[1]}function jn(t,e){var n=Q(!0),r=null,i=Cr,o=null,a=Mn(s);t=typeof t=="function"?t:t===void 0?zo:Q(t),e=typeof e=="function"?e:e===void 0?Ro:Q(e);function s(f){var u,c=(f=Er(f)).length,h,l=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(h=f[u],u,f))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,u,f),+e(h,u,f));if(p)return o=null,p+""||null}return s.x=function(f){return arguments.length?(t=typeof f=="function"?f:Q(+f),s):t},s.y=function(f){return arguments.length?(e=typeof f=="function"?f:Q(+f),s):e},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Q(!!f),s):n},s.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),s):i},s.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),s):r},s}function Po(t,e,n){var r=null,i=Q(!0),o=null,a=Cr,s=null,f=Mn(u);t=typeof t=="function"?t:t===void 0?zo:Q(+t),e=typeof e=="function"?e:e===void 0?Q(0):Q(+e),n=typeof n=="function"?n:n===void 0?Ro:Q(+n);function u(h){var l,p,m,g=(h=Er(h)).length,d,x=!1,v,b=new Array(g),y=new Array(g);for(o==null&&(s=a(v=f())),l=0;l<=g;++l){if(!(l<g&&i(d=h[l],l,h))===x)if(x=!x)p=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=l-1;m>=p;--m)s.point(b[m],y[m]);s.lineEnd(),s.areaEnd()}x&&(b[l]=+t(d,l,h),y[l]=+e(d,l,h),s.point(r?+r(d,l,h):b[l],n?+n(d,l,h):y[l]))}if(v)return s=null,v+""||null}function c(){return jn().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Q(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Q(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Q(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Q(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Q(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Q(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Q(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}function A_(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function E_(t){return t}function C_(){var t=E_,e=A_,n=null,r=Q(0),i=Q(Ae),o=Q(0);function a(s){var f,u=(s=Er(s)).length,c,h,l=0,p=new Array(u),m=new Array(u),g=+r.apply(this,arguments),d=Math.min(Ae,Math.max(-Ae,i.apply(this,arguments)-g)),x,v=Math.min(Math.abs(d)/u,o.apply(this,arguments)),b=v*(d<0?-1:1),y;for(f=0;f<u;++f)(y=m[p[f]=f]=+t(s[f],f,s))>0&&(l+=y);for(e!=null?p.sort(function(_,w){return e(m[_],m[w])}):n!=null&&p.sort(function(_,w){return n(s[_],s[w])}),f=0,h=l?(d-u*b)/l:0;f<u;++f,g=x)c=p[f],y=m[c],x=g+(y>0?y*h:0)+b,m[c]={data:s[c],index:f,value:y,startAngle:g,endAngle:x,padAngle:v};return m}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:Q(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,n=null,a):e},a.sort=function(s){return arguments.length?(n=s,e=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Q(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Q(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:Q(+s),a):o},a}var vc=Io(Cr);function N_(t){this._curve=t}N_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Io(t){function e(n){return new N_(t(n))}return e._curve=t,e}function Do(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Io(n)):e()._curve},t}function qd(){return Do(jn().curve(vc))}function Fd(){var t=Po().curve(vc),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Do(n())},delete t.lineX0,t.lineEndAngle=function(){return Do(r())},delete t.lineX1,t.lineInnerRadius=function(){return Do(i())},delete t.lineY0,t.lineOuterRadius=function(){return Do(o())},delete t.lineY1,t.curve=function(a){return arguments.length?e(Io(a)):e()._curve},t}function Ii(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var _c=class{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}},$d=class{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{let r=Ii(this._x0,this._y0),i=Ii(this._x0,this._y0=(this._y0+n)/2),o=Ii(e,this._y0),a=Ii(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=e,this._y0=n}};function wc(t){return new _c(t,!0)}function Mc(t){return new _c(t,!1)}function z_(t){return new $d(t)}function r9(t){return t.source}function i9(t){return t.target}function ws(t){let e=r9,n=i9,r=zo,i=Ro,o=null,a=null,s=Mn(f);function f(){let u,c=T_.call(arguments),h=e.apply(this,c),l=n.apply(this,c);if(o==null&&(a=t(u=s())),a.lineStart(),c[0]=h,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=l,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return f.source=function(u){return arguments.length?(e=u,f):e},f.target=function(u){return arguments.length?(n=u,f):n},f.x=function(u){return arguments.length?(r=typeof u=="function"?u:Q(+u),f):r},f.y=function(u){return arguments.length?(i=typeof u=="function"?u:Q(+u),f):i},f.context=function(u){return arguments.length?(u==null?o=a=null:a=t(o=u),f):o},f}function R_(){return ws(wc)}function P_(){return ws(Mc)}function I_(){let t=ws(z_);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var o9=it(3),Sc={draw(t,e){let n=it(e+wn(e/28,.75))*.59436,r=n/2,i=r*o9;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}};var qo={draw(t,e){let n=it(e/je);t.moveTo(n,0),t.arc(0,0,n,0,Ae)}};var Tc={draw(t,e){let n=it(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var D_=it(1/3),a9=D_*2,kc={draw(t,e){let n=it(e/a9),r=n*D_;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var Ac={draw(t,e){let n=it(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}};var Ec={draw(t,e){let n=it(e-wn(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}};var Cc={draw(t,e){let n=it(e),r=-n/2;t.rect(r,r,n,n)}};var Nc={draw(t,e){let n=it(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};var s9=.8908130915292852,q_=ee(je/10)/ee(7*je/10),f9=ee(Ae/10)*q_,u9=-Xe(Ae/10)*q_,zc={draw(t,e){let n=it(e*s9),r=f9*n,i=u9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){let a=Ae*o/5,s=Xe(a),f=ee(a);t.lineTo(f*n,-s*n),t.lineTo(s*r-f*i,f*r+s*i)}t.closePath()}};var Od=it(3),Rc={draw(t,e){let n=-it(e/(Od*3));t.moveTo(0,n*2),t.lineTo(-Od*n,-n),t.lineTo(Od*n,-n),t.closePath()}};var c9=it(3),Pc={draw(t,e){let n=it(e)*.6824,r=n/2,i=n*c9/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};var Ee=-.5,Ce=it(3)/2,Ld=1/it(12),l9=(Ld/2+1)*3,Ic={draw(t,e){let n=it(e/l9),r=n/2,i=n*Ld,o=r,a=n*Ld+n,s=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,f),t.lineTo(Ee*r-Ce*i,Ce*r+Ee*i),t.lineTo(Ee*o-Ce*a,Ce*o+Ee*a),t.lineTo(Ee*s-Ce*f,Ce*s+Ee*f),t.lineTo(Ee*r+Ce*i,Ee*i-Ce*r),t.lineTo(Ee*o+Ce*a,Ee*a-Ce*o),t.lineTo(Ee*s+Ce*f,Ee*f-Ce*s),t.closePath()}};var Ms={draw(t,e){let n=it(e-wn(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};var Bd=[qo,Tc,kc,Cc,zc,Rc,Ic],F_=[qo,Ec,Ms,Pc,Sc,Nc,Ac];function Yd(t,e){let n=null,r=Mn(i);t=typeof t=="function"?t:Q(t||qo),e=typeof e=="function"?e:Q(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Q(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Q(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ne(){}function Fo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ss(t){this._context=t}Ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Dc(t){return new Ss(t)}function $_(t){this._context=t}$_.prototype={areaStart:Ne,areaEnd:Ne,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O_(t){return new $_(t)}function L_(t){this._context=t}L_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function B_(t){return new L_(t)}function Y_(t,e){this._basis=new Ss(t),this._beta=e}Y_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,s=-1,f;++s<=n;)f=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+f*o),this._beta*e[s]+(1-this._beta)*(i+f*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var U_=function t(e){function n(r){return e===1?new Ss(r):new Y_(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function $o(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function qc(t,e){this._context=t,this._k=(1-e)/6}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$o(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:$o(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var V_=function t(e){function n(r){return new qc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Fc(t,e){this._context=t,this._k=(1-e)/6}Fc.prototype={areaStart:Ne,areaEnd:Ne,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:$o(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var H_=function t(e){function n(r){return new Fc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function $c(t,e){this._context=t,this._k=(1-e)/6}$c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$o(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var W_=function t(e){function n(r){return new $c(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Ts(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Ut){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Ut){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function X_(t,e){this._context=t,this._alpha=e}X_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ts(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var j_=function t(e){function n(r){return e?new X_(r,e):new qc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function G_(t,e){this._context=t,this._alpha=e}G_.prototype={areaStart:Ne,areaEnd:Ne,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ts(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Q_=function t(e){function n(r){return e?new G_(r,e):new Fc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Z_(t,e){this._context=t,this._alpha=e}Z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ts(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var K_=function t(e){function n(r){return e?new Z_(r,e):new $c(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function J_(t){this._context=t}J_.prototype={areaStart:Ne,areaEnd:Ne,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tw(t){return new J_(t)}function ew(t){return t<0?-1:1}function nw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ew(o)+ew(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function rw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ud(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Oc(t){this._context=t}Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ud(this,this._t0,rw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ud(this,rw(this,n=nw(this,t,e)),n);break;default:Ud(this,this._t0,n=nw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function iw(t){this._context=new ow(t)}(iw.prototype=Object.create(Oc.prototype)).point=function(t,e){Oc.prototype.point.call(this,e,t)};function ow(t){this._context=t}ow.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function aw(t){return new Oc(t)}function sw(t){return new iw(t)}function uw(t){this._context=t}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fw(t),i=fw(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fw(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function cw(t){return new uw(t)}function Lc(t,e){this._context=t,this._t=e}Lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Bc(t){return new Lc(t,.5)}function lw(t){return new Lc(t,0)}function hw(t){return new Lc(t,1)}function Ge(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qe(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function h9(t,e){return t[e]}function p9(t){let e=[];return e.key=t,e}function pw(){var t=Q([]),e=Qe,n=Ge,r=h9;function i(o){var a=Array.from(t.apply(this,arguments),p9),s,f=a.length,u=-1,c;for(let h of o)for(s=0,++u;s<f;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,c=Er(e(a));s<f;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Q(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Q(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Qe:typeof o=="function"?o:Q(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ge,i):n},i}function dw(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ge(t,e)}}function mw(t,e){if((f=t.length)>0)for(var n,r=0,i,o,a,s,f,u=t[e[0]].length;r<u;++r)for(a=s=0,n=0;n<f;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function gw(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ge(t,e)}}function xw(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,f=0,u=0;s<a;++s){for(var c=t[e[s]],h=c[r][1]||0,l=c[r-1][1]||0,p=(h-l)/2,m=0;m<s;++m){var g=t[e[m]],d=g[r][1]||0,x=g[r-1][1]||0;p+=d-x}f+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,f&&(n-=u/f)}i[r-1][1]+=i[r-1][0]=n,Ge(t,e)}}function Yc(t){var e=t.map(d9);return Qe(t).sort(function(n,r){return e[n]-e[r]})}function d9(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function Uc(t){var e=t.map(Vd);return Qe(t).sort(function(n,r){return e[n]-e[r]})}function Vd(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function yw(t){return Uc(t).reverse()}function bw(t){var e=t.length,n,r,i=t.map(Vd),o=Yc(t),a=0,s=0,f=[],u=[];for(n=0;n<e;++n)r=o[n],a<s?(a+=i[r],f.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(f)}function vw(t){return Qe(t).reverse()}var ks=t=>()=>t;function Hd(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ze(t,e,n){this.k=t,this.x=e,this.y=n}ze.prototype={constructor:ze,scale:function(t){return t===1?this:new ze(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ze(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gn=new ze(1,0,0);Vc.prototype=ze.prototype;function Vc(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Gn;return t.__zoom}function Hc(t){t.stopImmediatePropagation()}function Oo(t){t.preventDefault(),t.stopImmediatePropagation()}function m9(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function g9(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _w(){return this.__zoom||Gn}function x9(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function y9(){return navigator.maxTouchPoints||"ontouchstart"in this}function b9(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Wc(){var t=m9,e=g9,n=b9,r=x9,i=y9,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,f=bf,u=Me("start","zoom","end"),c,h,l,p=500,m=150,g=0,d=10;function x(M){M.property("__zoom",_w).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",S).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(M,T,A,R){var q=M.selection?M.selection():M;q.property("__zoom",_w),M!==q?_(M,T,A,R):q.interrupt().each(function(){w(this,arguments).event(R).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},x.scaleBy=function(M,T,A,R){x.scaleTo(M,function(){var q=this.__zoom.k,I=typeof T=="function"?T.apply(this,arguments):T;return q*I},A,R)},x.scaleTo=function(M,T,A,R){x.transform(M,function(){var q=e.apply(this,arguments),I=this.__zoom,Y=A==null?y(q):typeof A=="function"?A.apply(this,arguments):A,$=I.invert(Y),H=typeof T=="function"?T.apply(this,arguments):T;return n(b(v(I,H),Y,$),q,a)},A,R)},x.translateBy=function(M,T,A,R){x.transform(M,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof A=="function"?A.apply(this,arguments):A),e.apply(this,arguments),a)},null,R)},x.translateTo=function(M,T,A,R,q){x.transform(M,function(){var I=e.apply(this,arguments),Y=this.__zoom,$=R==null?y(I):typeof R=="function"?R.apply(this,arguments):R;return n(Gn.translate($[0],$[1]).scale(Y.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof A=="function"?-A.apply(this,arguments):-A),I,a)},R,q)};function v(M,T){return T=Math.max(o[0],Math.min(o[1],T)),T===M.k?M:new ze(T,M.x,M.y)}function b(M,T,A){var R=T[0]-A[0]*M.k,q=T[1]-A[1]*M.k;return R===M.x&&q===M.y?M:new ze(M.k,R,q)}function y(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function _(M,T,A,R){M.on("start.zoom",function(){w(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(R).end()}).tween("zoom",function(){var q=this,I=arguments,Y=w(q,I).event(R),$=e.apply(q,I),H=A==null?y($):typeof A=="function"?A.apply(q,I):A,j=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),tt=q.__zoom,et=typeof T=="function"?T.apply(q,I):T,ct=f(tt.invert(H).concat(j/tt.k),et.invert(H).concat(j/et.k));return function(ot){if(ot===1)ot=et;else{var vt=ct(ot),U=j/vt[2];ot=new ze(U,H[0]-vt[0]*U,H[1]-vt[1]*U)}Y.zoom(null,ot)}})}function w(M,T,A){return!A&&M.__zooming||new E(M,T)}function E(M,T){this.that=M,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,T),this.taps=0}E.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,T){return this.mouse&&M!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var T=nt(this.that).datum();u.call(M,this.that,new Hd(M,{sourceEvent:this.sourceEvent,target:x,type:M,transform:this.that.__zoom,dispatch:u}),T)}};function C(M,...T){if(!t.apply(this,arguments))return;var A=w(this,T).event(M),R=this.__zoom,q=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),I=$t(M);if(A.wheel)(A.mouse[0][0]!==I[0]||A.mouse[0][1]!==I[1])&&(A.mouse[1]=R.invert(A.mouse[0]=I)),clearTimeout(A.wheel);else{if(R.k===q)return;A.mouse=[I,R.invert(I)],Le(this),A.start()}Oo(M),A.wheel=setTimeout(Y,m),A.zoom("mouse",n(b(v(R,q),A.mouse[0],A.mouse[1]),A.extent,a));function Y(){A.wheel=null,A.end()}}function N(M,...T){if(l||!t.apply(this,arguments))return;var A=M.currentTarget,R=w(this,T,!0).event(M),q=nt(M.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",j,!0),I=$t(M,A),Y=M.clientX,$=M.clientY;or(M.view),Hc(M),R.mouse=[I,this.__zoom.invert(I)],Le(this),R.start();function H(tt){if(Oo(tt),!R.moved){var et=tt.clientX-Y,ct=tt.clientY-$;R.moved=et*et+ct*ct>g}R.event(tt).zoom("mouse",n(b(R.that.__zoom,R.mouse[0]=$t(tt,A),R.mouse[1]),R.extent,a))}function j(tt){q.on("mousemove.zoom mouseup.zoom",null),ar(tt.view,R.moved),Oo(tt),R.event(tt).end()}}function k(M,...T){if(t.apply(this,arguments)){var A=this.__zoom,R=$t(M.changedTouches?M.changedTouches[0]:M,this),q=A.invert(R),I=A.k*(M.shiftKey?.5:2),Y=n(b(v(A,I),R,q),e.apply(this,T),a);Oo(M),s>0?nt(this).transition().duration(s).call(_,Y,R,M):nt(this).call(x.transform,Y,R,M)}}function S(M,...T){if(t.apply(this,arguments)){var A=M.touches,R=A.length,q=w(this,T,M.changedTouches.length===R).event(M),I,Y,$,H;for(Hc(M),Y=0;Y<R;++Y)$=A[Y],H=$t($,this),H=[H,this.__zoom.invert(H),$.identifier],q.touch0?!q.touch1&&q.touch0[2]!==H[2]&&(q.touch1=H,q.taps=0):(q.touch0=H,I=!0,q.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(q.taps<2&&(h=H[0],c=setTimeout(function(){c=null},p)),Le(this),q.start())}}function P(M,...T){if(this.__zooming){var A=w(this,T).event(M),R=M.changedTouches,q=R.length,I,Y,$,H;for(Oo(M),I=0;I<q;++I)Y=R[I],$=$t(Y,this),A.touch0&&A.touch0[2]===Y.identifier?A.touch0[0]=$:A.touch1&&A.touch1[2]===Y.identifier&&(A.touch1[0]=$);if(Y=A.that.__zoom,A.touch1){var j=A.touch0[0],tt=A.touch0[1],et=A.touch1[0],ct=A.touch1[1],ot=(ot=et[0]-j[0])*ot+(ot=et[1]-j[1])*ot,vt=(vt=ct[0]-tt[0])*vt+(vt=ct[1]-tt[1])*vt;Y=v(Y,Math.sqrt(ot/vt)),$=[(j[0]+et[0])/2,(j[1]+et[1])/2],H=[(tt[0]+ct[0])/2,(tt[1]+ct[1])/2]}else if(A.touch0)$=A.touch0[0],H=A.touch0[1];else return;A.zoom("touch",n(b(Y,$,H),A.extent,a))}}function z(M,...T){if(this.__zooming){var A=w(this,T).event(M),R=M.changedTouches,q=R.length,I,Y;for(Hc(M),l&&clearTimeout(l),l=setTimeout(function(){l=null},p),I=0;I<q;++I)Y=R[I],A.touch0&&A.touch0[2]===Y.identifier?delete A.touch0:A.touch1&&A.touch1[2]===Y.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(Y=$t(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<d)){var $=nt(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return x.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:ks(+M),x):r},x.filter=function(M){return arguments.length?(t=typeof M=="function"?M:ks(!!M),x):t},x.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:ks(!!M),x):i},x.extent=function(M){return arguments.length?(e=typeof M=="function"?M:ks([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),x):e},x.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],x):[o[0],o[1]]},x.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(M){return arguments.length?(n=M,x):n},x.duration=function(M){return arguments.length?(s=+M,x):s},x.interpolate=function(M){return arguments.length?(f=M,x):f},x.on=function(){var M=u.on.apply(u,arguments);return M===u?x:M},x.clickDistance=function(M){return arguments.length?(g=(M=+M)*M,x):Math.sqrt(g)},x.tapDistance=function(M){return arguments.length?(d=+M,x):d},x}function Wd(t){switch(t){case"G":case"H":case"I":return"helix";case"E":case"B":return"sheet";case"T":return"turn";case"C":case"S":case"-":return"coil"}}var ww={helix:"M 1.2754258,8.4557039 C 1.6450449,8.4539683 2.0146596,6.4441581 2.3842743,4.23333 2.753889,2.0225118 3.123508,0.01270245 3.4931228,0.01096606 l 1.4784638,-3.35e-6 C 4.6019718,0.0126991 4.2323528,2.0225085 3.8627383,4.2333266 3.4931236,6.4441547 3.1235087,8.453965 2.7538898,8.4557004 Z",turn:"m 5 4 q 5 -4 4 -14 q 0 -7 7.9 -8.6 q 3.1 -0.4 7.2 0 q 6.9 1.6 6.9 8.6 q 0 10 3 14 c 2 2 -1 6 -4 3 q -4 -7 -4 -17 c 0 -5 -12 -5 -12 0 q 0 10 -5 17 c -3 3 -6 -1 -4 -3 z m 9 -9 c 2.2 -6 11.2 7 12 0 c -2.1 -6 -10.1 7 -12 0 z",sheet:"",coil:""};var Xd={clustalx:{A:"#7aa0ed",I:"#7aa0ed",L:"#7aa0ed",M:"#7aa0ed",F:"#7aa0ed",W:"#7aa0ed",V:"#7aa0ed",K:"#fa161d",R:"#fa161d",E:"#c649bd",D:"#c649bd",N:"#00c02e",Q:"#00c02e",S:"#00c02e",T:"#00c02e",C:"#f88082",G:"#f89051",P:"#c1c02d",H:"#00a4a3",Y:"#00a4a3",B:"#fff",X:"#fff",Z:"#fff","-":"#fff"},nucleotide:{A:"#45f752",C:"#ffb34f",G:"#f54142",T:"#2188ea",U:"#2188ea",X:"#fff"}};var jt=[];for(Xc=0;Xc<256;++Xc)jt.push((Xc+256).toString(16).slice(1));var Xc;function Mw(t,e=0){return(jt[t[e+0]]+jt[t[e+1]]+jt[t[e+2]]+jt[t[e+3]]+"-"+jt[t[e+4]]+jt[t[e+5]]+"-"+jt[t[e+6]]+jt[t[e+7]]+"-"+jt[t[e+8]]+jt[t[e+9]]+"-"+jt[t[e+10]]+jt[t[e+11]]+jt[t[e+12]]+jt[t[e+13]]+jt[t[e+14]]+jt[t[e+15]]).toLowerCase()}var jc,v9=new Uint8Array(16);function jd(){if(!jc&&(jc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jc(v9)}var _9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gd={randomUUID:_9};function w9(t,e,n){if(Gd.randomUUID&&!e&&!t)return Gd.randomUUID();t=t||{};var r=t.random||(t.rng||jd)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Mw(r)}var Gc=w9;var Re=(()=>{let e=class e{get div(){return this.root.nativeElement}get width(){return this.div.offsetWidth}get x1(){return this.margin.left}get x2(){return this.width-this.margin.right}set settings(r){let i=Ze(Ze({},this.settings),r);Qd(i),this.settings$.next(i)}get settings(){return this.settings$.value}get margin(){let{"margin-top":r,"margin-right":i,"margin-bottom":o,"margin-left":a}=this.settings;return{top:r,right:i,bottom:o,left:a}}getCoordinates(r,i){let o=Math.floor(this.scale.x.invert(r.offsetX)+.5),a=Math.round(this.scale.y(""+i));return[o,a]}constructor(){this.initialize$=new _e(1),this.settings$=new Cs({"margin-top":0,"margin-right":0,"margin-bottom":30,"margin-left":0,"background-color":"transparent","plot-background-color":"transparent","grid-line-color":"dimgray","text-color":"black","content-size":0,"line-height":0}),this.initialized$=this.initialize$.pipe(Nt(r=>this.root=r),Mt(()=>{let r=Zs("svg"),i=r.node();if(i)this.div.append(i);else throw new Error("Could not create SVG node");return r}),Nt(r=>this.svg=r),Nt(r=>{let i=""+Gc(),o=""+Gc(),a=r.append("defs");this.clip=a.append("clipPath").attr("id",i).append("rect"),a.append("mask").attr("id",o).append("rect").attr("width","100%").attr("height","100%").attr("fill","white"),this.mask=r.select("mask").append("rect"),r.append("rect").attr("id","background").attr("class","background").attr("width","100%").attr("height","100%").attr("mask",`url(#${o})`),r.append("rect").attr("id","plot-background").attr("width","100%").attr("height","100%").attr("clip-path",`url(${"#"+i})`),this.focus=r.append("g").attr("class","focus"),this.draw=this.focus.append("g").attr("class","features").attr("clip-path",`url(${"#"+i})`),this.zoom=Wc(),this.events=this.focus.append("rect").attr("class","zoom").style("fill","none").style("pointer-events","all").lower(),this.focus.call(this.zoom).on("dblclick.zoom",()=>this.zoom.scaleTo(this.focus,1)),this.focusMousedown=this.focus.on("mousedown.zoom"),this.focus.on("mousedown.zoom",null),this.brush=Df(),this.shadow=this.draw.append("rect").attr("id","shadow").attr("fill","black").attr("fill-opacity",.15).attr("height","100%").data([{trace:void 0,feature:void 0,range:void 0}]),this.hoverCircleMarker=this.svg.append("circle").attr("class","hover-circle-marker").attr("r",4).attr("fill","none").attr("fill-opacity",1)}),Nt(r=>{let i=r.append("g").attr("class","x axis"),o=r.append("g").attr("class","y axis");this.axes={x:i,y:o}}),Nt(()=>this.scale={x:Co(),y:Sr()}),Ke(1)),this.settingsSubscription=Ho([this.initialized$,this.settings$]).pipe(Nt(([,r])=>{this.svg.select("#background").attr("fill",r["background-color"]),this.svg.select("#plot-background").attr("fill",r["plot-background-color"])})).subscribe()}ngOnDestroy(){this.settingsSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Qd(t){t&&(t["line-height"]&&t["line-height"]<0&&(console.warn("Line height cannot be negative, setting to 32"),t["line-height"]=32),t["content-size"]&&t["content-size"]<0&&(console.warn("Content size cannot be negative, setting to 16"),t["content-size"]=16),t["content-size"]&&t["line-height"]&&t["content-size"]>t["line-height"]&&(console.warn("Content size cannot be bigger than line height, setting to line height"),t["content-size"]=t["line-height"]),t["margin-top"]&&t["margin-top"]<0&&(console.warn("Margin top cannot be negative, setting to 0"),t["margin-top"]=0),t["margin-bottom"]&&t["margin-bottom"]<0&&(console.warn("Margin bottom cannot be negative, setting to 0"),t["margin-bottom"]=0))}var Bo=(()=>{let e=class e{constructor(){this.traceMap=new Map,this.tracesNoNesting$=new Cs([]),this._parent=new Map,this._children=new Map}globalMinMax(r){let i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(let a of r.features)if(a.type==="continuous"&&(i=Math.min(i,a.min!==void 0?a.min:Math.min(...a.values)),o=Math.max(o,a.max!==void 0?a.max:Math.max(...a.values))),r.options?.["zero-line"]&&(i=Math.min(i,0),o=Math.max(o,0)),r.options?.grid&&r.options["grid-y-values"])for(let s of r.options["grid-y-values"])i=Math.min(i,s),o=Math.max(o,s);return i===0&&o===0&&(i=-1,o=1),{min:i,max:o}}set traces(r){let i=0,o=(a,s)=>a.map(f=>{let p=f,{nested:u}=p,c=t0(p,["nested"]);Qd(c.options),this.checkValues(c);let h=this.globalMinMax(c),l=zr(Ze({},c),{id:i++,expanded:(f.expanded||!1)&&(f.nested?.length||0)>0,show:s===0,domain:h,level:s});return this.traceMap.set(l.id,l),l.nested=o(u||[],s+1),l.features=l.features.sort((m,g)=>m.type==="continuous"&&g.type!=="continuous"?1:m.type!=="continuous"&&g.type==="continuous"?-1:0),l.nested.forEach(m=>{this._parent.set(m,l.id),this._children.set(l,[...this._children.get(l)||[],m.id])}),l});o(r,0),this.tracesNoNesting$.next(Array.from(this.traceMap.values()));for(let a of this.tracesNoNesting$.value)if(a.expanded){a.show=!0;let s=this.getBranchParents(a);for(let u of s)u.show=!0,u.expanded=!0;let f=this.getChildren(a);for(let u of f)u.show=!0}}get traces(){return this.tracesNoNesting$.value.filter(r=>r.show)}get features(){let r=this.traces,i=new Map;for(let o of r.values())for(let[a,s]of Object.entries(o.features))i.set(`trace-${o.id}-feature-${a}`,s);return i}getTrace(r){return this.traceMap.get(r)}getParentTrace(r){let i=this._parent.get(r);return i!==void 0?this.getTrace(i):void 0}getBranch(r){let i=[],o=[r];for(;o.length>0;){let a=o.pop();i.push(a),o.push(...this.getChildren(a))}return i}getBranchParents(r){let i=[],o=[r];for(;o.length>0;){let a=o.pop();i.push(a);let s=this.getParentTrace(a);s&&o.push(s)}return i.shift(),i}getChildren(r){return(this._children.get(r)||[]).map(o=>this.getTrace(o))}checkValues(r){for(let i of r.features)i.type==="locus"&&(i.start<0&&(console.warn("Locus start cannot be negative, setting to 0"),i.start=0),i.end<0&&(console.warn("Locus end cannot be negative, setting to 0"),i.end=0),i.height&&(i.height<0&&(console.warn("Locus height cannot be negative, setting to 1"),i.height=1),r.options?.["content-size"]&&i.height>r.options["content-size"]&&(console.warn("Locus height cannot be bigger than content size, setting to content size"),i.height=r.options["content-size"])))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Yo=(()=>{let e=class e{set tooltip(r){this._tooltip=nt(r)}get tooltip(){return this._tooltip.node()}constructor(r){this.initializeService=r,this.tooltip$=new _e}getTooltipSize(r){let i=r.node()?.clientWidth||0,o=r.node()?.clientHeight||0;return{width:i,height:o}}setTooltipPosition(r){let i=this._tooltip,{width:o,height:a}=this.getTooltipSize(i),s=10,f=10;r.clientX+s+o>window.innerWidth&&(s=-o-10),r.clientY+f+a>window.innerHeight&&(f=-a-10),i.style("transform",`translate(${r.clientX+s}px, ${r.clientY+f}px)`)}onMouseEnter(r,i,o,a){let s=this._tooltip,f=this.initializeService.getCoordinates(r,i.id);this.tooltip$.next({trace:i,feature:o,index:a,coordinates:f}),s.style("opacity","1"),s.style("visibility","visible"),this.setTooltipPosition(r)}onMouseMove(r,i,o,a){if(o&&o.type==="continuous"){let s=this.initializeService.getCoordinates(r,i.id);this.tooltip$.next({trace:i,feature:o,index:a,coordinates:s})}this.setTooltipPosition(r)}onMouseLeave(){let r=this._tooltip;r.style("opacity","0"),r.style("visibility","hidden"),this.tooltip$.next(null)}};e.\u0275fac=function(i){return new(i||e)(tn(Re))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Prt=parseFloat(getComputedStyle(document.documentElement).fontSize),kw=t=>t.id,M9=t=>t.map(e=>e.id).join("-"),Zd=new Set,Qc=(()=>{let e=class e{constructor(r,i,o){this.initializeService=r,this.featuresService=i,this.tooltipService=o,this.traces$=new _e(1),this.sequence$=new _e(1),this.selectedFeatureEmit$=new a0,this.sequenceCharWidth=0,this.featureLabelCharWidth=0,this.coilPoints=new Map,this.draw$=Ho([this.initializeService.initialized$,this.sequence$]).pipe(Nt(([,a])=>{let s=this.initializeService.scale.x,f=[0,a.length+1];s.domain(f)}),Nt(()=>this.calculateCharWidth()),Mt(([,a])=>this.createSequence(a)),Nt(()=>this.createBrush()),Nt(()=>this.createTooltip()),Ke(1),Je(()=>this.traces$),Nt(a=>this.updateScale(a)),Nt(a=>this.setLabelsPosition(a)),Nt(a=>this.createGrid(a)),Nt(a=>this.createTraces(a)),Ke(1)),this.drawn$=Ho([this.draw$,this.initializeService.settings$]).pipe(Nt(()=>this.updateSequence()),Nt(()=>this.updateGrid()),Mt(()=>this.updateTraces()),Mt(()=>this.updateShadowPosition())),this.selectedFeature$=this.selectedFeatureEmit$.pipe(n0(300),Nt(a=>{a?this.setSelectionShadow(a):this.removeSelectionShadow()}),Ke(1))}calculateCharWidth(){let r=this.initializeService.settings,i=this.initializeService.draw.append("text").attr("class","sequence").text("A"),o=i.node().getBBox();this.sequenceCharWidth=o.width,i.remove();let a=this.initializeService.draw.append("text").attr("class","feature").text("A"),s=a.node().getBBox();this.featureLabelCharWidth=s.width,a.remove();let f=this.initializeService.draw.append("text").attr("class","tick").text("A"),c=f.node().getBBox().height;if(f.remove(),r["x-axis-show"]!==!1){let h=this.initializeService.settings;h["margin-bottom"]=Math.max(h["margin-bottom"],c+6)}}updateScale(r){let i=this.initializeService.axes,o=this.initializeService.scale,a=this.initializeService.sequence,s=this.initializeService.settings,f=["sequence",...r.map(({id:l})=>l+"")],u=[s["margin-top"]];(Array.isArray(a)||typeof a=="string")&&s["sequence-show"]!=!1?u.push(s["margin-top"]+s["line-height"]):u.push(s["margin-top"]);let h=r[0].options?.["margin-top"]||0;u[1]+=h;for(let l=1;l<f.length;l++){let p=this.featuresService.getTrace(+f[l]),m=this.featuresService.getTrace(+f[l+1]),g=u[u.length-1],d=p?.options?.["margin-bottom"]||0,x=p?.options?.["line-height"]||s["line-height"],v=m?.options?.["margin-top"]||0;u.push(g+d+v+x)}o.y.domain(f).range(u),i.x.attr("transform",`translate(0, ${u[u.length-1]})`),s["x-axis-show"]===!1&&i.x.style("display","none")}createTooltip(){this.tooltip=this.tooltipService._tooltip}createSequence(r){let i=this.initializeService.draw.selectAll("g.sequence").data([r]).join("g").attr("class","sequence");this["group.residues"]=i.append("g").attr("class","residues"),this["group.dots"]=i.append("g").attr("class","dots")}updateSequence(){let r=this.initializeService.sequence,i=this.initializeService.settings,o=S9(r);if(o.length===0||i["sequence-show"]===!1)return;let{x:a,y:s}=this.initializeService.scale,f=this.initializeService.settings["line-height"],u=this.initializeService.settings["content-size"],c=a(1)-a(0),h=this.sequenceCharWidth,l=this["group.residues"],p=this["group.dots"],m=a.domain()[0],g=a.domain()[1];if(h+.5>c){l.selectAll("*").remove();let x=g-m,b=x*c/h/2,y=x/b+1,_=pe(m,g,y).map(w=>a(w+y/2));p.selectAll("text.dot").data(_).join("text").attr("class","dot").text(".").attr("x",w=>w).attr("y",s("sequence")+f/2).attr("width",h).attr("height",f).attr("dominant-baseline","central").style("text-anchor","middle")}else{this["group.dots"].selectAll("*").remove();let x=Math.floor(m+.5),v=Math.min(Math.ceil(g),o.length),b=o.slice(Math.max(0,x-1),v);if(i["sequence-background-color"]){let y=E=>Xd[i["sequence-background-color"]][E]||Xd[i["sequence-background-color"]].X,_,w=s("sequence");switch(i["sequence-background-height"]){case"100%":_="100%";break;case"content-size":_=u,w+=(f-u)/2;break;case"line-height":_=f;break;default:_=u}l.selectAll("rect.residue").data(b).join("rect").attr("class","residue").attr("x",(E,C)=>a(C+x-.5)).attr("y",w).attr("width",c).attr("height",_).attr("fill",y).attr("fill-opacity",i["sequence-background-opacity"]||.5)}l.selectAll("text.residue").data(b).join("text").attr("class","residue").text(y=>""+y).attr("x",(y,_)=>a(_+x)).attr("y",s("sequence")+f/2).attr("dominant-baseline","central").style("text-anchor","middle")}let d=i["text-color"];l.selectAll("text.residue").attr("fill",d),p.selectAll("text.dot").attr("fill",d)}createBrush(){this.initializeService.brushRegion=this.initializeService.draw.append("g").attr("class","brush")}setSelectionShadow(r){let i=this.initializeService.scale,[o,a]=[r.range.start,r.range.end];this.initializeService.shadow.data([r]).attr("x",i.x(o)).attr("width",i.x(a)-i.x(o))}removeSelectionShadow(){this.initializeService.shadow.data([{trace:void 0,feature:void 0,range:void 0}]).attr("x",0).attr("width",0)}setLabelsPosition(r){let i=this.initializeService.scale.y,{left:o,right:a}=this.initializeService.margin,s=this.initializeService.settings;for(let f of r){let u=""+f.id;for(let c of["left","right"]){let h=this.initializeService.div.querySelector(`div#label-${c}-`+u);h&&(h.classList.add("label"),c==="left"?(h.style.left="0px",h.style.width=`${o}px`):(h.style.right="0px",h.style.width=`${a}px`),h.style.top=i(u)+"px",h.style.display="block",h.style.height=(f.options?.["line-height"]||s["line-height"])+"px")}}}hideLabels(r){let i=r.id;for(let o of["left","right"]){let a=this.initializeService.div.querySelector(`div#label-${o}-`+i);a&&(a.style.display="none")}}createGrid(r){let i=this.initializeService.focus.selectAll("g.grid").data([r],M9).join("g").attr("class","grid").lower();this["group.grid"]=i.selectAll("g.grid-line-group").data(r,kw).join("g").attr("id",o=>"grid-"+o.id).attr("class","grid-line-group").join("line"),this["group.grid"].each(o=>{o.options?.grid&&this["group.grid"].selectAll("line.grid-line").data(o.options?.["grid-y-values"]||[]).enter().append("line").attr("class","grid-line").style("shape-rendering","crispedges").attr("id",(a,s)=>"grid-line-"+s),o.options?.["zero-line"]&&this["group.grid"].selectAll("line.zero-line").data([!0]).enter().append("line").attr("class","zero-line").style("shape-rendering","crispedges").attr("id","zero-line")})}updateGrid(){let r=this["group.grid"],i=this.initializeService.scale.y,o=this.initializeService.settings,a=this.initializeService.x1,s=this.initializeService.x2;r.each(function(f){let u=nt(this),c=i(""+f.id),h=f.options?.["line-height"]||o["line-height"],l=f.options?.["content-size"]||o["content-size"],p=c+h/2+l/2,m=c+h/2-l/2;function g(d){return p+(d-f.domain.min)/(f.domain.max-f.domain.min)*(m-p)}u.selectAll("line.grid-line").data(f.options?.grid?f.options?.["grid-y-values"]||[]:[]).attr("x1",a).attr("x2",s).attr("y1",d=>g(d)).attr("y2",d=>g(d)).attr("stroke",f.options?.["grid-line-color"]||o["grid-line-color"]).attr("stroke-width",f.options?.["grid-line-width"]||1),u.selectAll("line.zero-line").data(f.options?.["zero-line"]?[!0]:[]).attr("x1",a).attr("x2",s).attr("y1",g(0)).attr("y2",g(0)).attr("stroke",f.options?.["zero-line-color"]||"black").attr("stroke-width",f.options?.["zero-line-width"]||1)})}createTraces(r){let i=this.initializeService.settings,o=this.tooltipService,a=this.initializeService,s=this.selectedFeatureEmit$,f=this.initializeService.scale,u=this.initializeService.hoverCircleMarker;this["group.traces"]=this.initializeService.draw.selectAll("g.trace").data(r,kw).join("g").attr("id",c=>"trace-"+c.id).attr("class","trace"),this["group.traces"].each(function(c){let l=nt(this).selectAll("g.feature").data(c.features);l.enter().append("g").attr("class",p=>"feature "+p.type).attr("id",(p,m)=>`trace-${c.id}-feature-${m}`).each(function(p,m){let g=nt(this);g.data([p]),g.on("mouseenter",v=>{o.onMouseEnter(v,c,p,m)}),g.on("mousemove",v=>{o.onMouseMove(v,c,p,m);let b=f.y(""+c.id),y=c.options?.["line-height"]||i["line-height"],_=c.options?.["content-size"]||i["content-size"],w=b+y/2+_/2,E=b+y/2-_/2;function C(N){return w+(N-c.domain.min)/(c.domain.max-c.domain.min)*(E-w)}if(p.type=="continuous"){let N=a.getCoordinates(v,c.id);u.attr("cx",f.x(N[0])).attr("cy",C(p.values[N[0]-1])).attr("display","block")}}),g.on("mouseleave",()=>{o.onMouseLeave(),u.attr("display","none")}),g.on("click",v=>T9(p,a,v,c,s));let d=(v,b,y)=>{let _=v.append(b);return Object.entries(y).forEach(([w,E])=>{_.attr(w,E)}),_},x=nt(this);if(p.type==="locus"){let v={stroke:p["stroke-color"]||"none","stroke-opacity":1,"stroke-width":p["stroke-width"]||0,fill:p.color||"white","fill-opacity":p.opacity||1,rx:4,ry:4};if(d(x,"rect",v),p.label){let b=p["text-color"]||i["text-color"];if(!b){let w=ur(Gt(p.color||"black"));b=Number.isNaN(w.l)||w.l>.5?"black":"white"}let _=d(x,"text",{"dominant-baseline":"central"});_.text(p.label),_.style("text-anchor","left")}}if(p.type==="continuous"){let v={stroke:p["stroke-color"]||p.color||"black","stroke-opacity":p.opacity||1,"stroke-width":p["stroke-width"]||1,fill:p.showArea?p.color||"black":"none","fill-opacity":p.opacity||1};d(x,"path",v)}if(p.type==="pin"){let v={stroke:p["stroke-color"]||"none","stroke-width":p["stroke-width"]||0,fill:p.color||"black","fill-opacity":p.opacity||1};d(x,"circle",v)}if(p.type==="poly"){let v={stroke:p["stroke-color"]||"black","stroke-opacity":p.opacity||1,"stroke-width":p["stroke-width"]||1,fill:p.color||"black","fill-opacity":p.opacity||1};d(x,"polygon",v)}if(p.type==="dssp"){let v=Wd(p.code);if(v=="sheet"){let b={class:"sheet",stroke:Gt(p.color||"white").darker(.5).formatHex(),"stroke-width":2,fill:p.color||"white","fill-opacity":p.opacity||.5};d(x,"polygon",b)}if(v=="coil"){let b=Math.min(16,Math.max(3,(c.options?.["content-size"]||i["content-size"])/8)),y={class:"coil",stroke:p.color||"black","stroke-opacity":p.opacity||.5,"stroke-width":b,"stroke-linecap":"square","stroke-dasharray":`${b}, ${b*1.5}`,fill:"none"};d(x,"path",y)}}}),l.exit().remove()})}updateTraces(){let r=this.initializeService.scale,i=this.initializeService.settings,o=this.coilPoints,a=this.featureLabelCharWidth;this.initializeService.hoverCircleMarker.attr("display","none"),this["group.traces"].each(function(s){nt(this).selectAll("g.feature").each(function(c,h){let{featureStart:l,featureEnd:p}=Aw(c),m=r.x.domain()[0],g=r.x.domain()[1],d=Math.max(l,m),x=Math.min(p,g);if(x<d){if(Zd.has(c))return;Zd.add(c)}Zd.delete(c);let v=r.y(""+s.id),b=s.options?.["line-height"]||i["line-height"],y=s.options?.["content-size"]||i["content-size"],_=v+b/2,w=_+y/2,E=_-y/2;function C(k){return w+(k-s.domain.min)/(s.domain.max-s.domain.min)*(E-w)}function N(k,S){return Math.random()*(S-k)+k}if(c.type==="locus"){let k=r.x(1)-r.x(0),S=r.x(c.end+.5)-r.x(c.start);if(c.height&&(E=E+(y-c.height)/2),nt(this).selectAll("rect").attr("x",P=>r.x(P.start-.5)).attr("y",E).attr("height",c.height!==void 0?c.height:y).attr("width",P=>k*(P.end-P.start+1)),c.label){let P=a*c.label.length;nt(this).selectAll("text").attr("x",r.x(c.start-.5)+4).attr("y",_).attr("opacity",P+8<S?1:0).attr("fill",c["text-color"]||i["text-color"])}}if(c.type==="continuous"){let k=c.values,S=k.map((M,T)=>[T+1,M]);S.unshift([0,S[0][1]]),S.push([k.length+.5,S[S.length-1][1]]);let P,z=Bc;c.curveType&&(z=Lo[c.curveType]),c.showArea?P=Po().curve(z).x(([M])=>r.x(M)).y1(([,M])=>C(M)).y0(w):P=jn().curve(z).x(([M])=>r.x(M)).y(([,M])=>C(M)),nt(this).select("path").attr("d",P(S))}if(c.type==="pin"){let k;c.adjustToWidth?k=Math.min(s.options?.["content-size"]||i["content-size"],r.x(1)-r.x(0))/2:k=c.radius||8,nt(this).selectAll("circle").attr("cx",S=>r.x(S.position)).attr("cy",_).attr("r",k)}if(c.type==="poly"){let k=c.sides||3,S;c.adjustToWidth?S=Math.min(s.options?.["content-size"]||i["content-size"],r.x(1)-r.x(0))/2:S=c.radius||8;let P=2*Math.PI/k,z=Math.PI/2-Math.PI/k,M=Array.from({length:k},(T,A)=>{let R=S*Math.cos(A*P+z),q=S*Math.sin(A*P+z);return[R+r.x(c.position),q+_]});nt(this).selectAll("polygon").attr("points",M.map(T=>T.join(",")).join(" "))}if(c.type==="dssp"){let k={helix:{bitWidth:.25,xScale:.5,yScale:.119,center:-4},turn:{bitWidth:.8,xScale:.033,yScale:.035,center:5.8},sheet:{bitWidth:4,xScale:0,yScale:0,center:0},coil:{bitWidth:.3,xScale:0,yScale:0,center:0}},S=Wd(c.code),P=ww[S],z=r.x(x)-r.x(d),M=z/(x-d),T=y*k[S].bitWidth,A=Math.floor(z/T+1),R=T/M,q=Array.from({length:A},($,H)=>d+H*R);q.length<2&&q.push(x);let I=T*k[S].xScale,Y=y*k[S].yScale;if((S=="helix"||S=="turn")&&(nt(this).selectAll("path").data(q).join($=>$.append("path").attr("class",S).attr("d",P).attr("stroke",Gt(c.color||"white").darker(.5).formatHex()).attr("stroke-width",S=="helix"?.1:.7).attr("fill",c.color||"black").attr("transform-origin","center center"),$=>$,$=>$.remove()).attr("fill-opacity",($,H)=>c.opacity!==void 0?H%2==0?c.opacity-.2:c.opacity:H%2==0?.5:.7).attr("transform",($,H)=>{let j=H%2==0?I:-1*I;return`translate(${r.x($)}, ${_+k[S].center}) scale(${j}, ${Y})`}),nt(this).attr("clip-path",`url(#clip-path-${s.id}-feature-${h})`).selectAll(`#clip-path-${s.id}-feature-${h}`).data([c]).join($=>$.append("defs").append("clipPath").attr("id",`clip-path-${s.id}-feature-${h}`).append("rect").attr("width",z).attr("height",y).attr("x",r.x(d)).attr("y",E),$=>$.select("rect").attr("width",z>0?z:0).attr("height",y).attr("x",r.x(d)).attr("y",E),$=>$.remove())),S=="sheet"){let $=y/2,H=z-$,j=y/2,tt=r.x(d),et=_-j/2,ct=y,ot=r.x(x)-$,vt=_-ct/2,K=[[tt,et],[tt+H,et],[tt+H,vt],[ot+$,vt+ct/2],[tt+H,vt+ct],[tt+H,et+j],[tt,et+j]].map(rt=>rt.join(",")).join(" ");nt(this).selectAll("polygon").attr("points",K)}if(S=="coil"){let $=`${s.id}-feature-${h}`;o.has($)||o.set($,[]);let H=jn().curve(Dc).x(([j])=>r.x(j)).y(([,j])=>C(j));nt(this).selectAll("path").attr("d",()=>{let j=o.get($),tt=q.length+1;for(let ct=j.length;ct<tt;ct++){let ot=N(s.domain.min,s.domain.max);j.splice(j.length-1,0,ot)}for(let ct=j.length-1;ct>=tt;ct--)j.splice(ct,1);j[0]=(s.domain.max+s.domain.min)/2,j[j.length-1]=(s.domain.max+s.domain.min)/2,o.set($,j);let et=q.map((ct,ot)=>[ct,j[ot]]);return et.push([x,j[j.length-1]]),H(et)})}}})})}updateShadowPosition(){let r=this.initializeService.shadow,i=this.initializeService.scale;if(r.datum().range){let a=r.datum();r.attr("x",i.x(a.range.start)).attr("width",i.x(a.range.end)-i.x(a.range.start))}}onLabelClick(r){r.expanded=!r.expanded;let i=this.featuresService.getBranch(r).slice(1);for(let o of i)r.expanded?o.level===r.level+1&&(o.show=!0):o.show=!1,o.expanded=!1;this.traces$.next(this.featuresService.tracesNoNesting$.value.filter(o=>o.show))}};e.\u0275fac=function(i){return new(i||e)(tn(Re),tn(Bo),tn(Yo))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function S9(t){let e=[];return Array.isArray(t)?e.push(...t):typeof t=="string"&&e.push(...t.split("")),e}function Aw(t){let e,n;switch(t.type){case"locus":e=t.start-.5,n=t.end+.5;break;case"dssp":e=t.start-.5,n=t.end+.5;break;case"continuous":e=.5,n=t.values.length+.5;break;case"pin":e=t.position-.5,n=t.position+.5;break;case"poly":e=t.position-.5,n=t.position+.5;break;default:e=0,n=10}return{featureStart:e,featureEnd:n}}function T9(t,e,n,r,i){let{featureStart:o,featureEnd:a}=Aw(t),s=e.getCoordinates(n,r.id);t.type==="continuous"&&(o=s[0]-.5,a=s[0]+.5);let f={trace:r,feature:t,range:{start:o,end:a}};i.next(f)}function Kd(t,e,n){t.attr("height",e.height).attr("width",e.width).attr("y",n.top).attr("x",n.left)}var Zc=(()=>{let e=class e{get svg(){return this.initializeService.svg}get div(){return this.initializeService.div}get height(){return this.div.offsetHeight}get width(){return this.div.offsetWidth}get margin(){return this.initializeService.margin}get scale(){return this.initializeService.scale}get axes(){return this.initializeService.axes}constructor(r){this.initializeService=r,this.resize$=new _e(1);let i=this.resize$.pipe(Mt(()=>({width:this.width,height:this.height})),Ns((o,a)=>o.width===a.width),Mt(()=>{}),zs(void 0));this.resized$=i.pipe(Mt(()=>this.updateRoot()),Mt(()=>this.updateDraw()),Mt(()=>this.updateAxes()),Mt(()=>this.updateRangeX()),Mt(()=>this.updateRangeY()))}updateRoot(){let{y:r}=this.scale,o=r.range().at(-1)+this.margin.bottom,a=this.width;this.svg.attr("height",o).attr("width",a)}updateDraw(){let r={width:0,height:0};r.height=this.height-this.margin.top-this.margin.bottom,r.width=this.width-this.margin.left-this.margin.right,Kd(this.initializeService.clip,r,this.margin),Kd(this.initializeService.mask,r,this.margin),Kd(this.initializeService.events,r,this.margin)}updateAxes(){this.axes.y.attr("transform",`translate(${this.margin.left}, 0)`)}updateRangeX(){let r=this.scale.x,i=this.width,{left:o,right:a}=this.margin;r.range([o,i-a])}updateRangeY(){}};e.\u0275fac=function(i){return new(i||e)(tn(Re))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Kc=(()=>{let e=class e{constructor(r){this.initService=r,this.zoom$=new _e(1),this.brush$=new _e(1);let o=this.initService.initialized$.pipe(Mt(()=>this._scale={x:this.initService.scale.x.copy(),y:this.initService.scale.y.copy()}),Ke(1)).pipe(Je(()=>this.zoom$),Ns((a,s)=>{let f=a.transform?.k===s.transform.k,u=a.transform?.x===s.transform.x,c=a.transform?.y===s.transform.y;return f&&u&&c}),Mt(a=>{let{x:s}=this._scale,{x:f}=this.initService.scale,u=a.transform.rescaleX(s),[c,h]=u.domain();return f.domain([c,h]),this.initService.scale}),zs(this.initService.scale));this._brush=this.initService.initialized$.pipe(Je(()=>this.brush$),Mt(a=>{let{x:s}=this._scale,{x:f}=this.initService.scale,u=eo().duration(300).ease(Cf),c=this.initService.focus.transition(u),h=this.initService.zoom.transform;if(!a)c.call(h,Gn);else{this.initService.brushRegion.call(this.initService.brush.move,null);let[l,p]=a.map(f.invert),m=(this.initService.sequence.length+1)/(p-l),g=-s(l)+this.initService.margin.left/m,d=Gn.scale(m).translate(g,0);c.call(h,d)}})).subscribe(),this.zoomed$=o.pipe(Mt(()=>{let a=this.initService.axes,s=this.initService.scale,f=s.x,[u,c]=f.domain();u<.5&&f.domain([.5,c]),c>this.initService.sequence.length+.5&&f.domain([u,this.initService.sequence.length+.5]);let h=s.x.ticks().filter(p=>Number.isInteger(p)&&p>=.5&&p<=this.initService.sequence.length);s.x.domain()[0]<1&&h.unshift(1);let l=Ws(s.x).tickValues(h).tickFormat($n(".0f"));a.x.call(l)}))}ngOnDestroy(){this._brush.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(tn(Re))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var N9=["root"],z9=["tooltip"],Ew=(t,e)=>e.id,Cw=t=>({trace:t});function R9(t,e){if(t&1){let n=Xo();Ie(0,"div",9),Rr("click",function(){let i=Di(n).$implicit,o=Vt(2);return qi(o.drawService.onLabelClick(i))})("keyup",function(){let i=Di(n).$implicit,o=Vt(2);return qi(o.drawService.onLabelClick(i))}),Wo(1,5),De()}if(t&2){let n=e.$implicit,r=Vt();nl("display",n.show?"block":"none"),Tn("id","label-left-"+n.id),Ft(),Tn("ngTemplateOutlet",r.templateRef)("ngTemplateOutletContext",al(5,Cw,n))}}function P9(t,e){if(t&1&&(rl(0,R9,2,7,"div",8,Ew),Pr(2,"async")),t&2){let n=Vt();il(Ir(2,0,n.featuresService.tracesNoNesting$))}}function I9(t,e){if(t&1&&(Ie(0,"div",10),Wo(1,5),De()),t&2){let n=e.$implicit,r=Vt();nl("display",n.show?"block":"none"),Tn("id","label-right-"+n.id),Ft(),Tn("ngTemplateOutlet",r.templateRef)("ngTemplateOutletContext",al(5,Cw,n))}}function D9(t,e){if(t&1&&(rl(0,I9,2,7,"div",8,Ew),Pr(2,"async")),t&2){let n=Vt();il(Ir(2,0,n.featuresService.tracesNoNesting$))}}function q9(t,e){if(t&1&&Wo(0,5),t&2){let n=Vt();Tn("ngTemplateOutlet",n.tooltipService.templateRef)("ngTemplateOutletContext",e)}}function F9(t,e){if(t&1&&(en(0),Kn(1,"br"),en(2),Kn(3,"br"),en(4),Kn(5,"br"),en(6),Kn(7,"br")),t&2){let n=e.trace,r=e.feature,i=e.index,o=e.coordinates;Jn(" Trace: ",n.id,""),Ft(2),Jn(" Feature: ",r.type,""),Ft(2),Jn(" Index: ",i,""),Ft(2),Is(" Coordinates: (",o[0],", ",o[1],")")}}function $9(t,e){t&1&&Wo(0)}var Jc=(()=>{let e=class e{constructor(r){this.templateRef=r,this.where="left"}};e.\u0275fac=function(i){return new(i||e)(Pe(el))},e.\u0275dir=tl({type:e,selectors:[["","ngx-features-viewer-label",""]],inputs:{where:"where"},standalone:!0});let t=e;return t})(),Uo=(()=>{let e=class e{constructor(r){this.templateRef=r}};e.\u0275fac=function(i){return new(i||e)(Pe(el))},e.\u0275dir=tl({type:e,selectors:[["","ngx-features-viewer-tooltip",""]],standalone:!0});let t=e;return t})(),Es=(()=>{let e=class e{set settings(r){this.initializeService.settings=r}set traces(r){this.featuresService.traces=r,this.drawService.traces$.next(this.featuresService.traces)}constructor(r,i,o,a,s,f){this.initializeService=r,this.featuresService=i,this.tooltipService=o,this.resizeService=a,this.zoomService=s,this.drawService=f,this.selectedFeature=this.drawService.selectedFeature$.pipe(Mt(u=>u?zr(Ze({},u),{range:{start:u.range.start+.5,end:u.range.end-.5}}):void 0)),this.sequence$=this.drawService.sequence$,this.update$=this.initializeService.initialized$.pipe(Je(()=>this.drawService.draw$),Je(()=>this.resizeService.resized$),Nt(()=>{let{top:u,left:c,right:h,bottom:l}=this.resizeService.margin,p=this.resizeService.height,m=this.resizeService.width,g=this.sequence.length+1;this.initializeService.zoom.translateExtent([[c,0],[m-h,p-l]]).scaleExtent([1,g/5]).extent([[c,0],[m-h,p-l]]).on("zoom",y=>{this.zoomService.zoom$.next(y)}),this.initializeService.brush.extent([[c,u],[m-h,p-l]]).on("brush",y=>this.adjustBrushToCells(y)).on("end",y=>this.brushRegion(y)),this.initializeService.brushRegion.call(this.initializeService.brush);let d=this.initializeService.focus,x=this.initializeService.brushRegion,v=this.initializeService.focusMousedown.bind(this.initializeService.focus.node());function b(y){let _=y.metaKey||y.shiftKey,w=y.type==="keydown"&&_;d.style("cursor",w?"grabbing":"auto").on("mousedown.zoom",w?v:()=>null),x.select(".overlay").style("pointer-events",w?"none":"all")}nt("body").on("keydown keyup",b.bind(this))}),Je(()=>this.zoomService.zoomed$),Je(()=>this.drawService.drawn$)),this._update=this.update$.subscribe()}ngOnChanges(r){r&&r.sequence&&(this.initializeService.sequence=this.sequence,this.sequence$.next(this.initializeService.sequence))}ngAfterContentInit(){this.labels&&this.labels.forEach(r=>{if(this.initializeService.labelLeft&&this.initializeService.labelRight)throw new Error("Only one label can be defined");r.where==="left"&&(this.initializeService.labelLeft=r),r.where==="right"&&(this.initializeService.labelRight=r)})}ngAfterViewInit(){let r=this.tooltipCustomDirective||this.tooltipDefaultDirective;this.initializeService.tooltip=r,this.tooltipService.templateRef=r.templateRef,this.tooltipService.tooltip=this.tooltipElementRef.nativeElement,this.initializeService.initialize$.next(this._root)}ngOnDestroy(){this._update.unsubscribe()}onResize(r){this.resizeService.resize$.next(r)}adjustBrushToCells(r){if(!r.sourceEvent)return;r.sourceEvent.shiftKey&&this.initializeService.brushRegion.select(".overlay").style("cursor","grabbing");let i=this.initializeService.scale.x,[o,a]=r.selection.map(i.invert);o=Math.max(1,Math.round(o)),a=Math.min(this.sequence.length,Math.round(a));let s=[o-.5,a+.5];this.initializeService.brushRegion.call(this.initializeService.brush.move,s.map(i))}brushRegion(r){if(r.sourceEvent){if(!r.selection&&r.sourceEvent.detail===1){this.drawService.selectedFeatureEmit$.next(void 0);return}if(r.selection){let i,o=this.initializeService.scale.x,[a,s]=r.selection.map(o.invert),f=Math.round(s-a),u=!1;for(;f<5;)a>1&&u&&(a-=1,f+=1),s<=this.sequence.length&&!u&&(s+=1,f+=1),u=!u;i=[a,s],i=i.map(o),this.zoomService.brush$.next(i)}}}};e.\u0275fac=function(i){return new(i||e)(Pe(Re),Pe(Bo),Pe(Yo),Pe(Zc),Pe(Kc),Pe(Qc))},e.\u0275cmp=Rs({type:e,selectors:[["ngx-features-viewer"]],contentQueries:function(i,o,a){if(i&1&&(ol(a,Uo,5),ol(a,Jc,4)),i&2){let s;Fi(s=$i())&&(o.tooltipCustomDirective=s.first),Fi(s=$i())&&(o.labels=s)}},viewQuery:function(i,o){if(i&1&&(Ps(N9,5),Ps(Uo,5),Ps(z9,5)),i&2){let a;Fi(a=$i())&&(o._root=a.first),Fi(a=$i())&&(o.tooltipDefaultDirective=a.first),Fi(a=$i())&&(o.tooltipElementRef=a.first)}},hostBindings:function(i,o){i&1&&Rr("resize",function(s){return o.onResize(s)},!1,s0)},inputs:{settings:"settings",traces:"traces",sequence:"sequence"},outputs:{selectedFeature:"selectedFeature"},standalone:!0,features:[u0([Re,Bo,Yo,Zc,Qc,Kc]),o0,Ds],decls:12,vars:8,consts:[["root",""],["tooltip",""],[2,"position","relative","display","block","width","100%","height","100%"],[1,"tooltip"],[2,"position","relative","display","block"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ngx-features-viewer-tooltip",""],[4,"ngIf"],["tabindex","0",3,"id","display"],["tabindex","0",3,"click","keyup","id"],["tabindex","0",3,"id"]],template:function(i,o){if(i&1&&(Ie(0,"div",2,0),Sn(2,P9,3,2)(3,D9,3,2),De(),Ie(4,"div",3,1)(6,"div",4),Sn(7,q9,1,2,"ng-container",5),Pr(8,"async"),De()(),Sn(9,F9,8,5,"ng-template",6)(10,$9,1,0,"ng-container",7),Pr(11,"async")),i&2){let a,s,f;Ft(2),Zn(2,(a=o.initializeService.labelLeft)?2:-1,a),Ft(),Zn(3,(s=o.initializeService.labelRight)?3:-1,s),Ft(4),Zn(7,(f=Ir(8,4,o.tooltipService.tooltip$))?7:-1,f),Ft(3),Tn("ngIf",Ir(11,6,o.drawService.selectedFeature$))}},dependencies:[Uo,Oi,c0,l0,qs],styles:[`ngx-features-viewer .label{position:absolute;overflow:hidden}ngx-features-viewer svg *{transform-box:fill-box}ngx-features-viewer :root{--overlay-cursor: crosshair;--feature-cursor: default;--feature-hover-color: none;--feature-hover-width: none;--locus-hover-border-radius: 0;--sequence-font-size: 16px;--feature-font-size: 16px;--x-axis-font-size: 16px;--feature-font-family: monospace;--sequence-font-family: monospace;--x-axis-font-family: monospace}ngx-features-viewer .brush .selection{stroke:#0b2ea2;stroke-width:1;fill:#4682b4;fill-opacity:.325;shape-rendering:crispEdges;display:block;height:100%}ngx-features-viewer g .feature{cursor:var(--feature-cursor);font-size:var(--feature-font-size);font-family:var(--feature-font-family),monospace}ngx-features-viewer g .feature>text{pointer-events:none}ngx-features-viewer g .feature.locus>rect:hover,ngx-features-viewer g .feature.pin>circle:hover,ngx-features-viewer g .feature.poly>polygon:hover{stroke:var(--feature-hover-color);stroke-width:var(--feature-hover-width)}ngx-features-viewer g .feature.dssp:hover>.sheet,ngx-features-viewer g .feature.dssp:hover>.turn{stroke:var(--feature-hover-color);stroke-width:var(--feature-hover-width)}ngx-features-viewer g .feature.dssp:hover>.helix{stroke:var(--feature-hover-color);stroke-width:.5}ngx-features-viewer g .feature.dssp:hover>.coil{filter:drop-shadow(0 2px var(--feature-hover-color))}ngx-features-viewer .hover-circle-marker{fill:var(--feature-hover-color)}ngx-features-viewer g .sequence{font-size:var(--sequence-font-size);font-family:var(--sequence-font-family),monospace}ngx-features-viewer g .tick{font-size:var(--x-axis-font-size);font-family:var(--x-axis-font-family),monospace!important}ngx-features-viewer .overlay{cursor:var(--overlay-cursor)}ngx-features-viewer text{-webkit-user-select:none;user-select:none}ngx-features-viewer .tooltip{-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:0;display:block;position:fixed;top:0;left:0;white-space:nowrap;z-index:9999999;transition:opacity .2s cubic-bezier(.23,1,.32,1) 0s,visibility .2s cubic-bezier(.23,1,.32,1) 0s,transform .4s cubic-bezier(.23,1,.32,1) 0s;transform:translateZ(0);pointer-events:none;opacity:0;visibility:hidden}
`],encapsulation:2,changeDetection:0});let t=e;return t})();function O9(t,e){t&1&&Kn(0,"i",7)}function L9(t,e){t&1&&Kn(0,"i",8)}function B9(t,e){if(t&1&&Sn(0,O9,1,0,"i",7)(1,L9,1,0),t&2){let n=Vt().trace;Zn(0,n.expanded?0:1)}}function Y9(t,e){if(t&1&&(Ie(0,"div",6)(1,"div"),en(2),Sn(3,B9,2,1),De()()),t&2){let n=e.trace;Ft(),f0("text-muted",(n.nested==null?null:n.nested.length)>0&&!n.expanded),Ft(),Is(" ","\xA0".repeat(n.level),"",n.label," "),Ft(),Zn(3,(n.nested==null?null:n.nested.length)>0?3:-1)}}function U9(t,e){if(t&1){let n=Xo();Ie(0,"div",9)(1,"button",10),Rr("click",function(){Di(n);let i=Vt().trace,o=Vt();return qi(o.test(i))}),en(2),De()()}if(t&2){let n=Vt().trace;Ft(2),Jn("Trace ",n.id,"")}}function V9(t,e){if(t&1){let n=Xo();Ie(0,"div",9)(1,"button",11),Rr("click",function(){Di(n);let i=Vt().trace,o=Vt();return qi(o.test(i))}),en(2),De()()}if(t&2){let n=Vt().trace;Ft(2),Jn("Trace ",n.id,"")}}function H9(t,e){if(t&1&&Sn(0,U9,3,1,"div",9)(1,V9,3,1),t&2){let n=e.trace,r=Vt();Zn(0,r.includes(n)?0:1)}}function W9(t,e){if(t&1&&(Ie(0,"div",12),en(1),De()),t&2){let n=e.feature;Ft(),Jn(" ",n.label," ")}}var X9="MEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQETFSMEEPQSDPSVEPPLSQE",Jd=(()=>{let e=class e{constructor(r){this.themeSelectorService=r,this.settings={"line-height":48,"content-size":32,"background-color":"transparent","plot-background-color":"transparent","grid-line-color":"rgb(213,255,0)","text-color":"black","margin-top":0,"margin-right":90,"margin-bottom":0,"margin-left":270,"sequence-show":!0,"sequence-background-color":void 0,"sequence-background-height":"100%","x-axis-show":!0},this.sequence=X9,this.curvePoints=Array.from({length:240},()=>Math.floor(Math.random()*100)+30),this.traceButtonClicked=null,this.featureSelected=null;let i=this.themeSelectorService.theme$;this.settings$=i.pipe(Mt(()=>document.documentElement.getAttribute("data-bs-theme")),Mt(o=>o==="dark"?zr(Ze({},this.settings),{"background-color":"#272c31","plot-background-color":"#272c31","text-color":"white"}):o==="light"?zr(Ze({},this.settings),{"background-color":"#f3f3f3","plot-background-color":"#efefef","text-color":"black"}):this.settings),Ke(1)),this.traces=[{label:"DSSP Trace",options:{grid:!1,"margin-top":0,"margin-bottom":50,"grid-line-color":"rgb(223, 213, 245)","grid-line-width":1,"grid-y-values":[-1,1],"zero-line":!0,"zero-line-color":"rgb(223, 213, 245)","zero-line-width":1},features:[{label:"feature-1",type:"dssp",color:"red",start:1,end:30,opacity:1,code:"H"},{label:"feature-2",type:"dssp",color:"blue",start:31,end:55,opacity:1,code:"H"},{label:"feature-3",type:"dssp",color:"orange",start:56,end:92,opacity:1,code:"C"},{label:"feature-4",type:"dssp",color:"orange",start:93,end:105,opacity:1,code:"T"},{label:"feature-5",type:"dssp",color:"pink",start:106,end:140,opacity:1,code:"E"},{label:"feature-3",type:"dssp",color:"red",start:141,end:217,opacity:1,code:"C"}]},{label:"Continuous Step",expanded:!1,options:{grid:!0,"grid-line-color":"gray","grid-line-width":.5,"grid-y-values":[65,130],"content-size":100,"margin-top":0,"line-height":100,"zero-line":!0,"zero-line-color":"black","zero-line-width":1},features:[{label:"feature-0",type:"continuous",values:this.curvePoints,min:30,max:130,color:"blue",curveType:"curveStep",opacity:.7,showArea:!0}],nested:[{label:"Continuous Basis",expanded:!1,options:{grid:!0,"grid-line-color":"gray","grid-line-width":.5,"grid-y-values":[65,130],"content-size":100,"margin-top":0,"line-height":100,"zero-line":!0,"zero-line-color":"black","zero-line-width":1},features:[{label:"feature-0",type:"continuous",values:this.curvePoints,min:30,max:130,color:"purple",curveType:"curveBasis",opacity:.3,showArea:!0}],nested:[{label:"Continuous Basis 2",expanded:!0,options:{grid:!0,"grid-line-color":"gray","grid-line-width":.5,"grid-y-values":[65,130],"content-size":100,"margin-top":0,"line-height":100,"zero-line":!0,"zero-line-color":"black","zero-line-width":1},features:[{label:"feature-0",type:"continuous",values:this.curvePoints,min:30,max:130,color:"purple",curveType:"curveBasis",opacity:.3,showArea:!0}]}]},{label:"Continuous Linear No Area",options:{grid:!0,"grid-line-color":"gray","grid-line-width":.5,"grid-y-values":[65,130],"content-size":100,"margin-top":0,"line-height":100,"zero-line":!0,"zero-line-color":"black","zero-line-width":1},features:[{label:"feature-0",type:"continuous",values:this.curvePoints,"stroke-width":2,min:30,max:130,color:"orange",curveType:"curveLinear",opacity:.3,showArea:!1}]}]},{label:"Loci Trace",options:{grid:!1,"margin-top":0,"margin-bottom":0,"content-size":100,"line-height":100,"zero-line":!0,"zero-line-color":"gray","zero-line-width":1},features:[{label:"feature-1",type:"locus",color:"purple",opacity:.5,"text-color":"white","stroke-color":"purple","stroke-width":4,height:40,start:1,end:50},{label:"feature-2",type:"locus",color:"red",opacity:.7,"stroke-color":"firebrick","stroke-width":4,height:40,start:55,end:120},{label:"feature-3",type:"locus",color:"pink",opacity:.7,"stroke-color":"orange","stroke-width":4,height:40,start:140,end:216}]},{label:"Poly Fixed",options:{grid:!1,"margin-top":0,"margin-bottom":0,"content-size":100,"line-height":100,"zero-line":!0,"zero-line-color":"gray","zero-line-width":1},features:[{label:"triangle",type:"poly",color:"blue",opacity:.7,position:5,adjustToWidth:!1,sides:3,radius:30},{label:"square",type:"poly",color:"red",opacity:.7,position:40,adjustToWidth:!1,sides:4,radius:12},{label:"pentagon",type:"poly",color:"yellow",opacity:.7,position:83,adjustToWidth:!1,sides:5,radius:12},{label:"hexagon",type:"poly",color:"green",adjustToWidth:!1,opacity:.7,position:120,sides:6,radius:12},{label:"heptagon",type:"poly",color:"purple",opacity:.7,position:177,adjustToWidth:!1,"stroke-width":2,sides:7,radius:30}],nested:[{label:"Poly Adaptive",options:{grid:!1,"margin-top":0,"margin-bottom":0,"content-size":100,"line-height":100,"zero-line":!0,"zero-line-color":"gray","zero-line-width":1},features:[{label:"triangle",type:"poly",color:"blue",opacity:1,position:5,adjustToWidth:!0,sides:3,radius:30},{label:"square",type:"poly",color:"red",opacity:1,position:40,adjustToWidth:!0,sides:4,radius:12},{label:"pentagon",type:"poly",color:"yellow",opacity:1,position:83,adjustToWidth:!0,sides:5,radius:12},{label:"hexagon",type:"poly",color:"green",adjustToWidth:!0,opacity:1,position:120,sides:6,radius:12},{label:"heptagon",type:"poly",color:"purple",opacity:.5,position:177,adjustToWidth:!0,"stroke-width":2,sides:7,radius:30}]}]},{label:"Pins Fixed",options:{grid:!1,"margin-top":0,"margin-bottom":0,"content-size":100,"line-height":100,"zero-line":!0,"zero-line-color":"gray","zero-line-width":1},features:[{label:"pin-1",type:"pin",color:"blue",opacity:.7,position:5,adjustToWidth:!1,radius:30},{label:"pin-2",type:"pin",color:"red",opacity:.7,position:40,adjustToWidth:!1,radius:12},{label:"pin-3",type:"pin",color:"yellow",opacity:.7,position:83,adjustToWidth:!1,radius:12},{label:"pin-4",type:"pin",color:"green",adjustToWidth:!1,opacity:.7,position:120,radius:12},{label:"pin-5",type:"pin",color:"purple",opacity:.7,position:177,adjustToWidth:!1,"stroke-width":2,radius:30}],nested:[{label:"Pins Adaptive",options:{grid:!1,"margin-top":0,"margin-bottom":0,"content-size":100,"line-height":100,"zero-line":!0,"zero-line-color":"gray","zero-line-width":1},features:[{label:"pin-1",type:"pin",color:"blue",opacity:.7,position:5,adjustToWidth:!0,radius:30},{label:"pin-2",type:"pin",color:"red",opacity:.7,position:40,adjustToWidth:!0,radius:12},{label:"pin-3",type:"pin",color:"yellow",opacity:.7,position:83,adjustToWidth:!0,radius:12},{label:"pin-4",type:"pin",color:"green",adjustToWidth:!0,opacity:.7,position:120,radius:12},{label:"pin-5",type:"pin",color:"purple",opacity:.7,position:177,adjustToWidth:!0,"stroke-width":2,radius:30}]}]}]}updateContentSize(r,i){i&&(this.traces=this.traces.map(o=>(o.label===i&&o.options&&(o.options["content-size"]=+r.target.value),o)))}getTraceContentSize(r){let i=this.traces.find(o=>o.label===r);return i&&i.options?i.options["content-size"]:0}onFeatureSelected(r){this.featureSelected=r||null}onTraceButtonClick(r){this.traceButtonClicked=r.label||"Label not defined"}test(r){console.log(r)}includes(r){return r.label.includes("Trace")}};e.\u0275fac=function(i){return new(i||e)(Pe(p0))},e.\u0275cmp=Rs({type:e,selectors:[["page-features-viewer"]],standalone:!0,features:[Ds],decls:7,vars:5,consts:[[1,"container","pt-3"],[2,"display","block","height","auto","overflow","hidden","width","100%","margin-top","2rem"],[3,"selectedFeature","sequence","traces","settings"],["ngx-features-viewer-label",""],["ngx-features-viewer-label","","where","right"],["ngx-features-viewer-tooltip",""],[1,"d-flex","h-100","w-100","justify-content-start","pe-0","align-items-center","font-monospace"],[1,"bi","bi-caret-down-fill"],[1,"bi","bi-caret-right"],[1,"d-flex","h-100","w-100","justify-content-center","align-items-center","font-monospace"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"tooltipOuter"]],template:function(i,o){i&1&&(Ie(0,"div",0)(1,"div",1)(2,"ngx-features-viewer",2),Pr(3,"async"),Rr("selectedFeature",function(s){return o.onFeatureSelected(s)}),Sn(4,Y9,4,5,"ng-template",3)(5,H9,2,1,"ng-template",4)(6,W9,2,1,"ng-template",5),De()()()),i&2&&(Ft(2),Tn("sequence",o.sequence)("traces",o.traces)("settings",Ir(3,3,o.settings$)))},dependencies:[Uo,Jc,Es,Oi,qs],styles:["ngx-features-viewer[_ngcontent-%COMP%]{--feature-cursor: pointer;--overlay-cursor: col-resize;--feature-hover-color: #00ffa0;--feature-hover-width: 2px;--locus-hover-border-radius: 4px}.tooltipOuter[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-radius:4px;border-color:#fff;white-space:nowrap;box-shadow:#0003 1px 2px 10px;background-color:#fff;color:#666;font:14px/21px sans-serif;padding:10px}"],changeDetection:0});let t=e;return t})();var j9=[{path:"",component:Jd}],sit=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=i0({type:e}),e.\u0275inj=r0({imports:[Es,h0.forChild(j9),Oi,Jd]});let t=e;return t})();export{sit as PageFeaturesViewerModule};
